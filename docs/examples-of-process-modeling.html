<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.4 Examples of Process Modeling | Simulation Modeling using the Kotlin Simulation Library (KSL)</title>
  <meta name="description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="6.4 Examples of Process Modeling | Simulation Modeling using the Kotlin Simulation Library (KSL)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.4 Examples of Process Modeling | Simulation Modeling using the Kotlin Simulation Library (KSL)" />
  
  <meta name="twitter:description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  

<meta name="author" content="Manuel D. Rossetti" />


<meta name="date" content="2025-09-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="understanding-ksl-processes-and-entities.html"/>
<link rel="next" href="modeling-a-stem-career-mixer.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Simulation Modeling using the Kotlin Simulation Library (KSL)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="release-history.html"><a href="release-history.html"><i class="fa fa-check"></i>Release History</a></li>
<li class="chapter" data-level="" data-path="ksl-project-page.html"><a href="ksl-project-page.html"><i class="fa fa-check"></i>KSL Project Page</a></li>
<li class="chapter" data-level="" data-path="book-support-files.html"><a href="book-support-files.html"><i class="fa fa-check"></i>Book Support Files</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="intended-audience.html"><a href="intended-audience.html"><i class="fa fa-check"></i>Intended Audience</a></li>
<li class="chapter" data-level="" data-path="organization-of-the-book.html"><a href="organization-of-the-book.html"><i class="fa fa-check"></i>Organization of the Book</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="ch1.html"><a href="ch1.html"><i class="fa fa-check"></i><b>1</b> Simulation Modeling</a>
<ul>
<li class="chapter" data-level="1.1" data-path="simulation-modeling.html"><a href="simulation-modeling.html"><i class="fa fa-check"></i><b>1.1</b> Simulation Modeling</a></li>
<li class="chapter" data-level="1.2" data-path="why-simulate.html"><a href="why-simulate.html"><i class="fa fa-check"></i><b>1.2</b> Why Simulate?</a></li>
<li class="chapter" data-level="1.3" data-path="types-of-systems-and-simulation-models.html"><a href="types-of-systems-and-simulation-models.html"><i class="fa fa-check"></i><b>1.3</b> Types of Systems and Simulation Models</a></li>
<li class="chapter" data-level="1.4" data-path="simulation-descriptive-or-prescriptive-modeling.html"><a href="simulation-descriptive-or-prescriptive-modeling.html"><i class="fa fa-check"></i><b>1.4</b> Simulation: Descriptive or Prescriptive Modeling?</a></li>
<li class="chapter" data-level="1.5" data-path="randomness-in-simulation.html"><a href="randomness-in-simulation.html"><i class="fa fa-check"></i><b>1.5</b> Randomness in Simulation</a></li>
<li class="chapter" data-level="1.6" data-path="simulation-languages.html"><a href="simulation-languages.html"><i class="fa fa-check"></i><b>1.6</b> Simulation Languages</a></li>
<li class="chapter" data-level="1.7" data-path="ch1secsimMeth.html"><a href="ch1secsimMeth.html"><i class="fa fa-check"></i><b>1.7</b> Simulation Methodology</a></li>
<li class="chapter" data-level="1.8" data-path="overview-of-the-kotlin-simulation-library.html"><a href="overview-of-the-kotlin-simulation-library.html"><i class="fa fa-check"></i><b>1.8</b> Overview of the Kotlin Simulation Library</a></li>
<li class="chapter" data-level="1.9" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>1.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ch2rng.html"><a href="ch2rng.html"><i class="fa fa-check"></i><b>2</b> Modeling Randomness</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ch2generator.html"><a href="ch2generator.html"><i class="fa fa-check"></i><b>2.1</b> Random Number Generator</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="ch2generator.html"><a href="ch2generator.html#ch2randompkg"><i class="fa fa-check"></i><b>2.1.1</b> Random Package</a></li>
<li class="chapter" data-level="2.1.2" data-path="ch2generator.html"><a href="ch2generator.html#ch2creatingStreams"><i class="fa fa-check"></i><b>2.1.2</b> Creating and Using Streams</a></li>
<li class="chapter" data-level="2.1.3" data-path="ch2generator.html"><a href="ch2generator.html#ch2crn"><i class="fa fa-check"></i><b>2.1.3</b> Common Random Numbers</a></li>
<li class="chapter" data-level="2.1.4" data-path="ch2generator.html"><a href="ch2generator.html#ch2antitheticStreams"><i class="fa fa-check"></i><b>2.1.4</b> Creating and Using Antithetic Streams</a></li>
<li class="chapter" data-level="2.1.5" data-path="ch2generator.html"><a href="ch2generator.html#ch2rnFAQ"><i class="fa fa-check"></i><b>2.1.5</b> Frequently Asked Questions about Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rvg.html"><a href="rvg.html"><i class="fa fa-check"></i><b>2.2</b> Random Variate Generation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rvg.html"><a href="rvg.html#basic-random-variate-generation"><i class="fa fa-check"></i><b>2.2.1</b> Basic Random Variate Generation</a></li>
<li class="chapter" data-level="2.2.2" data-path="rvg.html"><a href="rvg.html#rvg_dists"><i class="fa fa-check"></i><b>2.2.2</b> Continuous and Discrete Random Variables</a></li>
<li class="chapter" data-level="2.2.3" data-path="rvg.html"><a href="rvg.html#rvguse"><i class="fa fa-check"></i><b>2.2.3</b> Creating and Using Random Variables</a></li>
<li class="chapter" data-level="2.2.4" data-path="rvg.html"><a href="rvg.html#functions-of-random-variables"><i class="fa fa-check"></i><b>2.2.4</b> Functions of Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="probModels.html"><a href="probModels.html"><i class="fa fa-check"></i><b>2.3</b> Probability Distribution Models</a></li>
<li class="chapter" data-level="2.4" data-path="distFitting.html"><a href="distFitting.html"><i class="fa fa-check"></i><b>2.4</b> Distribution Fitting Using the KSL</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="distFitting.html"><a href="distFitting.html#estimating-distribution-parameters"><i class="fa fa-check"></i><b>2.4.1</b> Estimating Distribution Parameters</a></li>
<li class="chapter" data-level="2.4.2" data-path="distFitting.html"><a href="distFitting.html#continuous-distribution-recommendation-framework"><i class="fa fa-check"></i><b>2.4.2</b> Continuous Distribution Recommendation Framework</a></li>
<li class="chapter" data-level="2.4.3" data-path="distFitting.html"><a href="distFitting.html#discrete-distribution-framework"><i class="fa fa-check"></i><b>2.4.3</b> Discrete Distribution Framework</a></li>
<li class="chapter" data-level="2.4.4" data-path="distFitting.html"><a href="distFitting.html#pdfmexamples"><i class="fa fa-check"></i><b>2.4.4</b> Illustrative Examples from Appendix @ref(appidm)</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>2.5</b> Summary</a></li>
<li class="chapter" data-level="2.6" data-path="exercises-1.html"><a href="exercises-1.html"><i class="fa fa-check"></i><b>2.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mcm.html"><a href="mcm.html"><i class="fa fa-check"></i><b>3</b> Monte Carlo Methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="kslStatistics.html"><a href="kslStatistics.html"><i class="fa fa-check"></i><b>3.1</b> Collecting Statistics</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="kslStatistics.html"><a href="kslStatistics.html#creating-and-using-a-statistic"><i class="fa fa-check"></i><b>3.1.1</b> Creating and Using a Statistic</a></li>
<li class="chapter" data-level="3.1.2" data-path="kslStatistics.html"><a href="kslStatistics.html#histFreq"><i class="fa fa-check"></i><b>3.1.2</b> Histograms and Frequencies</a></li>
<li class="chapter" data-level="3.1.3" data-path="kslStatistics.html"><a href="kslStatistics.html#ch3batchStats"><i class="fa fa-check"></i><b>3.1.3</b> Batch Statistics</a></li>
<li class="chapter" data-level="3.1.4" data-path="kslStatistics.html"><a href="kslStatistics.html#ch3StatSummary"><i class="fa fa-check"></i><b>3.1.4</b> Statistics Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ssMC.html"><a href="ssMC.html"><i class="fa fa-check"></i><b>3.2</b> Simple Monte Carlo Integration</a></li>
<li class="chapter" data-level="3.3" data-path="ch3StatReview.html"><a href="ch3StatReview.html"><i class="fa fa-check"></i><b>3.3</b> Review of Statistical Concepts</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="ch3StatReview.html"><a href="ch3StatReview.html#point-estimates-and-confidence-intervals"><i class="fa fa-check"></i><b>3.3.1</b> Point Estimates and Confidence Intervals</a></li>
<li class="chapter" data-level="3.3.2" data-path="ch3StatReview.html"><a href="ch3StatReview.html#ch3SampleSize"><i class="fa fa-check"></i><b>3.3.2</b> Sample Size Determination</a></li>
<li class="chapter" data-level="3.3.3" data-path="ch3StatReview.html"><a href="ch3StatReview.html#determining-the-sample-size-for-a-monte-carlo-simulation-experiment"><i class="fa fa-check"></i><b>3.3.3</b> Determining the Sample Size for a Monte Carlo Simulation Experiment</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="craps.html"><a href="craps.html"><i class="fa fa-check"></i><b>3.4</b> Simulating the Game of Craps</a></li>
<li class="chapter" data-level="3.5" data-path="the-news-vendor-problem.html"><a href="the-news-vendor-problem.html"><i class="fa fa-check"></i><b>3.5</b> The News Vendor Problem</a></li>
<li class="chapter" data-level="3.6" data-path="ch3InsProcess.html"><a href="ch3InsProcess.html"><i class="fa fa-check"></i><b>3.6</b> A Simple Inspection Process</a></li>
<li class="chapter" data-level="3.7" data-path="ch3SAN.html"><a href="ch3SAN.html"><i class="fa fa-check"></i><b>3.7</b> Stochastic Activity Networks</a></li>
<li class="chapter" data-level="3.8" data-path="mcmExperiments.html"><a href="mcmExperiments.html"><i class="fa fa-check"></i><b>3.8</b> Monte-Carlo Experiments</a></li>
<li class="chapter" data-level="3.9" data-path="summary-1.html"><a href="summary-1.html"><i class="fa fa-check"></i><b>3.9</b> Summary</a></li>
<li class="chapter" data-level="3.10" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i><b>3.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introDEDS.html"><a href="introDEDS.html"><i class="fa fa-check"></i><b>4</b> Introduction to Discrete Event Modeling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introDEDSdeds.html"><a href="introDEDSdeds.html"><i class="fa fa-check"></i><b>4.1</b> Discrete-Event Dynamic Systems</a></li>
<li class="chapter" data-level="4.2" data-path="HowDEDSClockWorks.html"><a href="HowDEDSClockWorks.html"><i class="fa fa-check"></i><b>4.2</b> How the Discrete-Event Clock Works</a></li>
<li class="chapter" data-level="4.3" data-path="QHandExample.html"><a href="QHandExample.html"><i class="fa fa-check"></i><b>4.3</b> Simulating a Queueing System By Hand</a></li>
<li class="chapter" data-level="4.4" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html"><i class="fa fa-check"></i><b>4.4</b> Modeling DEDS in the KSL</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#event-scheduling"><i class="fa fa-check"></i><b>4.4.1</b> Event Scheduling</a></li>
<li class="chapter" data-level="4.4.2" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSschedExamples"><i class="fa fa-check"></i><b>4.4.2</b> Simple Event Scheduling Examples</a></li>
<li class="chapter" data-level="4.4.3" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSUpDown"><i class="fa fa-check"></i><b>4.4.3</b> Up and Down Component Example</a></li>
<li class="chapter" data-level="4.4.4" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSPharmacy"><i class="fa fa-check"></i><b>4.4.4</b> Modeling a Simple Queueing System</a></li>
<li class="chapter" data-level="4.4.5" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#more-details-about-the-pharmacy-model-implementation"><i class="fa fa-check"></i><b>4.4.5</b> More Details About the Pharmacy Model Implementation</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html"><i class="fa fa-check"></i><b>4.5</b> Enhancing the Drive Through Pharmacy Model</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html#modeling-a-simple-resource"><i class="fa fa-check"></i><b>4.5.1</b> Modeling a Simple Resource</a></li>
<li class="chapter" data-level="4.5.2" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html#modeling-a-queue-with-statistical-collection"><i class="fa fa-check"></i><b>4.5.2</b> Modeling a Queue with Statistical Collection</a></li>
<li class="chapter" data-level="4.5.3" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html#modeling-a-repeating-event-pattern"><i class="fa fa-check"></i><b>4.5.3</b> Modeling a Repeating Event Pattern</a></li>
<li class="chapter" data-level="4.5.4" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html#collecting-more-detailed-statistics"><i class="fa fa-check"></i><b>4.5.4</b> Collecting More Detailed Statistics</a></li>
<li class="chapter" data-level="4.5.5" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html#implementing-the-enhanced-pharmacy-model"><i class="fa fa-check"></i><b>4.5.5</b> Implementing the Enhanced Pharmacy Model</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="DTPExpanded.html"><a href="DTPExpanded.html"><i class="fa fa-check"></i><b>4.6</b> More Drive Through Fun</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="DTPExpanded.html"><a href="DTPExpanded.html#modeling-a-resource-with-a-waiting-line"><i class="fa fa-check"></i><b>4.6.1</b> Modeling a Resource with a Waiting Line</a></li>
<li class="chapter" data-level="4.6.2" data-path="DTPExpanded.html"><a href="DTPExpanded.html#modeling-the-tandem-queue-of-example-refexmexch4tandemq"><i class="fa fa-check"></i><b>4.6.2</b> Modeling the Tandem Queue of Example @ref(exm:exCh4TandemQ)</a></li>
<li class="chapter" data-level="4.6.3" data-path="DTPExpanded.html"><a href="DTPExpanded.html#modeling-with-the-station-package"><i class="fa fa-check"></i><b>4.6.3</b> Modeling with the Station Package</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="introDEDSSummary.html"><a href="introDEDSSummary.html"><i class="fa fa-check"></i><b>4.7</b> Summary</a></li>
<li class="chapter" data-level="4.8" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i><b>4.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simoa.html"><a href="simoa.html"><i class="fa fa-check"></i><b>5</b> Analyzing and Accessing Simulation Output</a>
<ul>
<li class="chapter" data-level="5.1" data-path="simoadatatypes.html"><a href="simoadatatypes.html"><i class="fa fa-check"></i><b>5.1</b> Types of Statistical Variables</a></li>
<li class="chapter" data-level="5.2" data-path="simoasimtypes.html"><a href="simoasimtypes.html"><i class="fa fa-check"></i><b>5.2</b> Types of Simulation With Respect To Output Analysis</a></li>
<li class="chapter" data-level="5.3" data-path="simoafinhorizon.html"><a href="simoafinhorizon.html"><i class="fa fa-check"></i><b>5.3</b> Analysis of Finite Horizon Simulations</a></li>
<li class="chapter" data-level="5.4" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html"><i class="fa fa-check"></i><b>5.4</b> Capturing Output for a Simple Finite Horizon Simulation</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#simoaCapture"><i class="fa fa-check"></i><b>5.4.1</b> KSL Functionality for Capturing Statistical Results</a></li>
<li class="chapter" data-level="5.4.2" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#additional-remarks"><i class="fa fa-check"></i><b>5.4.2</b> Additional Remarks</a></li>
<li class="chapter" data-level="5.4.3" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#querying-the-ksl-database"><i class="fa fa-check"></i><b>5.4.3</b> Querying the KSL Database</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="simoaseqsampling.html"><a href="simoaseqsampling.html"><i class="fa fa-check"></i><b>5.5</b> Sequential Sampling for Finite Horizon Simulations</a></li>
<li class="chapter" data-level="5.6" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html"><i class="fa fa-check"></i><b>5.6</b> Analysis of Infinite Horizon Simulations</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizoninitialbias"><i class="fa fa-check"></i><b>5.6.1</b> Assessing the Effect of Initial Conditions</a></li>
<li class="chapter" data-level="5.6.2" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonrepDeletion"><i class="fa fa-check"></i><b>5.6.2</b> Performing the Method of Replication-Deletion</a></li>
<li class="chapter" data-level="5.6.3" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonbatchmeans"><i class="fa fa-check"></i><b>5.6.3</b> The Method of Batch Means</a></li>
<li class="chapter" data-level="5.6.4" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonjslbatching"><i class="fa fa-check"></i><b>5.6.4</b> Performing the Method of Batch Means</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html"><i class="fa fa-check"></i><b>5.7</b> Comparing System Configurations</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#simoacomparingSystems:two"><i class="fa fa-check"></i><b>5.7.1</b> Comparing Two Systems</a></li>
<li class="chapter" data-level="5.7.2" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#simoacomparingSystemsMCB"><i class="fa fa-check"></i><b>5.7.2</b> Concepts for Comparing Systems</a></li>
<li class="chapter" data-level="5.7.3" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#multiple-comparison-with-the-best-procedures-mcb"><i class="fa fa-check"></i><b>5.7.3</b> Multiple Comparison with the Best Procedures (MCB)</a></li>
<li class="chapter" data-level="5.7.4" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#ch5Screening"><i class="fa fa-check"></i><b>5.7.4</b> Screening Procedures</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html"><i class="fa fa-check"></i><b>5.8</b> Simulating Many Scenarios</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#controlAntns"><i class="fa fa-check"></i><b>5.8.1</b> Control Annotations</a></li>
<li class="chapter" data-level="5.8.2" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#rvParameters"><i class="fa fa-check"></i><b>5.8.2</b> Random Variable Parameters</a></li>
<li class="chapter" data-level="5.8.3" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#kslScenarios"><i class="fa fa-check"></i><b>5.8.3</b> Setting Up and Running Multiple Scenarios</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="simoasummary.html"><a href="simoasummary.html"><i class="fa fa-check"></i><b>5.9</b> Summary</a></li>
<li class="chapter" data-level="5.10" data-path="exercises-4.html"><a href="exercises-4.html"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="processview.html"><a href="processview.html"><i class="fa fa-check"></i><b>6</b> Process View Modeling Using the KSL</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ch6Entities.html"><a href="ch6Entities.html"><i class="fa fa-check"></i><b>6.1</b> What are Entities?</a></li>
<li class="chapter" data-level="6.2" data-path="pvIntro.html"><a href="pvIntro.html"><i class="fa fa-check"></i><b>6.2</b> The Process View</a></li>
<li class="chapter" data-level="6.3" data-path="understanding-ksl-processes-and-entities.html"><a href="understanding-ksl-processes-and-entities.html"><i class="fa fa-check"></i><b>6.3</b> Understanding KSL Processes and Entities</a></li>
<li class="chapter" data-level="6.4" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html"><i class="fa fa-check"></i><b>6.4</b> Examples of Process Modeling</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html#holding-entities-in-a-queue-holdqueue-class"><i class="fa fa-check"></i><b>6.4.1</b> Holding Entities in a Queue: <code>HoldQueue</code> Class</a></li>
<li class="chapter" data-level="6.4.2" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html#signaling-entities"><i class="fa fa-check"></i><b>6.4.2</b> Signaling Entities</a></li>
<li class="chapter" data-level="6.4.3" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html#understanding-blocking-queues"><i class="fa fa-check"></i><b>6.4.3</b> Understanding Blocking Queues</a></li>
<li class="chapter" data-level="6.4.4" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html#allowing-entities-to-wait-for-a-process"><i class="fa fa-check"></i><b>6.4.4</b> Allowing Entities to Wait for a Process</a></li>
<li class="chapter" data-level="6.4.5" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html#processinteraction"><i class="fa fa-check"></i><b>6.4.5</b> Process Interaction</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html"><i class="fa fa-check"></i><b>6.5</b> Modeling a STEM Career Mixer</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html#conceptualizing-the-system"><i class="fa fa-check"></i><b>6.5.1</b> Conceptualizing the System</a></li>
<li class="chapter" data-level="6.5.2" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html#implementing-the-stem-mixer-model"><i class="fa fa-check"></i><b>6.5.2</b> Implementing the STEM Mixer Model</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="the-tie-dye-t-shirt-model.html"><a href="the-tie-dye-t-shirt-model.html"><i class="fa fa-check"></i><b>6.6</b> The Tie-Dye T-Shirt Model</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="the-tie-dye-t-shirt-model.html"><a href="the-tie-dye-t-shirt-model.html#ch4:TieDyeTShirtsSub1"><i class="fa fa-check"></i><b>6.6.1</b> Implementing the Tie-Dye T-Shirt Model</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="summary-2.html"><a href="summary-2.html"><i class="fa fa-check"></i><b>6.7</b> Summary</a></li>
<li class="chapter" data-level="6.8" data-path="exercises-5.html"><a href="exercises-5.html"><i class="fa fa-check"></i><b>6.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ch7AdvModeling.html"><a href="ch7AdvModeling.html"><i class="fa fa-check"></i><b>7</b> Advanced Event and Process View Modeling</a>
<ul>
<li class="chapter" data-level="7.1" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html"><i class="fa fa-check"></i><b>7.1</b> Modeling with Processes and Resources</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#modeling-space-with-resources"><i class="fa fa-check"></i><b>7.1.1</b> Modeling Space with Resources</a></li>
<li class="chapter" data-level="7.1.2" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#secResourcePools"><i class="fa fa-check"></i><b>7.1.2</b> Resource Pools</a></li>
<li class="chapter" data-level="7.1.3" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#secTestAndRepair"><i class="fa fa-check"></i><b>7.1.3</b> Computer Test and Repair Shop Example</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html"><i class="fa fa-check"></i><b>7.2</b> Modeling Non-Stationary Systems</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#ch7secNSPP"><i class="fa fa-check"></i><b>7.2.1</b> Non-Stationary Arrival Processes</a></li>
<li class="chapter" data-level="7.2.2" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#modeling-resources-under-non-stationary-conditions"><i class="fa fa-check"></i><b>7.2.2</b> Modeling Resources Under Non-Stationary Conditions</a></li>
<li class="chapter" data-level="7.2.3" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#enhancing-the-stem-career-mixer-model"><i class="fa fa-check"></i><b>7.2.3</b> Enhancing the STEM Career Mixer Model</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html"><i class="fa fa-check"></i><b>7.3</b> Examples of Advanced Event Models</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html#ch6s1sb4sub3"><i class="fa fa-check"></i><b>7.3.1</b> Modeling Balking and Reneging</a></li>
<li class="chapter" data-level="7.3.2" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html#rqModel"><i class="fa fa-check"></i><b>7.3.2</b> Modeling a Reorder Point, Reorder Quantity Inventory Policy</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="ch7VandV.html"><a href="ch7VandV.html"><i class="fa fa-check"></i><b>7.4</b> Applying Queueing Theory Results to Verify and Validate a Simulation</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="ch7VandV.html"><a href="ch7VandV.html#analyzing-the-preparation-station"><i class="fa fa-check"></i><b>7.4.1</b> Analyzing the Preparation Station</a></li>
<li class="chapter" data-level="7.4.2" data-path="ch7VandV.html"><a href="ch7VandV.html#analyzing-the-build-lines"><i class="fa fa-check"></i><b>7.4.2</b> Analyzing the Build Lines</a></li>
<li class="chapter" data-level="7.4.3" data-path="ch7VandV.html"><a href="ch7VandV.html#analyzing-the-packaging-station"><i class="fa fa-check"></i><b>7.4.3</b> Analyzing the Packaging Station</a></li>
<li class="chapter" data-level="7.4.4" data-path="ch7VandV.html"><a href="ch7VandV.html#analyzing-the-palletizing-station"><i class="fa fa-check"></i><b>7.4.4</b> Analyzing the Palletizing Station</a></li>
<li class="chapter" data-level="7.4.5" data-path="ch7VandV.html"><a href="ch7VandV.html#analyzing-the-total-system-time"><i class="fa fa-check"></i><b>7.4.5</b> Analyzing the Total System Time</a></li>
<li class="chapter" data-level="7.4.6" data-path="ch7VandV.html"><a href="ch7VandV.html#other-issues-for-verification-and-validation"><i class="fa fa-check"></i><b>7.4.6</b> Other Issues for Verification and Validation</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="summary-3.html"><a href="summary-3.html"><i class="fa fa-check"></i><b>7.5</b> Summary</a></li>
<li class="chapter" data-level="7.6" data-path="exercises-6.html"><a href="exercises-6.html"><i class="fa fa-check"></i><b>7.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chEntityMovement.html"><a href="chEntityMovement.html"><i class="fa fa-check"></i><b>8</b> Modeling Entity Movement</a>
<ul>
<li class="chapter" data-level="8.1" data-path="secRCT.html"><a href="secRCT.html"><i class="fa fa-check"></i><b>8.1</b> Resource Constrained Transfer</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="secRCT.html"><a href="secRCT.html#secTestRepairRCT"><i class="fa fa-check"></i><b>8.1.1</b> Test and Repair with Resource Constrained Transfer</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="movableResources.html"><a href="movableResources.html"><i class="fa fa-check"></i><b>8.2</b> Constrained Transfer with Movable Resources</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="movableResources.html"><a href="movableResources.html#spatial-models"><i class="fa fa-check"></i><b>8.2.1</b> Spatial Models</a></li>
<li class="chapter" data-level="8.2.2" data-path="movableResources.html"><a href="movableResources.html#secMovableResources"><i class="fa fa-check"></i><b>8.2.2</b> Movable Resources</a></li>
<li class="chapter" data-level="8.2.3" data-path="movableResources.html"><a href="movableResources.html#secTQMWM"><i class="fa fa-check"></i><b>8.2.3</b> Tandem Queue Model With Movement</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="secTestAndRepairMovableResources.html"><a href="secTestAndRepairMovableResources.html"><i class="fa fa-check"></i><b>8.3</b> Modeling the Test and Repair System with Movable Resources</a></li>
<li class="chapter" data-level="8.4" data-path="secConveyors.html"><a href="secConveyors.html"><i class="fa fa-check"></i><b>8.4</b> Modeling Systems with Conveyors</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="secConveyors.html"><a href="secConveyors.html#ksl-conveyor-constructs"><i class="fa fa-check"></i><b>8.4.1</b> KSL Conveyor Constructs</a></li>
<li class="chapter" data-level="8.4.2" data-path="secConveyors.html"><a href="secConveyors.html#tandem-queue-system-with-conveyors"><i class="fa fa-check"></i><b>8.4.2</b> Tandem Queue System with Conveyors</a></li>
<li class="chapter" data-level="8.4.3" data-path="secConveyors.html"><a href="secConveyors.html#secTestAndRepairConveyors"><i class="fa fa-check"></i><b>8.4.3</b> Test and Repair via Conveyors</a></li>
<li class="chapter" data-level="8.4.4" data-path="secConveyors.html"><a href="secConveyors.html#secMiscConveyor"><i class="fa fa-check"></i><b>8.4.4</b> Miscellaneous Concepts in Conveyor Modeling</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="summary-of-new-concepts.html"><a href="summary-of-new-concepts.html"><i class="fa fa-check"></i><b>8.5</b> Summary of New Concepts</a></li>
<li class="chapter" data-level="8.6" data-path="exercises-7.html"><a href="exercises-7.html"><i class="fa fa-check"></i><b>8.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ch9AdvMC.html"><a href="ch9AdvMC.html"><i class="fa fa-check"></i><b>9</b> Advanced Monte Carlo Methods</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ch9BootStrapping.html"><a href="ch9BootStrapping.html"><i class="fa fa-check"></i><b>9.1</b> Bootstrap Methods</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="ch9BootStrapping.html"><a href="ch9BootStrapping.html#bootstrapping-using-the-ksl"><i class="fa fa-check"></i><b>9.1.1</b> Bootstrapping Using the KSL</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="ch9VRTs.html"><a href="ch9VRTs.html"><i class="fa fa-check"></i><b>9.2</b> Variance Reduction Techniques</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="ch9VRTs.html"><a href="ch9VRTs.html#common-random-numbers-crn"><i class="fa fa-check"></i><b>9.2.1</b> Common Random Numbers (CRN)</a></li>
<li class="chapter" data-level="9.2.2" data-path="ch9VRTs.html"><a href="ch9VRTs.html#antithetic-variates-av"><i class="fa fa-check"></i><b>9.2.2</b> Antithetic Variates (AV)</a></li>
<li class="chapter" data-level="9.2.3" data-path="ch9VRTs.html"><a href="ch9VRTs.html#indirect-estimation"><i class="fa fa-check"></i><b>9.2.3</b> Indirect Estimation</a></li>
<li class="chapter" data-level="9.2.4" data-path="ch9VRTs.html"><a href="ch9VRTs.html#control-variates-cv"><i class="fa fa-check"></i><b>9.2.4</b> Control Variates (CV)</a></li>
<li class="chapter" data-level="9.2.5" data-path="ch9VRTs.html"><a href="ch9VRTs.html#stratified-and-post-stratified-sampling"><i class="fa fa-check"></i><b>9.2.5</b> Stratified and Post Stratified Sampling</a></li>
<li class="chapter" data-level="9.2.6" data-path="ch9VRTs.html"><a href="ch9VRTs.html#conditional-expectation-ce"><i class="fa fa-check"></i><b>9.2.6</b> Conditional Expectation (CE)</a></li>
<li class="chapter" data-level="9.2.7" data-path="ch9VRTs.html"><a href="ch9VRTs.html#importance-sampling-is"><i class="fa fa-check"></i><b>9.2.7</b> Importance Sampling (IS)</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html"><i class="fa fa-check"></i><b>9.3</b> Generating Multi-Variate and Correlated Random Variates</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#generating-from-a-bivariate-normal-distribution"><i class="fa fa-check"></i><b>9.3.1</b> Generating from a Bivariate Normal Distribution</a></li>
<li class="chapter" data-level="9.3.2" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#copulas-and-multi-variate-generation-methods"><i class="fa fa-check"></i><b>9.3.2</b> Copulas and Multi-variate Generation Methods</a></li>
<li class="chapter" data-level="9.3.3" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#autocorrelated-generation"><i class="fa fa-check"></i><b>9.3.3</b> Autocorrelated Generation</a></li>
<li class="chapter" data-level="9.3.4" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#ch9MCMC"><i class="fa fa-check"></i><b>9.3.4</b> Introduction to Markov Chain Monte Carlo Methods</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="summary-4.html"><a href="summary-4.html"><i class="fa fa-check"></i><b>9.4</b> Summary</a></li>
<li class="chapter" data-level="9.5" data-path="exercises-8.html"><a href="exercises-8.html"><i class="fa fa-check"></i><b>9.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="ch10eo.html"><a href="ch10eo.html"><i class="fa fa-check"></i><b>10</b> Experimental Design and Simulation Optimization Methods</a>
<ul>
<li class="chapter" data-level="10.1" data-path="ch10doe.html"><a href="ch10doe.html"><i class="fa fa-check"></i><b>10.1</b> Experimental Design Methods</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="ch10doe.html"><a href="ch10doe.html#ch10factors"><i class="fa fa-check"></i><b>10.1.1</b> Defining Factors</a></li>
<li class="chapter" data-level="10.1.2" data-path="ch10doe.html"><a href="ch10doe.html#ch10designs"><i class="fa fa-check"></i><b>10.1.2</b> Defining Experimental Designs</a></li>
<li class="chapter" data-level="10.1.3" data-path="ch10doe.html"><a href="ch10doe.html#ch10exp"><i class="fa fa-check"></i><b>10.1.3</b> Executing a Designed Experiment</a></li>
<li class="chapter" data-level="10.1.4" data-path="ch10doe.html"><a href="ch10doe.html#ch10analysis"><i class="fa fa-check"></i><b>10.1.4</b> Analyzing a Designed Experiment</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="ch10simOpt.html"><a href="ch10simOpt.html"><i class="fa fa-check"></i><b>10.2</b> Simulation Optimization Methods</a></li>
<li class="chapter" data-level="10.3" data-path="ch10ProbDefn.html"><a href="ch10ProbDefn.html"><i class="fa fa-check"></i><b>10.3</b> Defining Simulation Optimization Problems</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="ch10ProbDefn.html"><a href="ch10ProbDefn.html#specifying-penalty-functions"><i class="fa fa-check"></i><b>10.3.1</b> Specifying Penalty Functions</a></li>
<li class="chapter" data-level="10.3.2" data-path="ch10ProbDefn.html"><a href="ch10ProbDefn.html#inputvariables"><i class="fa fa-check"></i><b>10.3.2</b> Defining Input Variables</a></li>
<li class="chapter" data-level="10.3.3" data-path="ch10ProbDefn.html"><a href="ch10ProbDefn.html#linear-and-functional-constraints"><i class="fa fa-check"></i><b>10.3.3</b> Linear and Functional Constraints</a></li>
<li class="chapter" data-level="10.3.4" data-path="ch10ProbDefn.html"><a href="ch10ProbDefn.html#response-constraints"><i class="fa fa-check"></i><b>10.3.4</b> Response Constraints</a></li>
<li class="chapter" data-level="10.3.5" data-path="ch10ProbDefn.html"><a href="ch10ProbDefn.html#ch10ProbDefnExample"><i class="fa fa-check"></i><b>10.3.5</b> Setting Up a Problem Definition</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="representing-the-simulation-oracle.html"><a href="representing-the-simulation-oracle.html"><i class="fa fa-check"></i><b>10.4</b> Representing the Simulation Oracle</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="representing-the-simulation-oracle.html"><a href="representing-the-simulation-oracle.html#requesting-simulation-evaluations"><i class="fa fa-check"></i><b>10.4.1</b> Requesting Simulation Evaluations</a></li>
<li class="chapter" data-level="10.4.2" data-path="representing-the-simulation-oracle.html"><a href="representing-the-simulation-oracle.html#representing-model-inputs"><i class="fa fa-check"></i><b>10.4.2</b> Representing Model Inputs</a></li>
<li class="chapter" data-level="10.4.3" data-path="representing-the-simulation-oracle.html"><a href="representing-the-simulation-oracle.html#representing-model-outputs"><i class="fa fa-check"></i><b>10.4.3</b> Representing Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="characterizing-simulation-optimization-algorithms.html"><a href="characterizing-simulation-optimization-algorithms.html"><i class="fa fa-check"></i><b>10.5</b> Characterizing Simulation Optimization Algorithms</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="characterizing-simulation-optimization-algorithms.html"><a href="characterizing-simulation-optimization-algorithms.html#structure-of-the-iterative-process"><i class="fa fa-check"></i><b>10.5.1</b> Structure of the Iterative Process</a></li>
<li class="chapter" data-level="10.5.2" data-path="characterizing-simulation-optimization-algorithms.html"><a href="characterizing-simulation-optimization-algorithms.html#solver-plug-in-behavior"><i class="fa fa-check"></i><b>10.5.2</b> Solver Plug-in Behavior</a></li>
<li class="chapter" data-level="10.5.3" data-path="characterizing-simulation-optimization-algorithms.html"><a href="characterizing-simulation-optimization-algorithms.html#miscellaneous-concepts-in-the-solver-class"><i class="fa fa-check"></i><b>10.5.3</b> Miscellaneous Concepts in the <code>Solver</code> Class</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="implemented-solvers.html"><a href="implemented-solvers.html"><i class="fa fa-check"></i><b>10.6</b> Implemented Solvers</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="implemented-solvers.html"><a href="implemented-solvers.html#simulated-annealing"><i class="fa fa-check"></i><b>10.6.1</b> Simulated Annealing</a></li>
<li class="chapter" data-level="10.6.2" data-path="implemented-solvers.html"><a href="implemented-solvers.html#cross-entropy"><i class="fa fa-check"></i><b>10.6.2</b> Cross Entropy</a></li>
<li class="chapter" data-level="10.6.3" data-path="implemented-solvers.html"><a href="implemented-solvers.html#r-spline"><i class="fa fa-check"></i><b>10.6.3</b> R-SPLINE</a></li>
<li class="chapter" data-level="10.6.4" data-path="implemented-solvers.html"><a href="implemented-solvers.html#randomized-restart-solvers"><i class="fa fa-check"></i><b>10.6.4</b> Randomized Restart Solvers</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="secApplySolver.html"><a href="secApplySolver.html"><i class="fa fa-check"></i><b>10.7</b> Using a Solver on a Problem</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="secApplySolver.html"><a href="secApplySolver.html#applyCE"><i class="fa fa-check"></i><b>10.7.1</b> Illustrating the Cross-Entropy Solver</a></li>
<li class="chapter" data-level="10.7.2" data-path="secApplySolver.html"><a href="secApplySolver.html#illustrating-simulated-annealing-with-random-restarts"><i class="fa fa-check"></i><b>10.7.2</b> Illustrating Simulated Annealing with Random Restarts</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="summary-5.html"><a href="summary-5.html"><i class="fa fa-check"></i><b>10.8</b> Summary</a></li>
<li class="chapter" data-level="10.9" data-path="exercises-9.html"><a href="exercises-9.html"><i class="fa fa-check"></i><b>10.9</b> Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appRNRV.html"><a href="appRNRV.html"><i class="fa fa-check"></i><b>A</b> Generating Pseudo-Random Numbers and Random Variates</a>
<ul>
<li class="chapter" data-level="A.1" data-path="appRNRVPRN.html"><a href="appRNRVPRN.html"><i class="fa fa-check"></i><b>A.1</b> Pseudo Random Numbers</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="appRNRVPRN.html"><a href="appRNRVPRN.html#appRNRVRNGs"><i class="fa fa-check"></i><b>A.1.1</b> Random Number Generators</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="appRNRVs.html"><a href="appRNRVs.html"><i class="fa fa-check"></i><b>A.2</b> Generating Random Variates from Distributions</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="appRNRVs.html"><a href="appRNRVs.html#inverse-transform-method"><i class="fa fa-check"></i><b>A.2.1</b> Inverse Transform Method</a></li>
<li class="chapter" data-level="A.2.2" data-path="appRNRVs.html"><a href="appRNRVs.html#convolution"><i class="fa fa-check"></i><b>A.2.2</b> Convolution</a></li>
<li class="chapter" data-level="A.2.3" data-path="appRNRVs.html"><a href="appRNRVs.html#acceptancerejection"><i class="fa fa-check"></i><b>A.2.3</b> Acceptance/Rejection</a></li>
<li class="chapter" data-level="A.2.4" data-path="appRNRVs.html"><a href="appRNRVs.html#AppRNRVsubsecMTSRV"><i class="fa fa-check"></i><b>A.2.4</b> Mixture Distributions, Truncated Distributions, and Shifted Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="summary-6.html"><a href="summary-6.html"><i class="fa fa-check"></i><b>A.3</b> Summary</a></li>
<li class="chapter" data-level="A.4" data-path="exercises-10.html"><a href="exercises-10.html"><i class="fa fa-check"></i><b>A.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appidm.html"><a href="appidm.html"><i class="fa fa-check"></i><b>B</b> Probability Distribution Modeling</a>
<ul>
<li class="chapter" data-level="B.1" data-path="appidmsecrvPD.html"><a href="appidmsecrvPD.html"><i class="fa fa-check"></i><b>B.1</b> Random Variables and Probability Distributions</a></li>
<li class="chapter" data-level="B.2" data-path="appidmsecMDD.html"><a href="appidmsecMDD.html"><i class="fa fa-check"></i><b>B.2</b> Modeling with Discrete Distributions</a></li>
<li class="chapter" data-level="B.3" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html"><i class="fa fa-check"></i><b>B.3</b> Fitting Discrete Distributions</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#AppDisFitPoissonFit"><i class="fa fa-check"></i><b>B.3.1</b> Fitting a Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.2" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#visualizing-the-data"><i class="fa fa-check"></i><b>B.3.2</b> Visualizing the Data</a></li>
<li class="chapter" data-level="B.3.3" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#estimating-the-rate-parameter-for-the-poisson-distribution"><i class="fa fa-check"></i><b>B.3.3</b> Estimating the Rate Parameter for the Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.4" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#chi-squared-goodness-of-fit-test-for-poisson-distribution"><i class="fa fa-check"></i><b>B.3.4</b> Chi-Squared Goodness of Fit Test for Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.5" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#subsubchisqGOF"><i class="fa fa-check"></i><b>B.3.5</b> Chi-Squared Goodness of Fit Test</a></li>
<li class="chapter" data-level="B.3.6" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#using-the-fitdistrplus-r-package-on-discrete-data"><i class="fa fa-check"></i><b>B.3.6</b> Using the fitdistrplus R Package on Discrete Data</a></li>
<li class="chapter" data-level="B.3.7" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#fitting-a-discrete-empirical-distribution"><i class="fa fa-check"></i><b>B.3.7</b> Fitting a Discrete Empirical Distribution</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="appidmsecMCD.html"><a href="appidmsecMCD.html"><i class="fa fa-check"></i><b>B.4</b> Modeling with Continuous Distributions</a></li>
<li class="chapter" data-level="B.5" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html"><i class="fa fa-check"></i><b>B.5</b> Fitting Continuous Distributions</a>
<ul>
<li class="chapter" data-level="B.5.1" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecvisualizedata"><i class="fa fa-check"></i><b>B.5.1</b> Visualizing the Data</a></li>
<li class="chapter" data-level="B.5.2" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecstatsdata"><i class="fa fa-check"></i><b>B.5.2</b> Statistically Summarize the Data</a></li>
<li class="chapter" data-level="B.5.3" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsechypothDist"><i class="fa fa-check"></i><b>B.5.3</b> Hypothesizing and Testing a Distribution</a></li>
<li class="chapter" data-level="B.5.4" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#kolmogorov-smirnov-test"><i class="fa fa-check"></i><b>B.5.4</b> Kolmogorov-Smirnov Test</a></li>
<li class="chapter" data-level="B.5.5" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecvisFit"><i class="fa fa-check"></i><b>B.5.5</b> Visualizing the Fit</a></li>
<li class="chapter" data-level="B.5.6" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidms2sb3"><i class="fa fa-check"></i><b>B.5.6</b> Using the Input Analyzer</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html"><i class="fa fa-check"></i><b>B.6</b> Testing Uniform (0,1) Pseudo-Random Numbers</a>
<ul>
<li class="chapter" data-level="B.6.1" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#chi-squared-goodness-of-fit-tests-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.1</b> Chi-Squared Goodness of Fit Tests for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="B.6.2" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#higher-dimensional-chi-squared-test"><i class="fa fa-check"></i><b>B.6.2</b> Higher Dimensional Chi-Squared Test</a></li>
<li class="chapter" data-level="B.6.3" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#kolmogorov-smirnov-test-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.3</b> Kolmogorov-Smirnov Test for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="B.6.4" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#testing-for-independence-and-patterns-in-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.4</b> Testing for Independence and Patterns in Pseudo-Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="B.7" data-path="appdistfitidms2sb4.html"><a href="appdistfitidms2sb4.html"><i class="fa fa-check"></i><b>B.7</b> Additional Distribution Modeling Concepts</a></li>
<li class="chapter" data-level="B.8" data-path="appidmSummary.html"><a href="appidmSummary.html"><i class="fa fa-check"></i><b>B.8</b> Summary</a></li>
<li class="chapter" data-level="B.9" data-path="exercises-11.html"><a href="exercises-11.html"><i class="fa fa-check"></i><b>B.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="appqtAndInvT.html"><a href="appqtAndInvT.html"><i class="fa fa-check"></i><b>C</b> Queueing Theory</a>
<ul>
<li class="chapter" data-level="C.1" data-path="appqts1.html"><a href="appqts1.html"><i class="fa fa-check"></i><b>C.1</b> Single Line Queueing Stations</a>
<ul>
<li class="chapter" data-level="C.1.1" data-path="appqts1.html"><a href="appqts1.html#queueing-notation"><i class="fa fa-check"></i><b>C.1.1</b> Queueing Notation</a></li>
<li class="chapter" data-level="C.1.2" data-path="appqts1.html"><a href="appqts1.html#littles-formula"><i class="fa fa-check"></i><b>C.1.2</b> Littles Formula</a></li>
<li class="chapter" data-level="C.1.3" data-path="appqts1.html"><a href="appqts1.html#appqts1sb1"><i class="fa fa-check"></i><b>C.1.3</b> Deriving Formulas for Markovian Single Queue Systems</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="appqts1sb2.html"><a href="appqts1sb2.html"><i class="fa fa-check"></i><b>C.2</b> Examples and Applications of Queueing Analysis</a>
<ul>
<li class="chapter" data-level="C.2.1" data-path="appqts1sb2.html"><a href="appqts1sb2.html#infinite-queue-examples"><i class="fa fa-check"></i><b>C.2.1</b> Infinite Queue Examples</a></li>
<li class="chapter" data-level="C.2.2" data-path="appqts1sb2.html"><a href="appqts1sb2.html#finite-queue-examples"><i class="fa fa-check"></i><b>C.2.2</b> Finite Queue Examples</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="appqts1sb3.html"><a href="appqts1sb3.html"><i class="fa fa-check"></i><b>C.3</b> Non-Markovian Queues and Approximations</a></li>
<li class="chapter" data-level="C.4" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html"><i class="fa fa-check"></i><b>C.4</b> Summary of Queueing Formulas</a>
<ul>
<li class="chapter" data-level="C.4.1" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1-queue"><i class="fa fa-check"></i><b>C.4.1</b> M/M/1 Queue</a></li>
<li class="chapter" data-level="C.4.2" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmc-queue"><i class="fa fa-check"></i><b>C.4.2</b> M/M/c Queue</a></li>
<li class="chapter" data-level="C.4.3" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmck-queue"><i class="fa fa-check"></i><b>C.4.3</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="C.4.4" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mgcc-queue"><i class="fa fa-check"></i><b>C.4.4</b> M/G/c/c Queue</a></li>
<li class="chapter" data-level="C.4.5" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1k-queue"><i class="fa fa-check"></i><b>C.4.5</b> M/M/1/k Queue</a></li>
<li class="chapter" data-level="C.4.6" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmck-queue-1"><i class="fa fa-check"></i><b>C.4.6</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="C.4.7" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1kk-queue"><i class="fa fa-check"></i><b>C.4.7</b> M/M/1/k/k Queue</a></li>
<li class="chapter" data-level="C.4.8" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmckk-queue"><i class="fa fa-check"></i><b>C.4.8</b> M/M/c/k/k Queue</a></li>
</ul></li>
<li class="chapter" data-level="C.5" data-path="exercises-12.html"><a href="exercises-12.html"><i class="fa fa-check"></i><b>C.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="appUtilities.html"><a href="appUtilities.html"><i class="fa fa-check"></i><b>D</b> KSL Utility Packages</a>
<ul>
<li class="chapter" data-level="D.1" data-path="the-outputdirectory-class-and-ksl-object.html"><a href="the-outputdirectory-class-and-ksl-object.html"><i class="fa fa-check"></i><b>D.1</b> The <code>OutputDirectory</code> Class and <code>KSL</code> Object</a></li>
<li class="chapter" data-level="D.2" data-path="logging-options.html"><a href="logging-options.html"><i class="fa fa-check"></i><b>D.2</b> Logging Options</a></li>
<li class="chapter" data-level="D.3" data-path="the-kslfileutil-object.html"><a href="the-kslfileutil-object.html"><i class="fa fa-check"></i><b>D.3</b> The <code>KSLFileUtil</code> Object</a></li>
<li class="chapter" data-level="D.4" data-path="appDCSVEtc.html"><a href="appDCSVEtc.html"><i class="fa fa-check"></i><b>D.4</b> CSV, Excel, and Tabular Data Files</a></li>
<li class="chapter" data-level="D.5" data-path="dfUtil.html"><a href="dfUtil.html"><i class="fa fa-check"></i><b>D.5</b> The <code>DataFrameUtil</code> Object</a></li>
<li class="chapter" data-level="D.6" data-path="ksl-database-utilities.html"><a href="ksl-database-utilities.html"><i class="fa fa-check"></i><b>D.6</b> KSL Database Utilities</a></li>
<li class="chapter" data-level="D.7" data-path="appUtilitiesArrays.html"><a href="appUtilitiesArrays.html"><i class="fa fa-check"></i><b>D.7</b> Array Utilities</a></li>
<li class="chapter" data-level="D.8" data-path="appPlotting.html"><a href="appPlotting.html"><i class="fa fa-check"></i><b>D.8</b> KSL Plotting Utilities</a></li>
<li class="chapter" data-level="D.9" data-path="appUtilitiesMisc.html"><a href="appUtilitiesMisc.html"><i class="fa fa-check"></i><b>D.9</b> Miscellaneous Utilities</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>E</b> Distributions</a>
<ul>
<li class="chapter" data-level="E.1" data-path="appDiscreteDistributions.html"><a href="appDiscreteDistributions.html"><i class="fa fa-check"></i><b>E.1</b> Discrete Distrbutions</a></li>
<li class="chapter" data-level="E.2" data-path="appContinuousDistributions.html"><a href="appContinuousDistributions.html"><i class="fa fa-check"></i><b>E.2</b> Continuous Distrbutions</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="appStatTables.html"><a href="appStatTables.html"><i class="fa fa-check"></i><b>F</b> Statistical Tables</a></li>
<li class="chapter" data-level="G" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>G</b> References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Simulation Modeling using the Kotlin Simulation Library (KSL)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="examples-of-process-modeling" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Examples of Process Modeling<a href="examples-of-process-modeling.html#examples-of-process-modeling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The following example illustrates how to use a hold queue via the <code>HoldQueue</code> class. A hold queue holds an entity within a queue until it is removed. It is important to note that the entity that goes into the hold queue cannot remove itself. Thus, as you will see in the following code, we schedule an event that causes the entities to be removed at a specific time. The hold queue is created and an event action defined to represent the event. The entity process is simple, when the entity enters the process it immediately enters the hold queue. The process will be suspended. After being removed and resumed, the entity continues through a couple of delays.</p>
<div id="holding-entities-in-a-queue-holdqueue-class" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> Holding Entities in a Queue: <code>HoldQueue</code> Class<a href="examples-of-process-modeling.html#holding-entities-in-a-queue-holdqueue-class" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<hr />
<div class="example">
<p><span id="exm:ch6ex3" class="example"><strong>Example 6.3  (Illustrating a HoldQueue) </strong></span>This example illustrates how to create an instance of the <code>HoldQueue</code> class and how to use it to hold entities until they can be released. An event is scheduled to cause held entities to be removed and to resume their processing.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb220-1"><a href="examples-of-process-modeling.html#cb220-1" tabindex="-1"></a><span class="kw">class</span> HoldQExample<span class="op">(</span><span class="va">parent</span><span class="op">:</span> <span class="dt">ModelElement</span><span class="op">)</span> <span class="op">:</span> <span class="dt">ProcessModel</span><span class="op">(</span><span class="va">parent</span><span class="op">,</span> <span class="va">null</span><span class="op">)</span>  <span class="op">{</span></span>
<span id="cb220-2"><a href="examples-of-process-modeling.html#cb220-2" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myHoldQueue</span><span class="op">:</span> HoldQueue <span class="op">=</span> HoldQueue<span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="st">&quot;hold&quot;</span><span class="op">)</span></span>
<span id="cb220-3"><a href="examples-of-process-modeling.html#cb220-3" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myEventActionOne</span><span class="op">:</span> EventActionOne <span class="op">=</span> EventActionOne<span class="op">()</span></span>
<span id="cb220-4"><a href="examples-of-process-modeling.html#cb220-4" tabindex="-1"></a></span>
<span id="cb220-5"><a href="examples-of-process-modeling.html#cb220-5" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Customer<span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb220-6"><a href="examples-of-process-modeling.html#cb220-6" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">holdProcess</span> <span class="op">:</span> KSLProcess <span class="op">=</span> process<span class="op">()</span> <span class="op">{</span></span>
<span id="cb220-7"><a href="examples-of-process-modeling.html#cb220-7" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;time = </span><span class="ss">$time</span><span class="st"> : before being held customer = </span><span class="ss">${</span>this<span class="at">@Customer</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb220-8"><a href="examples-of-process-modeling.html#cb220-8" tabindex="-1"></a>            hold<span class="op">(</span>myHoldQueue<span class="op">)</span></span>
<span id="cb220-9"><a href="examples-of-process-modeling.html#cb220-9" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;time = </span><span class="ss">$time</span><span class="st"> : after being held customer = </span><span class="ss">${</span>this<span class="at">@Customer</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb220-10"><a href="examples-of-process-modeling.html#cb220-10" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">10.0</span><span class="op">)</span></span>
<span id="cb220-11"><a href="examples-of-process-modeling.html#cb220-11" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;time = </span><span class="ss">$time</span><span class="st"> after the first delay for customer = </span><span class="ss">${</span>this<span class="at">@Customer</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb220-12"><a href="examples-of-process-modeling.html#cb220-12" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">20.0</span><span class="op">)</span></span>
<span id="cb220-13"><a href="examples-of-process-modeling.html#cb220-13" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;time = </span><span class="ss">$time</span><span class="st"> after the second delay for customer = </span><span class="ss">${</span>this<span class="at">@Customer</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb220-14"><a href="examples-of-process-modeling.html#cb220-14" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb220-15"><a href="examples-of-process-modeling.html#cb220-15" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb220-16"><a href="examples-of-process-modeling.html#cb220-16" tabindex="-1"></a></span>
<span id="cb220-17"><a href="examples-of-process-modeling.html#cb220-17" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">initialize</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb220-18"><a href="examples-of-process-modeling.html#cb220-18" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">e</span> <span class="op">=</span> Customer<span class="op">()</span></span>
<span id="cb220-19"><a href="examples-of-process-modeling.html#cb220-19" tabindex="-1"></a>        activate<span class="op">(</span>e<span class="op">.</span>holdProcess<span class="op">)</span></span>
<span id="cb220-20"><a href="examples-of-process-modeling.html#cb220-20" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">c</span> <span class="op">=</span> Customer<span class="op">()</span></span>
<span id="cb220-21"><a href="examples-of-process-modeling.html#cb220-21" tabindex="-1"></a>        activate<span class="op">(</span>c<span class="op">.</span>holdProcess<span class="op">,</span> <span class="fl">1.0</span><span class="op">)</span></span>
<span id="cb220-22"><a href="examples-of-process-modeling.html#cb220-22" tabindex="-1"></a>        schedule<span class="op">(</span>myEventActionOne<span class="op">,</span> <span class="fl">5.0</span><span class="op">)</span></span>
<span id="cb220-23"><a href="examples-of-process-modeling.html#cb220-23" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb220-24"><a href="examples-of-process-modeling.html#cb220-24" tabindex="-1"></a></span>
<span id="cb220-25"><a href="examples-of-process-modeling.html#cb220-25" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> EventActionOne <span class="op">:</span> <span class="dt">EventAction</span><span class="op">&lt;</span><span class="dt">Nothing</span><span class="op">&gt;()</span> <span class="op">{</span></span>
<span id="cb220-26"><a href="examples-of-process-modeling.html#cb220-26" tabindex="-1"></a>        <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">action</span><span class="op">(</span><span class="va">event</span><span class="op">:</span> <span class="dt">KSLEvent</span>&lt;<span class="va">Nothing</span>&gt;<span class="op">)</span> <span class="op">{</span></span>
<span id="cb220-27"><a href="examples-of-process-modeling.html#cb220-27" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;Removing and resuming held entities at time : </span><span class="ss">$time</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb220-28"><a href="examples-of-process-modeling.html#cb220-28" tabindex="-1"></a>            myHoldQueue<span class="op">.</span>removeAllAndResume<span class="op">()</span></span>
<span id="cb220-29"><a href="examples-of-process-modeling.html#cb220-29" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb220-30"><a href="examples-of-process-modeling.html#cb220-30" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb220-31"><a href="examples-of-process-modeling.html#cb220-31" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<hr />
<p>The <code>initialize()</code> method creates a couple of entities and activates their hold process. In addition, the event representing the release from the hold queue is scheduled for time 5.0. In the event logic, we see that the hold queue instance is used to call its <code>removeAllAndResume()</code> function. The <code>HoldQueue</code> class is a subclass of the <code>Queue</code> class. Thus, statistics are collected when it is used. In addition, it can be iterated and searched. If a reference to a particular entity is available, then the <code>removeAndResume()</code> function can be used to remove and resume a specific entity. These two methods automatically resume the entitys process. Other methods inherited from the <code>Queue</code> class allows for the entities to be removed <em>without</em> resuming their processes. It is then the responsibility of the user to properly resume the suspended processes by directly using the entity instance. There are also methods for terminating the held entitys processes. The output from this simple simulation is as follows:</p>
<pre><code>time = 0.0 : before being held customer = ID_1
time = 1.0 : before being held customer = ID_2
Removing and resuming held entities at time : 5.0
time = 5.0 : after being held customer = ID_1
time = 5.0 : after being held customer = ID_2
time = 15.0 after the first delay for customer = ID_1
time = 15.0 after the first delay for customer = ID_2
time = 35.0 after the second delay for customer = ID_1
time = 35.0 after the second delay for customer = ID_2</code></pre>
<p>We see that the two customers are held in the queue right after activation. Then, the event at time 5.0 occurs which removes and resumes the held entities. The rest of the output indicates the the entities continue their processes.</p>
</div>
<div id="signaling-entities" class="section level3 hasAnchor" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> Signaling Entities<a href="examples-of-process-modeling.html#signaling-entities" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The next example illustrates the use of the <code>Signal</code> class, which builds off of the <code>HoldQueue</code> class, as shown in Figure <a href="examples-of-process-modeling.html#fig:Ch5HQandSignalClass">6.10</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:Ch5HQandSignalClass"></span>
<img src="figures2/ch6/SignalClass.png" alt="HoldQueue and Signal Classes" width="70%" height="70%" />
<p class="caption">
Figure 6.10: HoldQueue and Signal Classes
</p>
</div>
<p>The <code>Signal</code> class uses an instance of the <code>HoldQueue</code> class to hold entities until they are notified to move via the index of their rank in the queue. If you want the first entity to be signaled, then you call <code>signal(0).</code> The entity is notified that its suspension is over and it removes itself from the hold queue. Thus, contrary to the <code>HoldQueue</code> class the user does not have to remove and resume the corresponding entity.</p>
<p>Here is some example code. Notice that the code subclasses from the <code>ProcessModel</code> class. All implementations that use the process modeling constructs must subclass from the <code>ProcessModel</code> class. Then, the instance of the <code>Signal</code> class is created. An inner class implements the process description and represents the entitys process that uses the signal. In the process, the entity immediately waits for the signal. After the signal, the entity has a simple delay and then the process ends.</p>
<hr />
<div class="example">
<p><span id="exm:ch6ex4" class="example"><strong>Example 6.4  (Illustrating how to Hold and Signal Entities) </strong></span>This example illustrates how to use the <code>Signal</code> class to hold entities until a signal is sent. Once the signal is received the entity continues its processing.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb222-1"><a href="examples-of-process-modeling.html#cb222-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">(){</span></span>
<span id="cb222-2"><a href="examples-of-process-modeling.html#cb222-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">m</span> <span class="op">=</span> Model<span class="op">()</span></span>
<span id="cb222-3"><a href="examples-of-process-modeling.html#cb222-3" tabindex="-1"></a>    SignalExample<span class="op">(</span>m<span class="op">)</span></span>
<span id="cb222-4"><a href="examples-of-process-modeling.html#cb222-4" tabindex="-1"></a>    m<span class="op">.</span>numberOfReplications <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb222-5"><a href="examples-of-process-modeling.html#cb222-5" tabindex="-1"></a>    m<span class="op">.</span>lengthOfReplication <span class="op">=</span> <span class="fl">50.0</span></span>
<span id="cb222-6"><a href="examples-of-process-modeling.html#cb222-6" tabindex="-1"></a>    m<span class="op">.</span>simulate<span class="op">()</span></span>
<span id="cb222-7"><a href="examples-of-process-modeling.html#cb222-7" tabindex="-1"></a>    m<span class="op">.</span>print<span class="op">()</span></span>
<span id="cb222-8"><a href="examples-of-process-modeling.html#cb222-8" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb222-9"><a href="examples-of-process-modeling.html#cb222-9" tabindex="-1"></a></span>
<span id="cb222-10"><a href="examples-of-process-modeling.html#cb222-10" tabindex="-1"></a><span class="kw">class</span> SignalExample<span class="op">(</span><span class="va">parent</span><span class="op">:</span> <span class="dt">ModelElement</span><span class="op">,</span> <span class="va">name</span><span class="op">:</span> <span class="dt">String</span><span class="op">?</span> <span class="op">=</span> null<span class="op">)</span> <span class="op">:</span> <span class="dt">ProcessModel</span><span class="op">(</span><span class="va">parent</span><span class="op">,</span> <span class="va">name</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb222-11"><a href="examples-of-process-modeling.html#cb222-11" tabindex="-1"></a></span>
<span id="cb222-12"><a href="examples-of-process-modeling.html#cb222-12" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">signal</span> <span class="op">=</span> Signal<span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="st">&quot;SignalExample&quot;</span><span class="op">)</span></span>
<span id="cb222-13"><a href="examples-of-process-modeling.html#cb222-13" tabindex="-1"></a></span>
<span id="cb222-14"><a href="examples-of-process-modeling.html#cb222-14" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> SignaledEntity <span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb222-15"><a href="examples-of-process-modeling.html#cb222-15" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">waitForSignalProcess</span><span class="op">:</span> KSLProcess <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb222-16"><a href="examples-of-process-modeling.html#cb222-16" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; before waiting for the signal: </span><span class="ss">${</span>this<span class="at">@SignaledEntity</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb222-17"><a href="examples-of-process-modeling.html#cb222-17" tabindex="-1"></a>            waitFor<span class="op">(</span>signal<span class="op">)</span></span>
<span id="cb222-18"><a href="examples-of-process-modeling.html#cb222-18" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; after getting the signal: </span><span class="ss">${</span>this<span class="at">@SignaledEntity</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb222-19"><a href="examples-of-process-modeling.html#cb222-19" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">5.0</span><span class="op">)</span></span>
<span id="cb222-20"><a href="examples-of-process-modeling.html#cb222-20" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; after the second delay for entity: </span><span class="ss">${</span>this<span class="at">@SignaledEntity</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb222-21"><a href="examples-of-process-modeling.html#cb222-21" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; exiting the process of entity: </span><span class="ss">${</span>this<span class="at">@SignaledEntity</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb222-22"><a href="examples-of-process-modeling.html#cb222-22" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb222-23"><a href="examples-of-process-modeling.html#cb222-23" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb222-24"><a href="examples-of-process-modeling.html#cb222-24" tabindex="-1"></a></span>
<span id="cb222-25"><a href="examples-of-process-modeling.html#cb222-25" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">initialize</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb222-26"><a href="examples-of-process-modeling.html#cb222-26" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..10</span><span class="op">){</span></span>
<span id="cb222-27"><a href="examples-of-process-modeling.html#cb222-27" tabindex="-1"></a>            activate<span class="op">(</span>SignaledEntity<span class="op">().</span>waitForSignalProcess<span class="op">)</span></span>
<span id="cb222-28"><a href="examples-of-process-modeling.html#cb222-28" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb222-29"><a href="examples-of-process-modeling.html#cb222-29" tabindex="-1"></a>        schedule<span class="op">(</span><span class="kw">this</span><span class="op">::</span>signalEvent<span class="op">,</span> <span class="fl">3.0</span><span class="op">)</span></span>
<span id="cb222-30"><a href="examples-of-process-modeling.html#cb222-30" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb222-31"><a href="examples-of-process-modeling.html#cb222-31" tabindex="-1"></a></span>
<span id="cb222-32"><a href="examples-of-process-modeling.html#cb222-32" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">fun</span> <span class="fu">signalEvent</span><span class="op">(</span><span class="va">event</span><span class="op">:</span> <span class="dt">KSLEvent</span>&lt;<span class="va">Nothing</span>&gt;<span class="op">){</span></span>
<span id="cb222-33"><a href="examples-of-process-modeling.html#cb222-33" tabindex="-1"></a>        signal<span class="op">.</span>signal<span class="op">(</span><span class="fl">0..4</span><span class="op">)</span></span>
<span id="cb222-34"><a href="examples-of-process-modeling.html#cb222-34" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb222-35"><a href="examples-of-process-modeling.html#cb222-35" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<hr />
<p>The <code>initialize()</code> method creates 10 instances of the <code>SignalEntity</code> subclass of the <code>Entity</code> class and activates each entitys <code>waitForSignalProcess</code> process. It also schedules an event to cause the signal to occur at time 3.0. In the signal event, the reference to the <code>Signal</code> class instance, <code>signal,</code> is used to call the <code>signal()</code> method of of the <code>Signal</code> class. The first 5 waiting entities are signaled using a Kotlin <a href="https://kotlinlang.org/docs/ranges.html">range.</a> The output from the process is as follows.</p>
<pre><code>0.0 &gt; before waiting for the signal: ID_1
0.0 &gt; before waiting for the signal: ID_2
0.0 &gt; before waiting for the signal: ID_3
0.0 &gt; before waiting for the signal: ID_4
0.0 &gt; before waiting for the signal: ID_5
0.0 &gt; before waiting for the signal: ID_6
0.0 &gt; before waiting for the signal: ID_7
0.0 &gt; before waiting for the signal: ID_8
0.0 &gt; before waiting for the signal: ID_9
0.0 &gt; before waiting for the signal: ID_10
3.0 &gt; signaling the entities in range 0..4
3.0 &gt; after getting the signal: ID_1
3.0 &gt; after getting the signal: ID_2
3.0 &gt; after getting the signal: ID_3
3.0 &gt; after getting the signal: ID_4
3.0 &gt; after getting the signal: ID_5
8.0 &gt; after the second delay for entity: ID_1
8.0 &gt; exiting the process of entity: ID_1
8.0 &gt; after the second delay for entity: ID_2
8.0 &gt; exiting the process of entity: ID_2
8.0 &gt; after the second delay for entity: ID_3
8.0 &gt; exiting the process of entity: ID_3
8.0 &gt; after the second delay for entity: ID_4
8.0 &gt; exiting the process of entity: ID_4
8.0 &gt; after the second delay for entity: ID_5
8.0 &gt; exiting the process of entity: ID_5</code></pre>
<p>We see that at time 0.0, the 10 entities are created and their process activated so that they wait for the signal. Then, at time 3.0, the signal occurs and each of the signaled entities (in turn) resume their processes. Eventually, they complete their process after the 5.0 time unit delay. Notice that since the simulation run length was 50.0 time units, the simulation continues until that time. However, since there are no more signals, the last 5 entities remain waiting (suspended) at the end of the simulation. As previously mentioned, the <code>ProcessModel</code> class is responsible for removing these entities that are suspended after the replication has completed. Thus, when the next replication starts, there will not be 5 entities still waiting. The KSL takes care of these common clean up actions automatically.</p>
</div>
<div id="understanding-blocking-queues" class="section level3 hasAnchor" number="6.4.3">
<h3><span class="header-section-number">6.4.3</span> Understanding Blocking Queues<a href="examples-of-process-modeling.html#understanding-blocking-queues" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This next example illustrates the use of a <a href="https://jenkov.com/tutorials/java-concurrency/blocking-queues.html">blocking queue</a>. Blocking queues are often used in asynchronous programs to communicated between different threads. In the case of KSL process models, we can use the concept of blocking queues to assist with communication between two processes.</p>
<p>Blocking queues can block on sending or on receiving. The typical use is to block when trying to dequeue an item from the queue when the queue is empty or if you try to enqueue an item and the queue is full. A process trying to dequeue from an empty queue is blocked until some other process inserts an item into the queue. A process trying to enqueue an item in a full queue is blocked until some other process makes space in the queue, either by dequeuing one or more items or clearing the queue completely. The KSL provides a class called <code>BlockingQueue</code> that facilitates this kind of modeling. In the case of the KSL, depending on the configuration of the queue, both the sender and the receiver may block.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:Ch5EBlockingQ"></span>
<img src="figures2/ch6/BlockingQueue.png" alt="The BlockingQueue Class" width="80%" height="80%" />
<p class="caption">
Figure 6.11: The BlockingQueue Class
</p>
</div>
<p>There are actually three queues used in the implementation of the <code>BlockingQueue</code> class. One queue called the <code>senderQ</code> will hold entities that place items into the blocking queue if the queue is full. Another queue, called the <code>receiverQ,</code> will hold entities that are waiting for items to be placed in the queue to be removed. Lastly, is the blocking queue, itself, which is better conceptualized as a channel between the sender and the receiver. This queue is called the <code>channelQ</code> and holds items that are placed into it for eventual removal. Statistics can be collected (or not) on any of these queues. The sender and receiver queues are essentially instances of the KSL <code>Queue</code> class. As such, they have no capacity limitation. The channel queue can have a capacity. If a capacity is not provided, it is <code>Int.MAX_VALUE,</code> which is essentially infinite.</p>
<p>As noted in Figure <a href="examples-of-process-modeling.html#fig:Ch5EBlockingQ">6.11</a> we see that the items within the queue are requested from the receiver. These requests can have a specific amount. The receiver will need to wait until the specific amount of their request becomes available in the queue (channel). Users can provide a selection rule for the requests to determine which requests will be selected for filling when new items arrive within the channel. The default request selection rule is to select the next request. The following code illustrates the basic creation and use of a blocking queue.</p>
<div class="example">
<p><span id="exm:ch6ex5" class="example"><strong>Example 6.5  (Illustrating a Blocking Queue) </strong></span>This example illustrates how to use a blocking queue. A blocking queue can cause an entity to wait until an item is available in the channel or cause an entity to wait until there is space in the channel.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb224-1"><a href="examples-of-process-modeling.html#cb224-1" tabindex="-1"></a><span class="kw">class</span> BlockingQExample<span class="op">(</span></span>
<span id="cb224-2"><a href="examples-of-process-modeling.html#cb224-2" tabindex="-1"></a>    <span class="va">parent</span><span class="op">:</span> <span class="dt">ModelElement</span><span class="op">,</span></span>
<span id="cb224-3"><a href="examples-of-process-modeling.html#cb224-3" tabindex="-1"></a>    <span class="va">name</span><span class="op">:</span> <span class="dt">String</span><span class="op">?</span> <span class="op">=</span> null</span>
<span id="cb224-4"><a href="examples-of-process-modeling.html#cb224-4" tabindex="-1"></a><span class="op">)</span> <span class="op">:</span> <span class="dt">ProcessModel</span><span class="op">(</span><span class="va">parent</span><span class="op">,</span> <span class="va">name</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb224-5"><a href="examples-of-process-modeling.html#cb224-5" tabindex="-1"></a></span>
<span id="cb224-6"><a href="examples-of-process-modeling.html#cb224-6" tabindex="-1"></a><span class="co">//    val blockingQ: BlockingQueue&lt;QObject&gt; = BlockingQueue(this)</span></span>
<span id="cb224-7"><a href="examples-of-process-modeling.html#cb224-7" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">blockingQ</span><span class="op">:</span> BlockingQueue<span class="op">&lt;</span>QObject<span class="op">&gt;</span> <span class="op">=</span> BlockingQueue<span class="op">(</span><span class="kw">this</span><span class="op">,</span> capacity <span class="op">=</span> <span class="dv">10</span><span class="op">)</span></span>
<span id="cb224-8"><a href="examples-of-process-modeling.html#cb224-8" tabindex="-1"></a>    </span>
<span id="cb224-9"><a href="examples-of-process-modeling.html#cb224-9" tabindex="-1"></a>    init <span class="op">{</span></span>
<span id="cb224-10"><a href="examples-of-process-modeling.html#cb224-10" tabindex="-1"></a><span class="co">//        blockingQ.waitTimeStatisticsOption(false)</span></span>
<span id="cb224-11"><a href="examples-of-process-modeling.html#cb224-11" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
</div>
<p>You can create a blocking queue with a capacity (or not) and you can specify whether the statistics are collected (or not) as noted by the commented code of the example. In this example, the queue (channel) has a capacity of 10 items.</p>
<p>In the following code, we implement the process for receiving items from the blocking queue. Notice that there is a loop within the process. This illustrates that all normal <a href="https://kotlinlang.org/docs/control-flow.html">Kotlin control structures</a> are available within process routines. The entity (receiver) will loop through this process 15 time and essentially wait for single item to be placed in the blocking queue. If the entity hits the <code>waitForItems()</code> suspending function call and there is an item in the queue, then it immediately receives the item and continues with its process. If an item is not available in the blocking queue when the entity reaches the <code>waitForItems()</code> suspending function, then the requesting entity will wait until an item becomes available and will not proceed until it receives the requested amount of items. After receiving its requested items, the entity continues with its process.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb225-1"><a href="examples-of-process-modeling.html#cb225-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Receiver<span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb225-2"><a href="examples-of-process-modeling.html#cb225-2" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">receiving</span> <span class="op">:</span> KSLProcess <span class="op">=</span> process<span class="op">(</span><span class="st">&quot;receiving&quot;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb225-3"><a href="examples-of-process-modeling.html#cb225-3" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..15</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb225-4"><a href="examples-of-process-modeling.html#cb225-4" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; before the first delay for entity: </span><span class="ss">${</span>this<span class="at">@Receiver</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb225-5"><a href="examples-of-process-modeling.html#cb225-5" tabindex="-1"></a>                delay<span class="op">(</span><span class="fl">1.0</span><span class="op">)</span></span>
<span id="cb225-6"><a href="examples-of-process-modeling.html#cb225-6" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; trying to get item for entity: </span><span class="ss">${</span>this<span class="at">@Receiver</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb225-7"><a href="examples-of-process-modeling.html#cb225-7" tabindex="-1"></a>                waitForItems<span class="op">(</span>blockingQ<span class="op">,</span> <span class="dv">1</span><span class="op">)</span></span>
<span id="cb225-8"><a href="examples-of-process-modeling.html#cb225-8" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; after getting item for entity: </span><span class="ss">${</span>this<span class="at">@Receiver</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb225-9"><a href="examples-of-process-modeling.html#cb225-9" tabindex="-1"></a>                delay<span class="op">(</span><span class="fl">5.0</span><span class="op">)</span></span>
<span id="cb225-10"><a href="examples-of-process-modeling.html#cb225-10" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; after the second delay in </span><span class="ss">${</span>this<span class="at">@Receiver</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb225-11"><a href="examples-of-process-modeling.html#cb225-11" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb225-12"><a href="examples-of-process-modeling.html#cb225-12" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; exiting the process in </span><span class="ss">${</span>this<span class="at">@Receiver</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb225-13"><a href="examples-of-process-modeling.html#cb225-13" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb225-14"><a href="examples-of-process-modeling.html#cb225-14" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>In this code snippet, the entity (sender), also loops 15 times. Each time within the loop, the entity creates an instance of a <code>QObject</code> and places it in the blocking queue via the <code>send()</code> method. Since the blocking queue has capacity 10, and the time between requests by the receive is a little longer than the time between sends, the blocking queue will reach its capacity. If it does reach its capacity, then the sender will have to wait (blocking) at the <code>send()</code> suspending function until space becomes available in the channel.</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb226-1"><a href="examples-of-process-modeling.html#cb226-1" tabindex="-1"></a></span>
<span id="cb226-2"><a href="examples-of-process-modeling.html#cb226-2" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Sender<span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb226-3"><a href="examples-of-process-modeling.html#cb226-3" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">sending</span> <span class="op">:</span> KSLProcess <span class="op">=</span> process<span class="op">(</span><span class="st">&quot;sending&quot;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb226-4"><a href="examples-of-process-modeling.html#cb226-4" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..15</span><span class="op">){</span></span>
<span id="cb226-5"><a href="examples-of-process-modeling.html#cb226-5" tabindex="-1"></a>                delay<span class="op">(</span><span class="fl">5.0</span><span class="op">)</span></span>
<span id="cb226-6"><a href="examples-of-process-modeling.html#cb226-6" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; after the first delay for sender </span><span class="ss">${</span>this<span class="at">@Sender</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb226-7"><a href="examples-of-process-modeling.html#cb226-7" tabindex="-1"></a>                <span class="kw">val</span> <span class="va">item</span> <span class="op">=</span> QObject<span class="op">()</span></span>
<span id="cb226-8"><a href="examples-of-process-modeling.html#cb226-8" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; before sending an item from sender </span><span class="ss">${</span>this<span class="at">@Sender</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb226-9"><a href="examples-of-process-modeling.html#cb226-9" tabindex="-1"></a>                send<span class="op">(</span>item<span class="op">,</span> blockingQ<span class="op">)</span></span>
<span id="cb226-10"><a href="examples-of-process-modeling.html#cb226-10" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; after sending an item from sender </span><span class="ss">${</span>this<span class="at">@Sender</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb226-11"><a href="examples-of-process-modeling.html#cb226-11" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb226-12"><a href="examples-of-process-modeling.html#cb226-12" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; exiting the process for sender </span><span class="ss">${</span>this<span class="at">@Sender</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb226-13"><a href="examples-of-process-modeling.html#cb226-13" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb226-14"><a href="examples-of-process-modeling.html#cb226-14" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb226-15"><a href="examples-of-process-modeling.html#cb226-15" tabindex="-1"></a></span>
<span id="cb226-16"><a href="examples-of-process-modeling.html#cb226-16" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">initialize</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb226-17"><a href="examples-of-process-modeling.html#cb226-17" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">r</span> <span class="op">=</span> Receiver<span class="op">()</span></span>
<span id="cb226-18"><a href="examples-of-process-modeling.html#cb226-18" tabindex="-1"></a>        activate<span class="op">(</span>r<span class="op">.</span>receiving<span class="op">)</span></span>
<span id="cb226-19"><a href="examples-of-process-modeling.html#cb226-19" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">s</span> <span class="op">=</span> Sender<span class="op">()</span></span>
<span id="cb226-20"><a href="examples-of-process-modeling.html#cb226-20" tabindex="-1"></a>        activate<span class="op">(</span>s<span class="op">.</span>sending<span class="op">)</span></span>
<span id="cb226-21"><a href="examples-of-process-modeling.html#cb226-21" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb226-22"><a href="examples-of-process-modeling.html#cb226-22" tabindex="-1"></a></span>
<span id="cb226-23"><a href="examples-of-process-modeling.html#cb226-23" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>In the <code>intialize()</code> method, single instances of the receiver and sender are created and their processes activated. The model is setup to run for 100 time units</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb227-1"><a href="examples-of-process-modeling.html#cb227-1" tabindex="-1"></a></span>
<span id="cb227-2"><a href="examples-of-process-modeling.html#cb227-2" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">(){</span></span>
<span id="cb227-3"><a href="examples-of-process-modeling.html#cb227-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">m</span> <span class="op">=</span> Model<span class="op">()</span></span>
<span id="cb227-4"><a href="examples-of-process-modeling.html#cb227-4" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">test</span> <span class="op">=</span> BlockingQExample<span class="op">(</span>m<span class="op">)</span></span>
<span id="cb227-5"><a href="examples-of-process-modeling.html#cb227-5" tabindex="-1"></a></span>
<span id="cb227-6"><a href="examples-of-process-modeling.html#cb227-6" tabindex="-1"></a>    m<span class="op">.</span>lengthOfReplication <span class="op">=</span> <span class="fl">100.0</span></span>
<span id="cb227-7"><a href="examples-of-process-modeling.html#cb227-7" tabindex="-1"></a>    m<span class="op">.</span>numberOfReplications <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb227-8"><a href="examples-of-process-modeling.html#cb227-8" tabindex="-1"></a>    m<span class="op">.</span>simulate<span class="op">()</span></span>
<span id="cb227-9"><a href="examples-of-process-modeling.html#cb227-9" tabindex="-1"></a>    m<span class="op">.</span>print<span class="op">()</span></span>
<span id="cb227-10"><a href="examples-of-process-modeling.html#cb227-10" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>The output of the simulation is illustrative of the coordination that occurs between the receiver and the sender. We see in this output that the the receiving entity blocks at time 1.0. Finally, at time 5.0 the sender sends an item and it is received by the receiving entity. Both processes continue.</p>
<pre><code>0.0 &gt; before the first delay for receiving entity: ID_1
1.0 &gt; trying to get item for receiving entity: ID_1
5.0 &gt; after the first delay for sender ID_2
5.0 &gt; before sending an item from sender ID_2
5.0 &gt; after sending an item from sender ID_2
5.0 &gt; after getting item for receiving entity: ID_1
10.0 &gt; after the first delay for sender ID_2
10.0 &gt; before sending an item from sender ID_2
10.0 &gt; after sending an item from sender ID_2
10.0 &gt; after the second delay for receiving entity: ID_1
10.0 &gt; before the first delay for receiving entity: ID_1
.
.
.</code></pre>
<p>The queueing statistics indicate that the sender never blocked and the receiver had a small amount of blocking.</p>
<pre><code>Half-Width Statistical Summary Report - Confidence Level (95.000)% 

Name                                                Count         Average      Half-Width 
-----------------------------------------------------------------------------------------
BlockingQueue_4:SenderQ:NumInQ                          1          0.0000             NaN 
BlockingQueue_4:SenderQ:TimeInQ                         1          0.0000             NaN 
BlockingQueue_4:RequestQ:NumInQ                         1          0.2100             NaN 
BlockingQueue_4:RequestQ:TimeInQ                        1          0.3077             NaN 
BlockingQueue_4:ChannelQ:NumInQ                         1          0.3300             NaN 
BlockingQueue_4:ChannelQ:TimeInQ                        1          2.2000             NaN 
-----------------------------------------------------------------------------------------</code></pre>
<p>As illustrated in this example, a blocking queue can facilitate the passing of information between two processes. These types of constructs can serve as the basis for communicating between agents which can invoke different procedures for different messages and wait until receiving and or sending messages. We will see another example of using a blocking queue later in this chapter.</p>
</div>
<div id="allowing-entities-to-wait-for-a-process" class="section level3 hasAnchor" number="6.4.4">
<h3><span class="header-section-number">6.4.4</span> Allowing Entities to Wait for a Process<a href="examples-of-process-modeling.html#allowing-entities-to-wait-for-a-process" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the previous three examples, we saw how we can use a hold queue, a signal, and a blocking queue within a process description. In the case of the blocking queue, we saw how two processes communicated. In this next simple example, we also see how two processes can coordinate their flow via the use of the <code>waitFor(process: KSLProcess)</code> suspending function. The purpose of the <code>waitFor(process: KSLProcess)</code> suspending function is to allow one entity to start another process and have the entity that starts the process wait until the newly activated process is completed. The following code indicates the signature of the <code>waitFor(process: KSLProcess)</code> suspending function.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb230-1"><a href="examples-of-process-modeling.html#cb230-1" tabindex="-1"></a>    <span class="co">/** Causes the current process to suspend until the specified process has run to completion.</span></span>
<span id="cb230-2"><a href="examples-of-process-modeling.html#cb230-2" tabindex="-1"></a><span class="co">     *  This is like run blocking.  It activates the specified process and then waits for it</span></span>
<span id="cb230-3"><a href="examples-of-process-modeling.html#cb230-3" tabindex="-1"></a><span class="co">     *  to complete before proceeding.</span></span>
<span id="cb230-4"><a href="examples-of-process-modeling.html#cb230-4" tabindex="-1"></a><span class="co">     *</span></span>
<span id="cb230-5"><a href="examples-of-process-modeling.html#cb230-5" tabindex="-1"></a><span class="co">     * @param process the process to start for an entity</span></span>
<span id="cb230-6"><a href="examples-of-process-modeling.html#cb230-6" tabindex="-1"></a><span class="co">     * @param timeUntilActivation the time until the start the process</span></span>
<span id="cb230-7"><a href="examples-of-process-modeling.html#cb230-7" tabindex="-1"></a><span class="co">     * @param priority the priority associated with the event to start the process</span></span>
<span id="cb230-8"><a href="examples-of-process-modeling.html#cb230-8" tabindex="-1"></a><span class="co">     */</span></span>
<span id="cb230-9"><a href="examples-of-process-modeling.html#cb230-9" tabindex="-1"></a>    suspend <span class="kw">fun</span> <span class="fu">waitFor</span><span class="op">(</span></span>
<span id="cb230-10"><a href="examples-of-process-modeling.html#cb230-10" tabindex="-1"></a>        <span class="va">process</span><span class="op">:</span> <span class="dt">KSLProcess</span><span class="op">,</span></span>
<span id="cb230-11"><a href="examples-of-process-modeling.html#cb230-11" tabindex="-1"></a>        <span class="va">timeUntilActivation</span><span class="op">:</span> <span class="dt">Double</span> <span class="op">=</span> <span class="fl">0.0</span><span class="op">,</span></span>
<span id="cb230-12"><a href="examples-of-process-modeling.html#cb230-12" tabindex="-1"></a>        <span class="va">priority</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> KSLEvent<span class="op">.</span>DEFAULT_PRIORITY<span class="op">,</span></span>
<span id="cb230-13"><a href="examples-of-process-modeling.html#cb230-13" tabindex="-1"></a>        <span class="va">suspensionName</span><span class="op">:</span> <span class="dt">String</span><span class="op">?</span> <span class="op">=</span> null</span>
<span id="cb230-14"><a href="examples-of-process-modeling.html#cb230-14" tabindex="-1"></a>    <span class="op">)</span></span></code></pre></div>
<p>The <code>waitFor(process: KSLProcess)</code> suspending function activates the named process and suspends the current process until the activated process completes. Then, the suspending process is resumed. Lets take a look at a simple example. Most of this class is simply to define the two interacting processes.</p>
<hr />
<div class="example">
<p><span id="exm:ch6ex6" class="example"><strong>Example 6.6  (Illustrating Waiting for a Process) </strong></span>This example illustrates how you can use one process to start another process. In addition, the process that starts the secondary process will wait until the secondary process completes before continuing.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb231-1"><a href="examples-of-process-modeling.html#cb231-1" tabindex="-1"></a><span class="kw">class</span> WaitForProcessExample<span class="op">(</span><span class="va">parent</span><span class="op">:</span> <span class="dt">ModelElement</span><span class="op">)</span> <span class="op">:</span> <span class="dt">ProcessModel</span><span class="op">(</span><span class="va">parent</span><span class="op">,</span> <span class="va">null</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb231-2"><a href="examples-of-process-modeling.html#cb231-2" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">worker</span><span class="op">:</span> ResourceWithQ <span class="op">=</span> ResourceWithQ<span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="st">&quot;worker&quot;</span><span class="op">,</span> <span class="dv">1</span><span class="op">)</span></span>
<span id="cb231-3"><a href="examples-of-process-modeling.html#cb231-3" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">tba</span> <span class="op">=</span> RandomVariable<span class="op">(</span><span class="kw">this</span><span class="op">,</span> ExponentialRV<span class="op">(</span><span class="fl">6.0</span><span class="op">,</span> <span class="dv">1</span><span class="op">),</span> <span class="st">&quot;Arrival RV&quot;</span><span class="op">)</span></span>
<span id="cb231-4"><a href="examples-of-process-modeling.html#cb231-4" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">st</span> <span class="op">=</span> RandomVariable<span class="op">(</span><span class="kw">this</span><span class="op">,</span> ExponentialRV<span class="op">(</span><span class="fl">3.0</span><span class="op">,</span> <span class="dv">2</span><span class="op">),</span> <span class="st">&quot;Service RV&quot;</span><span class="op">)</span></span>
<span id="cb231-5"><a href="examples-of-process-modeling.html#cb231-5" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">wip</span> <span class="op">=</span> TWResponse<span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="st">&quot;</span><span class="ss">${</span>name<span class="ss">}</span><span class="st">:WIP&quot;</span><span class="op">)</span></span>
<span id="cb231-6"><a href="examples-of-process-modeling.html#cb231-6" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">tip</span> <span class="op">=</span> Response<span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="st">&quot;</span><span class="ss">${</span>name<span class="ss">}</span><span class="st">:TimeInSystem&quot;</span><span class="op">)</span></span>
<span id="cb231-7"><a href="examples-of-process-modeling.html#cb231-7" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">arrivals</span> <span class="op">=</span> Arrivals<span class="op">()</span></span>
<span id="cb231-8"><a href="examples-of-process-modeling.html#cb231-8" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">total</span> <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb231-9"><a href="examples-of-process-modeling.html#cb231-9" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">var</span> <span class="va">n</span> <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb231-10"><a href="examples-of-process-modeling.html#cb231-10" tabindex="-1"></a></span>
<span id="cb231-11"><a href="examples-of-process-modeling.html#cb231-11" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Customer <span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb231-12"><a href="examples-of-process-modeling.html#cb231-12" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">simpleProcess</span><span class="op">:</span> KSLProcess <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb231-13"><a href="examples-of-process-modeling.html#cb231-13" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="sc">\t</span><span class="st"> </span><span class="ss">$time</span><span class="st"> &gt; starting simple process for entity: </span><span class="ss">${</span>this<span class="at">@Customer</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb231-14"><a href="examples-of-process-modeling.html#cb231-14" tabindex="-1"></a>            wip<span class="op">.</span>increment<span class="op">()</span></span>
<span id="cb231-15"><a href="examples-of-process-modeling.html#cb231-15" tabindex="-1"></a>            timeStamp <span class="op">=</span> time</span>
<span id="cb231-16"><a href="examples-of-process-modeling.html#cb231-16" tabindex="-1"></a>            use<span class="op">(</span>worker<span class="op">,</span> delayDuration <span class="op">=</span> st<span class="op">)</span></span>
<span id="cb231-17"><a href="examples-of-process-modeling.html#cb231-17" tabindex="-1"></a>            tip<span class="op">.</span>value <span class="op">=</span> time <span class="op">-</span> timeStamp</span>
<span id="cb231-18"><a href="examples-of-process-modeling.html#cb231-18" tabindex="-1"></a>            wip<span class="op">.</span>decrement<span class="op">()</span></span>
<span id="cb231-19"><a href="examples-of-process-modeling.html#cb231-19" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="sc">\t</span><span class="st"> </span><span class="ss">$time</span><span class="st"> &gt; completed simple process for entity: </span><span class="ss">${</span>this<span class="at">@Customer</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb231-20"><a href="examples-of-process-modeling.html#cb231-20" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb231-21"><a href="examples-of-process-modeling.html#cb231-21" tabindex="-1"></a></span>
<span id="cb231-22"><a href="examples-of-process-modeling.html#cb231-22" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">wfp</span> <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb231-23"><a href="examples-of-process-modeling.html#cb231-23" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">c</span> <span class="op">=</span> Customer<span class="op">()</span></span>
<span id="cb231-24"><a href="examples-of-process-modeling.html#cb231-24" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; before waitFor simple process for entity: </span><span class="ss">${</span>this<span class="at">@Customer</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb231-25"><a href="examples-of-process-modeling.html#cb231-25" tabindex="-1"></a>            waitFor<span class="op">(</span>c<span class="op">.</span>simpleProcess<span class="op">)</span></span>
<span id="cb231-26"><a href="examples-of-process-modeling.html#cb231-26" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; after waitFor simple process for entity: </span><span class="ss">${</span>this<span class="at">@Customer</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb231-27"><a href="examples-of-process-modeling.html#cb231-27" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb231-28"><a href="examples-of-process-modeling.html#cb231-28" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb231-29"><a href="examples-of-process-modeling.html#cb231-29" tabindex="-1"></a></span>
<span id="cb231-30"><a href="examples-of-process-modeling.html#cb231-30" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">initialize</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb231-31"><a href="examples-of-process-modeling.html#cb231-31" tabindex="-1"></a>        arrivals<span class="op">.</span>schedule<span class="op">(</span>tba<span class="op">)</span></span>
<span id="cb231-32"><a href="examples-of-process-modeling.html#cb231-32" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb231-33"><a href="examples-of-process-modeling.html#cb231-33" tabindex="-1"></a></span>
<span id="cb231-34"><a href="examples-of-process-modeling.html#cb231-34" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Arrivals <span class="op">:</span> <span class="dt">EventAction</span><span class="op">&lt;</span><span class="dt">Nothing</span><span class="op">&gt;()</span> <span class="op">{</span></span>
<span id="cb231-35"><a href="examples-of-process-modeling.html#cb231-35" tabindex="-1"></a>        <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">action</span><span class="op">(</span><span class="va">event</span><span class="op">:</span> <span class="dt">KSLEvent</span>&lt;<span class="va">Nothing</span>&gt;<span class="op">)</span> <span class="op">{</span></span>
<span id="cb231-36"><a href="examples-of-process-modeling.html#cb231-36" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>n <span class="op">&lt;=</span> total<span class="op">)</span> <span class="op">{</span></span>
<span id="cb231-37"><a href="examples-of-process-modeling.html#cb231-37" tabindex="-1"></a>                <span class="kw">val</span> <span class="va">c</span> <span class="op">=</span> Customer<span class="op">()</span></span>
<span id="cb231-38"><a href="examples-of-process-modeling.html#cb231-38" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st"> &gt; activating the waitFor process for entity: </span><span class="ss">${</span>c<span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb231-39"><a href="examples-of-process-modeling.html#cb231-39" tabindex="-1"></a>                activate<span class="op">(</span>c<span class="op">.</span>wfp<span class="op">)</span></span>
<span id="cb231-40"><a href="examples-of-process-modeling.html#cb231-40" tabindex="-1"></a>                schedule<span class="op">(</span>tba<span class="op">)</span></span>
<span id="cb231-41"><a href="examples-of-process-modeling.html#cb231-41" tabindex="-1"></a>                n<span class="op">++</span></span>
<span id="cb231-42"><a href="examples-of-process-modeling.html#cb231-42" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb231-43"><a href="examples-of-process-modeling.html#cb231-43" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb231-44"><a href="examples-of-process-modeling.html#cb231-44" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb231-45"><a href="examples-of-process-modeling.html#cb231-45" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<hr />
<p>The <code>Customer</code> class is very similar to previous examples of a simple queueing situation. However, notice the use of the <code>use()</code> function. Because the combination of seize-delay-release is so common, the KSL provides the <code>use()</code> function to combine these into a convenient suspending function. It is illustrative to see the implementation:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb232-1"><a href="examples-of-process-modeling.html#cb232-1" tabindex="-1"></a>    suspend <span class="kw">fun</span> <span class="fu">use</span><span class="op">(</span></span>
<span id="cb232-2"><a href="examples-of-process-modeling.html#cb232-2" tabindex="-1"></a>        <span class="va">resource</span><span class="op">:</span> <span class="dt">ResourceWithQ</span><span class="op">,</span></span>
<span id="cb232-3"><a href="examples-of-process-modeling.html#cb232-3" tabindex="-1"></a>        <span class="va">amountNeeded</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb232-4"><a href="examples-of-process-modeling.html#cb232-4" tabindex="-1"></a>        <span class="va">seizePriority</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> PRIORITY<span class="op">,</span></span>
<span id="cb232-5"><a href="examples-of-process-modeling.html#cb232-5" tabindex="-1"></a>        <span class="va">delayDuration</span><span class="op">:</span> <span class="dt">GetValueIfc</span><span class="op">,</span></span>
<span id="cb232-6"><a href="examples-of-process-modeling.html#cb232-6" tabindex="-1"></a>        <span class="va">delayPriority</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> PRIORITY<span class="op">,</span></span>
<span id="cb232-7"><a href="examples-of-process-modeling.html#cb232-7" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb232-8"><a href="examples-of-process-modeling.html#cb232-8" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">a</span> <span class="op">=</span> seize<span class="op">(</span>resource<span class="op">,</span> amountNeeded<span class="op">,</span> seizePriority<span class="op">)</span></span>
<span id="cb232-9"><a href="examples-of-process-modeling.html#cb232-9" tabindex="-1"></a>        delay<span class="op">(</span>delayDuration<span class="op">,</span> delayPriority<span class="op">)</span></span>
<span id="cb232-10"><a href="examples-of-process-modeling.html#cb232-10" tabindex="-1"></a>        release<span class="op">(</span>a<span class="op">)</span></span>
<span id="cb232-11"><a href="examples-of-process-modeling.html#cb232-11" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>Getting back to Example <a href="examples-of-process-modeling.html#exm:ch6ex6">6.6</a>, the code defines a process called <code>WaitForAnotherProcess.</code> The sole purpose of this process is to create an instance of the customer, activate its simple process, and wait for it to complete. The output from activating one instance of the wait for another process is as follows:</p>
<pre><code>0.8149947795247992 &gt; activating the waitFor process for entity: ID_1
0.8149947795247992 &gt; before waitFor simple process for entity: ID_1
     0.8149947795247992 &gt; starting simple process for entity: ID_2
     5.091121672376351 &gt; completed simple process for entity: ID_2
5.091121672376351 &gt; after waitFor simple process for entity: ID_1</code></pre>
<p>We see that the activation of entity ID_1 occurs at time 0.81, when it then subsequently activates entity ID_2s simple process. Entity ID_1 then suspends while entity ID_2 executes its simple process, which completes at time 5.09. Then, entity ID_1s process is allowed to complete. Thus, we see that it is easy to activate separate processes and to coordinate their completion.</p>
</div>
<div id="processinteraction" class="section level3 hasAnchor" number="6.4.5">
<h3><span class="header-section-number">6.4.5</span> Process Interaction<a href="examples-of-process-modeling.html#processinteraction" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this section, we will explore how processes associated with two (or more) different entities can interact during their execution by directly suspending and resuming each other. The previous process constructs are built upon the general lower level functionality of suspending the process and then resuming the process. For example, for the wait and signal construct, the entity will wait on a particular signal. During the wait, the entitys process is <em>suspended.</em> The signal causes the waiting entities to resume their process from the wait for signal suspension point. The KSL implements the previously described suspension functions by using the low-level <code>suspend()</code> function. Once an entitys process is suspended, it needs to be resumed. The entitys <code>resumeProcess()</code> function provides this capability. The following example illustrates how to facilitate the direct suspension and resumption of processes.</p>
<hr />
<div class="example">
<p><span id="exm:ch6ex7" class="example"><strong>Example 6.7  (Direct Process Interaction) </strong></span>Consider modeling the interaction between a soccer mom and her daughter. The soccer mom has a daughter who plays forward on a soccer team. The game day proceeds as follows. First, the mom drives the daughter to the game. The drive takes 30 minutes. After arriving to the field, the daughter exits the mini-van, which takes 2 minutes. After the daughter exits the van, the mom departs to run some errands, meanwhile the daughter plays soccer. The moms errands take approximately 45 minutes. The soccer game takes approximately 60 minutes. If the mom returns from the errands before the game ends, the mom waits patiently to pick up her daughter to go home. If the game ends, before the mom returns, the daughter waits patiently for the mom to return. Once the mother and daughter are together, the daughter loads up her soccer gear and enters the van. This loading time takes 2 minutes. After all is loaded, the happy mom and daughter drive home, which takes 30 minutes.</p>
</div>
<hr />
<p>We can build a process model for this situation and use instances of the <code>Suspension</code> class within the implementation. The key to implementing this situation is to capture the suspensions and to share the references of the entities. Lets start with the moms process. The following code shows the moms process with extensive print statements added to illustrate the interaction.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb234-1"><a href="examples-of-process-modeling.html#cb234-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Mother <span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb234-2"><a href="examples-of-process-modeling.html#cb234-2" tabindex="-1"></a></span>
<span id="cb234-3"><a href="examples-of-process-modeling.html#cb234-3" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">daughterExiting</span><span class="op">:</span> Suspension <span class="op">=</span> Suspension<span class="op">(</span>name <span class="op">=</span> <span class="st">&quot;Suspend for daughter to exit van&quot;</span><span class="op">)</span></span>
<span id="cb234-4"><a href="examples-of-process-modeling.html#cb234-4" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">daughterPlaying</span><span class="op">:</span> Suspension <span class="op">=</span> Suspension<span class="op">(</span>name <span class="op">=</span> <span class="st">&quot;Suspend for daughter playing&quot;</span><span class="op">)</span></span>
<span id="cb234-5"><a href="examples-of-process-modeling.html#cb234-5" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">daughterLoading</span><span class="op">:</span> Suspension <span class="op">=</span> Suspension<span class="op">(</span>name <span class="op">=</span> <span class="st">&quot;Suspend for daughter entering van&quot;</span><span class="op">)</span></span>
<span id="cb234-6"><a href="examples-of-process-modeling.html#cb234-6" tabindex="-1"></a></span>
<span id="cb234-7"><a href="examples-of-process-modeling.html#cb234-7" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">momProcess</span> <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb234-8"><a href="examples-of-process-modeling.html#cb234-8" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; starting mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb234-9"><a href="examples-of-process-modeling.html#cb234-9" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> driving to game&quot;</span><span class="op">)</span></span>
<span id="cb234-10"><a href="examples-of-process-modeling.html#cb234-10" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb234-11"><a href="examples-of-process-modeling.html#cb234-11" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> arrived at game&quot;</span><span class="op">)</span></span>
<span id="cb234-12"><a href="examples-of-process-modeling.html#cb234-12" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">daughter</span> <span class="op">=</span> Daughter<span class="op">(</span>this<span class="at">@Mother</span><span class="op">)</span></span>
<span id="cb234-13"><a href="examples-of-process-modeling.html#cb234-13" tabindex="-1"></a>            activate<span class="op">(</span>daughter<span class="op">.</span>daughterProcess<span class="op">)</span></span>
<span id="cb234-14"><a href="examples-of-process-modeling.html#cb234-14" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> suspending for daughter to exit van&quot;</span><span class="op">)</span></span>
<span id="cb234-15"><a href="examples-of-process-modeling.html#cb234-15" tabindex="-1"></a>            <span class="co">//suspend mom&#39;s process</span></span>
<span id="cb234-16"><a href="examples-of-process-modeling.html#cb234-16" tabindex="-1"></a>            suspendFor<span class="op">(</span>daughterExiting<span class="op">)</span></span>
<span id="cb234-17"><a href="examples-of-process-modeling.html#cb234-17" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> running errands...&quot;</span><span class="op">)</span></span>
<span id="cb234-18"><a href="examples-of-process-modeling.html#cb234-18" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">45.0</span><span class="op">)</span></span>
<span id="cb234-19"><a href="examples-of-process-modeling.html#cb234-19" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> completed errands&quot;</span><span class="op">)</span></span>
<span id="cb234-20"><a href="examples-of-process-modeling.html#cb234-20" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>daughter<span class="op">.</span>motherShopping<span class="op">.</span>isSuspended<span class="op">){</span></span>
<span id="cb234-21"><a href="examples-of-process-modeling.html#cb234-21" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom, </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, mom resuming daughter done playing after errands&quot;</span><span class="op">)</span></span>
<span id="cb234-22"><a href="examples-of-process-modeling.html#cb234-22" tabindex="-1"></a>                resume<span class="op">(</span>daughter<span class="op">.</span>motherShopping<span class="op">)</span></span>
<span id="cb234-23"><a href="examples-of-process-modeling.html#cb234-23" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb234-24"><a href="examples-of-process-modeling.html#cb234-24" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom, </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, mom suspending because daughter is still playing&quot;</span><span class="op">)</span></span>
<span id="cb234-25"><a href="examples-of-process-modeling.html#cb234-25" tabindex="-1"></a>                suspendFor<span class="op">(</span>daughterPlaying<span class="op">)</span></span>
<span id="cb234-26"><a href="examples-of-process-modeling.html#cb234-26" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb234-27"><a href="examples-of-process-modeling.html#cb234-27" tabindex="-1"></a>            suspendFor<span class="op">(</span>daughterLoading<span class="op">)</span></span>
<span id="cb234-28"><a href="examples-of-process-modeling.html#cb234-28" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> driving home&quot;</span><span class="op">)</span></span>
<span id="cb234-29"><a href="examples-of-process-modeling.html#cb234-29" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb234-30"><a href="examples-of-process-modeling.html#cb234-30" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> arrived home&quot;</span><span class="op">)</span></span>
<span id="cb234-31"><a href="examples-of-process-modeling.html#cb234-31" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb234-32"><a href="examples-of-process-modeling.html#cb234-32" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>In this modeling, it is important to realize the reason for suspensions. The soccer mom will need three suspensions: 1) suspending while the daughter exits the vehicle, 2) suspending if the daughter is still playing, or 3) suspending while the daughter is entering the van. The three instances of the <code>Suspension</code> class represent these three possibilities and also provide shared state information.</p>
<p>The next concept to grasp is that the moms process activates the daughters process. The moms process creates an instance of the daughter and then activates the daughters process. The moms process captures a reference to the <code>Daughter</code> in the <code>daughter</code> variable. The activation of a process schedules an event to occur. In this case, the event is scheduled for the current time. Note that the daughters process starts after the mom completes the delay for driving to the field.</p>
<p>Then, the mom suspends using the <code>suspendFor()</code> function, specifying the appropriate <code>Suspension</code> instance. The <code>suspendFor()</code> function takes in the suspension that labels the suspension point. Now, lets look at the daughters process.</p>
<p>When the mom process activates the daughter, the daughter starts the delay to exit the van. After exiting the van, the daughter tells the mom process via the <code>resume(mother.daughterExiting)</code> function to resume. Recall, that the mom process immediately suspended while the daughter exited the van. The critical item to note is that a reference to the <code>Mom</code> entity is required to create the daughter instance and the suspensions are public properties of the mother class. Thus, the daughter has a reference to the mom instance within the daughters process routine.</p>
<p>In the following code, the daughter has her own suspension possibility via the <code>motherShopping</code> Suspension.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb235-1"><a href="examples-of-process-modeling.html#cb235-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Daughter<span class="op">(</span><span class="kw">val</span> <span class="va">mother</span><span class="op">:</span> <span class="dt">Mother</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb235-2"><a href="examples-of-process-modeling.html#cb235-2" tabindex="-1"></a></span>
<span id="cb235-3"><a href="examples-of-process-modeling.html#cb235-3" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">motherShopping</span><span class="op">:</span> Suspension <span class="op">=</span> Suspension<span class="op">(</span><span class="st">&quot;Suspend for mother shopping&quot;</span><span class="op">)</span></span>
<span id="cb235-4"><a href="examples-of-process-modeling.html#cb235-4" tabindex="-1"></a></span>
<span id="cb235-5"><a href="examples-of-process-modeling.html#cb235-5" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">daughterProcess</span> <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb235-6"><a href="examples-of-process-modeling.html#cb235-6" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; starting daughter </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb235-7"><a href="examples-of-process-modeling.html#cb235-7" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, exiting the van&quot;</span><span class="op">)</span></span>
<span id="cb235-8"><a href="examples-of-process-modeling.html#cb235-8" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">2.0</span><span class="op">)</span></span>
<span id="cb235-9"><a href="examples-of-process-modeling.html#cb235-9" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, exited the van&quot;</span><span class="op">)</span></span>
<span id="cb235-10"><a href="examples-of-process-modeling.html#cb235-10" tabindex="-1"></a>            <span class="co">// resume mom process</span></span>
<span id="cb235-11"><a href="examples-of-process-modeling.html#cb235-11" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, resuming mom&quot;</span><span class="op">)</span></span>
<span id="cb235-12"><a href="examples-of-process-modeling.html#cb235-12" tabindex="-1"></a>            resume<span class="op">(</span>mother<span class="op">.</span>daughterExiting<span class="op">)</span></span>
<span id="cb235-13"><a href="examples-of-process-modeling.html#cb235-13" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, starting playing&quot;</span><span class="op">)</span></span>
<span id="cb235-14"><a href="examples-of-process-modeling.html#cb235-14" tabindex="-1"></a><span class="co">//            delay(30.0)</span></span>
<span id="cb235-15"><a href="examples-of-process-modeling.html#cb235-15" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">60.0</span><span class="op">)</span> </span>
<span id="cb235-16"><a href="examples-of-process-modeling.html#cb235-16" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, finished playing&quot;</span><span class="op">)</span></span>
<span id="cb235-17"><a href="examples-of-process-modeling.html#cb235-17" tabindex="-1"></a>            <span class="co">// suspend if mom isn&#39;t here</span></span>
<span id="cb235-18"><a href="examples-of-process-modeling.html#cb235-18" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>mother<span class="op">.</span>daughterPlaying<span class="op">.</span>isSuspended<span class="op">){</span></span>
<span id="cb235-19"><a href="examples-of-process-modeling.html#cb235-19" tabindex="-1"></a>                <span class="co">// mom&#39;s errand was completed and mom suspended because daughter was playing</span></span>
<span id="cb235-20"><a href="examples-of-process-modeling.html#cb235-20" tabindex="-1"></a>                resume<span class="op">(</span>mother<span class="op">.</span>daughterPlaying<span class="op">)</span></span>
<span id="cb235-21"><a href="examples-of-process-modeling.html#cb235-21" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb235-22"><a href="examples-of-process-modeling.html#cb235-22" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, mom errands not completed suspending&quot;</span><span class="op">)</span></span>
<span id="cb235-23"><a href="examples-of-process-modeling.html#cb235-23" tabindex="-1"></a>                suspendFor<span class="op">(</span>motherShopping<span class="op">)</span></span>
<span id="cb235-24"><a href="examples-of-process-modeling.html#cb235-24" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb235-25"><a href="examples-of-process-modeling.html#cb235-25" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, entering van&quot;</span><span class="op">)</span></span>
<span id="cb235-26"><a href="examples-of-process-modeling.html#cb235-26" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">2.0</span><span class="op">)</span></span>
<span id="cb235-27"><a href="examples-of-process-modeling.html#cb235-27" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, entered van&quot;</span><span class="op">)</span></span>
<span id="cb235-28"><a href="examples-of-process-modeling.html#cb235-28" tabindex="-1"></a>            <span class="co">// resume mom process</span></span>
<span id="cb235-29"><a href="examples-of-process-modeling.html#cb235-29" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, entered van, resuming mom&quot;</span><span class="op">)</span></span>
<span id="cb235-30"><a href="examples-of-process-modeling.html#cb235-30" tabindex="-1"></a>            resume<span class="op">(</span>mother<span class="op">.</span>daughterLoading<span class="op">)</span></span>
<span id="cb235-31"><a href="examples-of-process-modeling.html#cb235-31" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb235-32"><a href="examples-of-process-modeling.html#cb235-32" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>After playing the daughter uses the <code>daughterPlaying</code> Suspension of the mother to determine if the mother is suspended because her errands were completed before the daughter completed playing soccer. If the mother is not suspended for the daughters playing, then the daughter suspends while the mother completes shopping.</p>
<p>Now, lets look at the rest of the moms process. We see that after suspending to let the daughter exit the van, the mom will run her errands. Since the mom could return early, she checks if the daughter is suspended waiting for her to complete shopping, and if so, the mother resumes the daughter (so that the daughter can start loading). If the daughter is not suspended for the moms shopping, she is still playing. So, the mom will suspend until the daughter completes playing.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb236-1"><a href="examples-of-process-modeling.html#cb236-1" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">momProcess</span> <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb236-2"><a href="examples-of-process-modeling.html#cb236-2" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; starting mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb236-3"><a href="examples-of-process-modeling.html#cb236-3" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> driving to game&quot;</span><span class="op">)</span></span>
<span id="cb236-4"><a href="examples-of-process-modeling.html#cb236-4" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb236-5"><a href="examples-of-process-modeling.html#cb236-5" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> arrived at game&quot;</span><span class="op">)</span></span>
<span id="cb236-6"><a href="examples-of-process-modeling.html#cb236-6" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">daughter</span> <span class="op">=</span> Daughter<span class="op">(</span>this<span class="at">@Mother</span><span class="op">)</span></span>
<span id="cb236-7"><a href="examples-of-process-modeling.html#cb236-7" tabindex="-1"></a>            activate<span class="op">(</span>daughter<span class="op">.</span>daughterProcess<span class="op">)</span></span>
<span id="cb236-8"><a href="examples-of-process-modeling.html#cb236-8" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> suspending for daughter to exit van&quot;</span><span class="op">)</span></span>
<span id="cb236-9"><a href="examples-of-process-modeling.html#cb236-9" tabindex="-1"></a>            <span class="co">//suspend mom&#39;s process</span></span>
<span id="cb236-10"><a href="examples-of-process-modeling.html#cb236-10" tabindex="-1"></a>            suspendFor<span class="op">(</span>daughterExiting<span class="op">)</span></span>
<span id="cb236-11"><a href="examples-of-process-modeling.html#cb236-11" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> running errands...&quot;</span><span class="op">)</span></span>
<span id="cb236-12"><a href="examples-of-process-modeling.html#cb236-12" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">45.0</span><span class="op">)</span></span>
<span id="cb236-13"><a href="examples-of-process-modeling.html#cb236-13" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> completed errands&quot;</span><span class="op">)</span></span>
<span id="cb236-14"><a href="examples-of-process-modeling.html#cb236-14" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>daughter<span class="op">.</span>motherShopping<span class="op">.</span>isSuspended<span class="op">){</span></span>
<span id="cb236-15"><a href="examples-of-process-modeling.html#cb236-15" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom, </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, mom resuming daughter done playing after errands&quot;</span><span class="op">)</span></span>
<span id="cb236-16"><a href="examples-of-process-modeling.html#cb236-16" tabindex="-1"></a>                resume<span class="op">(</span>daughter<span class="op">.</span>motherShopping<span class="op">)</span></span>
<span id="cb236-17"><a href="examples-of-process-modeling.html#cb236-17" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb236-18"><a href="examples-of-process-modeling.html#cb236-18" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom, </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, mom suspending because daughter is still playing&quot;</span><span class="op">)</span></span>
<span id="cb236-19"><a href="examples-of-process-modeling.html#cb236-19" tabindex="-1"></a>                suspendFor<span class="op">(</span>daughterPlaying<span class="op">)</span></span>
<span id="cb236-20"><a href="examples-of-process-modeling.html#cb236-20" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb236-21"><a href="examples-of-process-modeling.html#cb236-21" tabindex="-1"></a>            suspendFor<span class="op">(</span>daughterLoading<span class="op">)</span></span>
<span id="cb236-22"><a href="examples-of-process-modeling.html#cb236-22" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> driving home&quot;</span><span class="op">)</span></span>
<span id="cb236-23"><a href="examples-of-process-modeling.html#cb236-23" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb236-24"><a href="examples-of-process-modeling.html#cb236-24" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> arrived home&quot;</span><span class="op">)</span></span>
<span id="cb236-25"><a href="examples-of-process-modeling.html#cb236-25" tabindex="-1"></a>        <span class="op">}</span></span></code></pre></div>
<p>The mother will always suspend for the daughter loading. After being resumed by the daughter to indicate that the loading is complete, the mom delays for the drive home. The following output illustrates what happens for the case of the mothers errand time being less than the playing time of the daughter.</p>
<pre><code>0.0&gt; starting mom = ID_1
0.0&gt; mom = ID_1 driving to game
30.0&gt; mom = ID_1 arrived at game
30.0&gt; mom = ID_1 suspending for daughter to exit van
30.0&gt; starting daughter ID_2
30.0&gt; daughter, ID_2, exiting the van
32.0&gt; daughter, ID_2, exited the van
32.0&gt; daughter, ID_2, resuming mom
32.0&gt; daughter, ID_2, starting playing
32.0&gt; mom = ID_1 running errands...
77.0&gt; mom = ID_1 completed errands
77.0&gt; mom, ID_1, mom suspending because daughter is still playing
92.0&gt; daughter, ID_2, finished playing
92.0&gt; daughter, ID_2, entering van
94.0&gt; daughter, ID_2, entered van
94.0&gt; daughter, ID_2, entered van, resuming mom
94.0&gt; mom = ID_1 driving home
124.0&gt; mom = ID_1 arrived home</code></pre>
<p>We see in this output that the mom suspends at time 30, while the daughter exits the van. The daughter starts playing and the mom starts her errands at time 32. The mom completes her errands at time 77 and suspends until the daughter is done playing at time 92. At which time, the daughter enters the van at time 94. They both drive off together starting at time 94.</p>
<p>We encourage the interested reader to re-run the code after changing the playing time to a smaller value, for example, 30 minutes. Then, you will see that the daughter suspends until the mother completes her errands. Thus, by carefully suspending and resuming processes, we can coordinate their interaction as they proceed through time. This is the essence of the process interaction approach to simulation model representation. However, this low level coordination requires special attention to shared state and a deep understanding of how the processes interact, which can be error prone.</p>
<p>This same interaction can be achieved using other KSL constructs. Specifically, the <code>HoldQueue</code> and <code>Signal</code> constructs can also be used. Notice that when using the <code>Suspension</code> class, there were no waiting statistics collected when the processes wait for each other to complete. If you need waiting statistics, then using the <code>HoldQueue</code> or the <code>Signal</code> class can be useful.</p>
<p>The following code illustrates the use of the <code>HoldQueue</code> class. Notice that there are four hold queues defined. These represent the suspension points from the previous example. Just as before, the mother activates the daughter and then suspends via the <code>hold()</code> function. The mother uses the shared instances of the hold queues to check if the daughter is waiting in the <code>waitForMomToShopQ</code> hold queue. If so, the mother removes the daughter from the queue and then resumes the daughters process. the mother will suspend (if necessary) for the daughter to complete playing via the <code>hold(waitForDaughterToPlayQ)</code> call. In addition, the mother will hold for the daughter to enter the van.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb238-1"><a href="examples-of-process-modeling.html#cb238-1" tabindex="-1"></a><span class="kw">class</span> SoccerMomViaHoldQ<span class="op">(</span></span>
<span id="cb238-2"><a href="examples-of-process-modeling.html#cb238-2" tabindex="-1"></a>    <span class="va">parent</span><span class="op">:</span> <span class="dt">ModelElement</span><span class="op">,</span></span>
<span id="cb238-3"><a href="examples-of-process-modeling.html#cb238-3" tabindex="-1"></a>    <span class="va">name</span><span class="op">:</span> <span class="dt">String</span><span class="op">?</span> <span class="op">=</span> null</span>
<span id="cb238-4"><a href="examples-of-process-modeling.html#cb238-4" tabindex="-1"></a><span class="op">)</span> <span class="op">:</span> <span class="dt">ProcessModel</span><span class="op">(</span><span class="va">parent</span><span class="op">,</span> <span class="va">name</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb238-5"><a href="examples-of-process-modeling.html#cb238-5" tabindex="-1"></a></span>
<span id="cb238-6"><a href="examples-of-process-modeling.html#cb238-6" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">waitForDaughterToExitQ</span> <span class="op">=</span> HoldQueue<span class="op">(</span><span class="kw">this</span><span class="op">,</span> name <span class="op">=</span> <span class="st">&quot;WaitForDaughterToExitQ&quot;</span><span class="op">)</span></span>
<span id="cb238-7"><a href="examples-of-process-modeling.html#cb238-7" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">waitForDaughterToPlayQ</span> <span class="op">=</span> HoldQueue<span class="op">(</span><span class="kw">this</span><span class="op">,</span> name <span class="op">=</span> <span class="st">&quot;WaitForDaughterToPlayQ&quot;</span><span class="op">)</span></span>
<span id="cb238-8"><a href="examples-of-process-modeling.html#cb238-8" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">waitForDaughterToLoadQ</span> <span class="op">=</span> HoldQueue<span class="op">(</span><span class="kw">this</span><span class="op">,</span> name <span class="op">=</span> <span class="st">&quot;WaitForDaughterToLoadQ&quot;</span><span class="op">)</span></span>
<span id="cb238-9"><a href="examples-of-process-modeling.html#cb238-9" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">waitForMomToShopQ</span> <span class="op">=</span> HoldQueue<span class="op">(</span><span class="kw">this</span><span class="op">,</span> name <span class="op">=</span> <span class="st">&quot;WaitForMomToShopQ&quot;</span><span class="op">)</span></span>
<span id="cb238-10"><a href="examples-of-process-modeling.html#cb238-10" tabindex="-1"></a></span>
<span id="cb238-11"><a href="examples-of-process-modeling.html#cb238-11" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">initialize</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb238-12"><a href="examples-of-process-modeling.html#cb238-12" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">m</span> <span class="op">=</span> Mother<span class="op">()</span></span>
<span id="cb238-13"><a href="examples-of-process-modeling.html#cb238-13" tabindex="-1"></a>        activate<span class="op">(</span>m<span class="op">.</span>momProcess<span class="op">)</span></span>
<span id="cb238-14"><a href="examples-of-process-modeling.html#cb238-14" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb238-15"><a href="examples-of-process-modeling.html#cb238-15" tabindex="-1"></a></span>
<span id="cb238-16"><a href="examples-of-process-modeling.html#cb238-16" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Mother <span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb238-17"><a href="examples-of-process-modeling.html#cb238-17" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">momProcess</span> <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb238-18"><a href="examples-of-process-modeling.html#cb238-18" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; starting mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb238-19"><a href="examples-of-process-modeling.html#cb238-19" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> driving to game&quot;</span><span class="op">)</span></span>
<span id="cb238-20"><a href="examples-of-process-modeling.html#cb238-20" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb238-21"><a href="examples-of-process-modeling.html#cb238-21" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> arrived at game&quot;</span><span class="op">)</span></span>
<span id="cb238-22"><a href="examples-of-process-modeling.html#cb238-22" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">daughter</span> <span class="op">=</span> Daughter<span class="op">(</span>this<span class="at">@Mother</span><span class="op">)</span></span>
<span id="cb238-23"><a href="examples-of-process-modeling.html#cb238-23" tabindex="-1"></a>            activate<span class="op">(</span>daughter<span class="op">.</span>daughterProcess<span class="op">)</span></span>
<span id="cb238-24"><a href="examples-of-process-modeling.html#cb238-24" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> suspending for daughter to exit van&quot;</span><span class="op">)</span></span>
<span id="cb238-25"><a href="examples-of-process-modeling.html#cb238-25" tabindex="-1"></a>            <span class="co">//suspend mom&#39;s process</span></span>
<span id="cb238-26"><a href="examples-of-process-modeling.html#cb238-26" tabindex="-1"></a>            hold<span class="op">(</span>waitForDaughterToExitQ<span class="op">)</span></span>
<span id="cb238-27"><a href="examples-of-process-modeling.html#cb238-27" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> running errands...&quot;</span><span class="op">)</span></span>
<span id="cb238-28"><a href="examples-of-process-modeling.html#cb238-28" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">45.0</span><span class="op">)</span></span>
<span id="cb238-29"><a href="examples-of-process-modeling.html#cb238-29" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> completed errands&quot;</span><span class="op">)</span></span>
<span id="cb238-30"><a href="examples-of-process-modeling.html#cb238-30" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>waitForMomToShopQ<span class="op">.</span>contains<span class="op">(</span>daughter<span class="op">)){</span></span>
<span id="cb238-31"><a href="examples-of-process-modeling.html#cb238-31" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom, </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, mom resuming daughter done playing after errands&quot;</span><span class="op">)</span></span>
<span id="cb238-32"><a href="examples-of-process-modeling.html#cb238-32" tabindex="-1"></a>                waitForMomToShopQ<span class="op">.</span>removeAndResume<span class="op">(</span>daughter<span class="op">)</span></span>
<span id="cb238-33"><a href="examples-of-process-modeling.html#cb238-33" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb238-34"><a href="examples-of-process-modeling.html#cb238-34" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom, </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, mom suspending because daughter is still playing&quot;</span><span class="op">)</span></span>
<span id="cb238-35"><a href="examples-of-process-modeling.html#cb238-35" tabindex="-1"></a>                hold<span class="op">(</span>waitForDaughterToPlayQ<span class="op">)</span></span>
<span id="cb238-36"><a href="examples-of-process-modeling.html#cb238-36" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb238-37"><a href="examples-of-process-modeling.html#cb238-37" tabindex="-1"></a>            hold<span class="op">(</span>waitForDaughterToLoadQ<span class="op">)</span></span>
<span id="cb238-38"><a href="examples-of-process-modeling.html#cb238-38" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> driving home&quot;</span><span class="op">)</span></span>
<span id="cb238-39"><a href="examples-of-process-modeling.html#cb238-39" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb238-40"><a href="examples-of-process-modeling.html#cb238-40" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mother</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> arrived home&quot;</span><span class="op">)</span></span>
<span id="cb238-41"><a href="examples-of-process-modeling.html#cb238-41" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb238-42"><a href="examples-of-process-modeling.html#cb238-42" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>The daughters process is very similar to the previous example code. Notice that the shared references to the hold queues are used to check if the mother is waiting.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb239-1"><a href="examples-of-process-modeling.html#cb239-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Daughter<span class="op">(</span><span class="kw">val</span> <span class="va">mother</span><span class="op">:</span> <span class="dt">Mother</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb239-2"><a href="examples-of-process-modeling.html#cb239-2" tabindex="-1"></a></span>
<span id="cb239-3"><a href="examples-of-process-modeling.html#cb239-3" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">daughterProcess</span> <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb239-4"><a href="examples-of-process-modeling.html#cb239-4" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; starting daughter </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb239-5"><a href="examples-of-process-modeling.html#cb239-5" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, exiting the van&quot;</span><span class="op">)</span></span>
<span id="cb239-6"><a href="examples-of-process-modeling.html#cb239-6" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">2.0</span><span class="op">)</span></span>
<span id="cb239-7"><a href="examples-of-process-modeling.html#cb239-7" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, exited the van&quot;</span><span class="op">)</span></span>
<span id="cb239-8"><a href="examples-of-process-modeling.html#cb239-8" tabindex="-1"></a>            <span class="co">// resume mom process</span></span>
<span id="cb239-9"><a href="examples-of-process-modeling.html#cb239-9" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, resuming mom&quot;</span><span class="op">)</span></span>
<span id="cb239-10"><a href="examples-of-process-modeling.html#cb239-10" tabindex="-1"></a>            waitForDaughterToExitQ<span class="op">.</span>removeAndResume<span class="op">(</span>mother<span class="op">)</span></span>
<span id="cb239-11"><a href="examples-of-process-modeling.html#cb239-11" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, starting playing&quot;</span><span class="op">)</span></span>
<span id="cb239-12"><a href="examples-of-process-modeling.html#cb239-12" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb239-13"><a href="examples-of-process-modeling.html#cb239-13" tabindex="-1"></a><span class="co">//            delay(60.0)</span></span>
<span id="cb239-14"><a href="examples-of-process-modeling.html#cb239-14" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, finished playing&quot;</span><span class="op">)</span></span>
<span id="cb239-15"><a href="examples-of-process-modeling.html#cb239-15" tabindex="-1"></a>            <span class="co">// suspend if mom isn&#39;t here</span></span>
<span id="cb239-16"><a href="examples-of-process-modeling.html#cb239-16" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>waitForDaughterToPlayQ<span class="op">.</span>contains<span class="op">(</span>mother<span class="op">)){</span></span>
<span id="cb239-17"><a href="examples-of-process-modeling.html#cb239-17" tabindex="-1"></a>                <span class="co">// mom&#39;s errand was completed and mom suspended because daughter was playing</span></span>
<span id="cb239-18"><a href="examples-of-process-modeling.html#cb239-18" tabindex="-1"></a>                waitForDaughterToPlayQ<span class="op">.</span>removeAndResume<span class="op">(</span>mother<span class="op">)</span></span>
<span id="cb239-19"><a href="examples-of-process-modeling.html#cb239-19" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb239-20"><a href="examples-of-process-modeling.html#cb239-20" tabindex="-1"></a>                println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, mom errands not completed suspending&quot;</span><span class="op">)</span></span>
<span id="cb239-21"><a href="examples-of-process-modeling.html#cb239-21" tabindex="-1"></a>                hold<span class="op">(</span>waitForMomToShopQ<span class="op">)</span></span>
<span id="cb239-22"><a href="examples-of-process-modeling.html#cb239-22" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb239-23"><a href="examples-of-process-modeling.html#cb239-23" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, entering van&quot;</span><span class="op">)</span></span>
<span id="cb239-24"><a href="examples-of-process-modeling.html#cb239-24" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">2.0</span><span class="op">)</span></span>
<span id="cb239-25"><a href="examples-of-process-modeling.html#cb239-25" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, entered van&quot;</span><span class="op">)</span></span>
<span id="cb239-26"><a href="examples-of-process-modeling.html#cb239-26" tabindex="-1"></a>            <span class="co">// resume mom process</span></span>
<span id="cb239-27"><a href="examples-of-process-modeling.html#cb239-27" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; daughter, </span><span class="ss">${</span>this<span class="at">@Daughter</span><span class="op">.</span>name<span class="ss">}</span><span class="st">, entered van, resuming mom&quot;</span><span class="op">)</span></span>
<span id="cb239-28"><a href="examples-of-process-modeling.html#cb239-28" tabindex="-1"></a>            waitForDaughterToLoadQ<span class="op">.</span>removeAndResume<span class="op">(</span>mother<span class="op">)</span></span>
<span id="cb239-29"><a href="examples-of-process-modeling.html#cb239-29" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb239-30"><a href="examples-of-process-modeling.html#cb239-30" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>Since the implementation using the <code>Signal</code> class is very similar, its use is left as an exercise for the reader.</p>
<p>The KSL has one other concept that facilitates process interaction: <em>blockages.</em> A blockage is like a semaphore or lock on a portion of a suspending function. Think of a blockage as a gate that prevents another process from proceeding with its own process until another process has proceeded through the marked portion of code.</p>
<p>A blockage can be used to block (suspend) other entities while they wait for the blockage to be cleared. The user can mark process code with the start of a blockage and a subsequent end of the blockage. While the entity that creates the blockage is within the blocking code, other entities can be made to wait until the blockage is cleared. Only the entity that creates the blockage can start and clear it. A started blockage must be cleared before the end of the process routine that contains it; otherwise, an exception will occur. Thus, blockages that are started must always be cleared. The primary purpose of this construct is to facilitate process interaction between entities. Using blockages should be preferred over the use of <code>Suspension</code> instances. The following code illustrates the soccer mom and daughter interaction using blockages.</p>
<p>For the purposes of clarity of presentation, the print statements have been removed from the example code. The exercises ask the reader to show via print statements that the implementation using blockages results in the same interaction. Lets start with the mothers process. Since the daughter might have to wait for the mom to finish shopping, we will define a blockage to cover this activity.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb240-1"><a href="examples-of-process-modeling.html#cb240-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Mom <span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb240-2"><a href="examples-of-process-modeling.html#cb240-2" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">shopping</span><span class="op">:</span> Blockage <span class="op">=</span> Blockage<span class="op">(</span><span class="st">&quot;shopping&quot;</span><span class="op">)</span></span>
<span id="cb240-3"><a href="examples-of-process-modeling.html#cb240-3" tabindex="-1"></a>        </span>
<span id="cb240-4"><a href="examples-of-process-modeling.html#cb240-4" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">momProcess</span> <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb240-5"><a href="examples-of-process-modeling.html#cb240-5" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb240-6"><a href="examples-of-process-modeling.html#cb240-6" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">daughter</span> <span class="op">=</span> Daughter<span class="op">(</span>this<span class="at">@Mom</span><span class="op">)</span></span>
<span id="cb240-7"><a href="examples-of-process-modeling.html#cb240-7" tabindex="-1"></a>            activate<span class="op">(</span>daughter<span class="op">.</span>daughterProcess<span class="op">)</span></span>
<span id="cb240-8"><a href="examples-of-process-modeling.html#cb240-8" tabindex="-1"></a>            waitFor<span class="op">(</span>daughter<span class="op">.</span>unloading<span class="op">)</span></span>
<span id="cb240-9"><a href="examples-of-process-modeling.html#cb240-9" tabindex="-1"></a>            startBlockage<span class="op">(</span>shopping<span class="op">)</span></span>
<span id="cb240-10"><a href="examples-of-process-modeling.html#cb240-10" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">45.0</span><span class="op">)</span></span>
<span id="cb240-11"><a href="examples-of-process-modeling.html#cb240-11" tabindex="-1"></a>            clearBlockage<span class="op">(</span>shopping<span class="op">)</span></span>
<span id="cb240-12"><a href="examples-of-process-modeling.html#cb240-12" tabindex="-1"></a>            waitFor<span class="op">(</span>daughter<span class="op">.</span>playing<span class="op">)</span></span>
<span id="cb240-13"><a href="examples-of-process-modeling.html#cb240-13" tabindex="-1"></a>            waitFor<span class="op">(</span>daughter<span class="op">.</span>loading<span class="op">)</span></span>
<span id="cb240-14"><a href="examples-of-process-modeling.html#cb240-14" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb240-15"><a href="examples-of-process-modeling.html#cb240-15" tabindex="-1"></a>            println<span class="op">(</span><span class="st">&quot;</span><span class="ss">$time</span><span class="st">&gt; mom = </span><span class="ss">${</span>this<span class="at">@Mom</span><span class="op">.</span>name<span class="ss">}</span><span class="st"> arrived home&quot;</span><span class="op">)</span></span>
<span id="cb240-16"><a href="examples-of-process-modeling.html#cb240-16" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb240-17"><a href="examples-of-process-modeling.html#cb240-17" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>Again, the mother creates and activates the daughter. The mother uses the <code>waitFor(blockage: Blockage)</code> suspending function to wait for the daughter to complete unloading. To see how this works, lets review the daughters process.</p>
<p>The daughter has three potential blockages to represent unloading, playing, and loading. In the following code, notice how the unloading delay is between the start of a blockage and the clearing of the unloading blockage. This matching <code>startBlockage</code> and <code>clearBlockage</code> is like putting up a fence. The <code>waitFor(daughter.unloading)</code> call within the mothers process, will check if the blockage is started or cleared. If the blockage is cleared, then the entity immediately continues (does not suspend); however, if the blockage is started, the entity executing the <code>waitFor()</code> will suspend until the blockage is cleared. Thus, the mom will wait until the daughter is unloaded.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb241-1"><a href="examples-of-process-modeling.html#cb241-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Daughter<span class="op">(</span><span class="kw">val</span> <span class="va">mom</span><span class="op">:</span> <span class="dt">Mom</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb241-2"><a href="examples-of-process-modeling.html#cb241-2" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">unloading</span><span class="op">:</span> Blockage <span class="op">=</span> Blockage<span class="op">(</span><span class="st">&quot;unloading&quot;</span><span class="op">)</span></span>
<span id="cb241-3"><a href="examples-of-process-modeling.html#cb241-3" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">playing</span><span class="op">:</span> Blockage <span class="op">=</span> Blockage<span class="op">(</span><span class="st">&quot;playing&quot;</span><span class="op">)</span></span>
<span id="cb241-4"><a href="examples-of-process-modeling.html#cb241-4" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">loading</span><span class="op">:</span> Blockage <span class="op">=</span> Blockage<span class="op">(</span><span class="st">&quot;loading&quot;</span><span class="op">)</span></span>
<span id="cb241-5"><a href="examples-of-process-modeling.html#cb241-5" tabindex="-1"></a></span>
<span id="cb241-6"><a href="examples-of-process-modeling.html#cb241-6" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">daughterProcess</span> <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb241-7"><a href="examples-of-process-modeling.html#cb241-7" tabindex="-1"></a>            startBlockage<span class="op">(</span>unloading<span class="op">)</span></span>
<span id="cb241-8"><a href="examples-of-process-modeling.html#cb241-8" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">2.0</span><span class="op">)</span></span>
<span id="cb241-9"><a href="examples-of-process-modeling.html#cb241-9" tabindex="-1"></a>            clearBlockage<span class="op">(</span>unloading<span class="op">)</span></span>
<span id="cb241-10"><a href="examples-of-process-modeling.html#cb241-10" tabindex="-1"></a>            startBlockage<span class="op">(</span>playing<span class="op">)</span></span>
<span id="cb241-11"><a href="examples-of-process-modeling.html#cb241-11" tabindex="-1"></a>            <span class="co">// delay(30.0)</span></span>
<span id="cb241-12"><a href="examples-of-process-modeling.html#cb241-12" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">60.0</span><span class="op">)</span></span>
<span id="cb241-13"><a href="examples-of-process-modeling.html#cb241-13" tabindex="-1"></a>            clearBlockage<span class="op">(</span>playing<span class="op">)</span></span>
<span id="cb241-14"><a href="examples-of-process-modeling.html#cb241-14" tabindex="-1"></a>            waitFor<span class="op">(</span>mom<span class="op">.</span>shopping<span class="op">)</span></span>
<span id="cb241-15"><a href="examples-of-process-modeling.html#cb241-15" tabindex="-1"></a>            startBlockage<span class="op">(</span>loading<span class="op">)</span></span>
<span id="cb241-16"><a href="examples-of-process-modeling.html#cb241-16" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">2.0</span><span class="op">)</span></span>
<span id="cb241-17"><a href="examples-of-process-modeling.html#cb241-17" tabindex="-1"></a>            clearBlockage<span class="op">(</span>loading<span class="op">)</span></span>
<span id="cb241-18"><a href="examples-of-process-modeling.html#cb241-18" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb241-19"><a href="examples-of-process-modeling.html#cb241-19" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>Notice the use of the <code>shopping</code> blockage within the mothers process. This blockage surrounds the delay for shopping. Now, in the daughters process we see the use of the <code>waitFor(mom.shopping)</code> function call. Again, if the mom is still shopping, the daughter will suspend; however, if the mom has cleared the shopping blockage, the daughter proceeds to the unloading activity. If you need queue statistics, when using blockages, you can still use the <code>Queue</code> class and enqueue the entity prior to the <code>waitFor</code> call and remove the entity after the <code>waitFor</code> call.</p>
<div class="infobox important">
<p><strong>IMPORTANT!</strong>
A blockage can only be started and cleared by the entity that instantiates it. In addition, a blockage that has been started must be cleared before the end of the process within which it appears. A common error in the usage of blockages would be to not clear the blockage.</p>
</div>
<p>As illustrated in the previous example, using a blockage around an activity is a common use case. Because of this, the KSL provides a special type of blockage just for activities. Here is the code that uses <code>BlockingActivity</code> instances.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb242-1"><a href="examples-of-process-modeling.html#cb242-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Mom <span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb242-2"><a href="examples-of-process-modeling.html#cb242-2" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">shopping</span><span class="op">:</span> BlockingActivity <span class="op">=</span> BlockingActivity<span class="op">(</span><span class="fl">45.0</span><span class="op">)</span></span>
<span id="cb242-3"><a href="examples-of-process-modeling.html#cb242-3" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">momProcess</span> <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb242-4"><a href="examples-of-process-modeling.html#cb242-4" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb242-5"><a href="examples-of-process-modeling.html#cb242-5" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">daughter</span> <span class="op">=</span> Daughter<span class="op">(</span>this<span class="at">@Mom</span><span class="op">)</span></span>
<span id="cb242-6"><a href="examples-of-process-modeling.html#cb242-6" tabindex="-1"></a>            activate<span class="op">(</span>daughter<span class="op">.</span>daughterProcess<span class="op">)</span></span>
<span id="cb242-7"><a href="examples-of-process-modeling.html#cb242-7" tabindex="-1"></a>            waitFor<span class="op">(</span>daughter<span class="op">.</span>unloading<span class="op">)</span></span>
<span id="cb242-8"><a href="examples-of-process-modeling.html#cb242-8" tabindex="-1"></a>            perform<span class="op">(</span>shopping<span class="op">)</span></span>
<span id="cb242-9"><a href="examples-of-process-modeling.html#cb242-9" tabindex="-1"></a>            waitFor<span class="op">(</span>daughter<span class="op">.</span>playing<span class="op">)</span></span>
<span id="cb242-10"><a href="examples-of-process-modeling.html#cb242-10" tabindex="-1"></a>            waitFor<span class="op">(</span>daughter<span class="op">.</span>loading<span class="op">)</span></span>
<span id="cb242-11"><a href="examples-of-process-modeling.html#cb242-11" tabindex="-1"></a>            delay<span class="op">(</span><span class="fl">30.0</span><span class="op">)</span></span>
<span id="cb242-12"><a href="examples-of-process-modeling.html#cb242-12" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb242-13"><a href="examples-of-process-modeling.html#cb242-13" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>Notice the use of the new <code>perform()</code> suspending function. The <code>perform()</code> function essentially wraps a delay with a blockage. This ensures that you do not forget to clear the blockage. The daughters process is also simplified as follows.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb243-1"><a href="examples-of-process-modeling.html#cb243-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">inner</span> <span class="kw">class</span> Daughter<span class="op">(</span><span class="kw">val</span> <span class="va">mom</span><span class="op">:</span> <span class="dt">Mom</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Entity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb243-2"><a href="examples-of-process-modeling.html#cb243-2" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">unloading</span><span class="op">:</span> BlockingActivity <span class="op">=</span> BlockingActivity<span class="op">(</span><span class="fl">2.0</span><span class="op">)</span></span>
<span id="cb243-3"><a href="examples-of-process-modeling.html#cb243-3" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">playing</span><span class="op">:</span> BlockingActivity <span class="op">=</span> BlockingActivity<span class="op">(</span><span class="fl">60.0</span><span class="op">)</span></span>
<span id="cb243-4"><a href="examples-of-process-modeling.html#cb243-4" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">loading</span><span class="op">:</span> BlockingActivity <span class="op">=</span> BlockingActivity<span class="op">(</span><span class="fl">2.0</span><span class="op">)</span></span>
<span id="cb243-5"><a href="examples-of-process-modeling.html#cb243-5" tabindex="-1"></a></span>
<span id="cb243-6"><a href="examples-of-process-modeling.html#cb243-6" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">daughterProcess</span> <span class="op">=</span> process <span class="op">{</span></span>
<span id="cb243-7"><a href="examples-of-process-modeling.html#cb243-7" tabindex="-1"></a>            perform<span class="op">(</span>unloading<span class="op">)</span></span>
<span id="cb243-8"><a href="examples-of-process-modeling.html#cb243-8" tabindex="-1"></a>            perform<span class="op">(</span>playing<span class="op">)</span></span>
<span id="cb243-9"><a href="examples-of-process-modeling.html#cb243-9" tabindex="-1"></a>            waitFor<span class="op">(</span>mom<span class="op">.</span>shopping<span class="op">)</span></span>
<span id="cb243-10"><a href="examples-of-process-modeling.html#cb243-10" tabindex="-1"></a>            perform<span class="op">(</span>loading<span class="op">)</span></span>
<span id="cb243-11"><a href="examples-of-process-modeling.html#cb243-11" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb243-12"><a href="examples-of-process-modeling.html#cb243-12" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>Besides blockages for activities, the KSL provides blockages for the following common situations:</p>
<ul>
<li><code>BlockingResourceUsage</code> - Wraps a blockage around the <code>use()</code> suspending function when using a resource or resource with queue during an activity.</li>
<li><code>BlockingResourcePoolUsage</code> - Wraps a blockage around the <code>use()</code> suspending function when using a resource pool or resource pool with queue during an activity.</li>
<li><code>BlockingMovement</code> - Wraps a blockage around the use of the <code>move()</code> suspending function. The movement of entities will be discussed in a subsequent chapter.</li>
</ul>
<p>In the next section, we will develop a more realistically sized process model for a STEM Career Mixer involving students and recruiters.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="understanding-ksl-processes-and-entities.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modeling-a-stem-career-mixer.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
