<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>A.3 The JSL Database | Simulation Modeling using the Kotlin Simulation Library</title>
  <meta name="description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="A.3 The JSL Database | Simulation Modeling using the Kotlin Simulation Library" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="A.3 The JSL Database | Simulation Modeling using the Kotlin Simulation Library" />
  
  <meta name="twitter:description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  

<meta name="author" content="Manuel D. Rossetti" />


<meta name="date" content="2022-12-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="jslmath-class.html"/>
<link rel="next" href="appRNRV.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Simulation Modeling using the Kotlin Simulation Library</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="ch1.html"><a href="ch1.html"><i class="fa fa-check"></i><b>1</b> Simulation Modeling</a>
<ul>
<li class="chapter" data-level="1.1" data-path="simulation-modeling.html"><a href="simulation-modeling.html"><i class="fa fa-check"></i><b>1.1</b> Simulation Modeling</a></li>
<li class="chapter" data-level="1.2" data-path="why-simulate.html"><a href="why-simulate.html"><i class="fa fa-check"></i><b>1.2</b> Why Simulate?</a></li>
<li class="chapter" data-level="1.3" data-path="types-of-systems-and-simulation-models.html"><a href="types-of-systems-and-simulation-models.html"><i class="fa fa-check"></i><b>1.3</b> Types of Systems and Simulation Models</a></li>
<li class="chapter" data-level="1.4" data-path="simulation-descriptive-or-prescriptive-modeling.html"><a href="simulation-descriptive-or-prescriptive-modeling.html"><i class="fa fa-check"></i><b>1.4</b> Simulation: Descriptive or Prescriptive Modeling?</a></li>
<li class="chapter" data-level="1.5" data-path="randomness-in-simulation.html"><a href="randomness-in-simulation.html"><i class="fa fa-check"></i><b>1.5</b> Randomness in Simulation</a></li>
<li class="chapter" data-level="1.6" data-path="simulation-languages.html"><a href="simulation-languages.html"><i class="fa fa-check"></i><b>1.6</b> Simulation Languages</a></li>
<li class="chapter" data-level="1.7" data-path="ch1:sec:simMeth.html"><a href="ch1:sec:simMeth.html"><i class="fa fa-check"></i><b>1.7</b> Simulation Methodology</a></li>
<li class="chapter" data-level="1.8" data-path="overview-of-the-kotline-simulation-library.html"><a href="overview-of-the-kotline-simulation-library.html"><i class="fa fa-check"></i><b>1.8</b> Overview of the Kotline Simulation Library</a></li>
<li class="chapter" data-level="1.9" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>1.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ch2rng.html"><a href="ch2rng.html"><i class="fa fa-check"></i><b>2</b> Modeling Randomness</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ch2generator.html"><a href="ch2generator.html"><i class="fa fa-check"></i><b>2.1</b> Random Number Generator</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="ch2generator.html"><a href="ch2generator.html#ch2randompkg"><i class="fa fa-check"></i><b>2.1.1</b> Random Package</a></li>
<li class="chapter" data-level="2.1.2" data-path="ch2generator.html"><a href="ch2generator.html#ch2creatingStreams"><i class="fa fa-check"></i><b>2.1.2</b> Creating and Using Streams</a></li>
<li class="chapter" data-level="2.1.3" data-path="ch2generator.html"><a href="ch2generator.html#ch2crn"><i class="fa fa-check"></i><b>2.1.3</b> Common Random Numbers</a></li>
<li class="chapter" data-level="2.1.4" data-path="ch2generator.html"><a href="ch2generator.html#ch2antitheticStreams"><i class="fa fa-check"></i><b>2.1.4</b> Creating and Using Antithetic Streams</a></li>
<li class="chapter" data-level="2.1.5" data-path="ch2generator.html"><a href="ch2generator.html#ch2rnFAQ"><i class="fa fa-check"></i><b>2.1.5</b> Frequently Asked Questions about Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rvg.html"><a href="rvg.html"><i class="fa fa-check"></i><b>2.2</b> Random Variate Generation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rvg.html"><a href="rvg.html#rvg_dists"><i class="fa fa-check"></i><b>2.2.1</b> Continuous and Discrete Random Variables</a></li>
<li class="chapter" data-level="2.2.2" data-path="rvg.html"><a href="rvg.html#rvg_algo"><i class="fa fa-check"></i><b>2.2.2</b> Overview of Generation Algorithms</a></li>
<li class="chapter" data-level="2.2.3" data-path="rvg.html"><a href="rvg.html#rvg_use"><i class="fa fa-check"></i><b>2.2.3</b> Creating and Using Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="probability-distribution-models.html"><a href="probability-distribution-models.html"><i class="fa fa-check"></i><b>2.3</b> Probability Distribution Models</a></li>
<li class="chapter" data-level="2.4" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>2.4</b> Summary</a></li>
<li class="chapter" data-level="2.5" data-path="exercises-1.html"><a href="exercises-1.html"><i class="fa fa-check"></i><b>2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mcm.html"><a href="mcm.html"><i class="fa fa-check"></i><b>3</b> Monte Carlo Methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="kslStatistics.html"><a href="kslStatistics.html"><i class="fa fa-check"></i><b>3.1</b> Collecting Statistics</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="kslStatistics.html"><a href="kslStatistics.html#creating-and-using-a-statistic"><i class="fa fa-check"></i><b>3.1.1</b> Creating and Using a Statistic</a></li>
<li class="chapter" data-level="3.1.2" data-path="kslStatistics.html"><a href="kslStatistics.html#histograms-and-frequencies"><i class="fa fa-check"></i><b>3.1.2</b> Histograms and Frequencies</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ch3batchStats.html"><a href="ch3batchStats.html"><i class="fa fa-check"></i><b>3.2</b> Batch Statistics</a></li>
<li class="chapter" data-level="3.3" data-path="ssMC.html"><a href="ssMC.html"><i class="fa fa-check"></i><b>3.3</b> Simple Monte Carlo Integration</a></li>
<li class="chapter" data-level="3.4" data-path="ch3StatReview.html"><a href="ch3StatReview.html"><i class="fa fa-check"></i><b>3.4</b> Review of Statistical Concepts</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="ch3StatReview.html"><a href="ch3StatReview.html#point-estimates-and-confidence-intervals"><i class="fa fa-check"></i><b>3.4.1</b> Point Estimates and Confidence Intervals</a></li>
<li class="chapter" data-level="3.4.2" data-path="ch3StatReview.html"><a href="ch3StatReview.html#ch3SampleSize"><i class="fa fa-check"></i><b>3.4.2</b> Sample Size Determination</a></li>
<li class="chapter" data-level="3.4.3" data-path="ch3StatReview.html"><a href="ch3StatReview.html#determining-the-sample-size-for-a-monte-carlo-simulation-experiment"><i class="fa fa-check"></i><b>3.4.3</b> Determining the Sample Size for a Monte Carlo Simulation Experiment</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="craps.html"><a href="craps.html"><i class="fa fa-check"></i><b>3.5</b> Simulating the Game of Craps</a></li>
<li class="chapter" data-level="3.6" data-path="the-news-vendor-problem.html"><a href="the-news-vendor-problem.html"><i class="fa fa-check"></i><b>3.6</b> The News Vendor Problem</a></li>
<li class="chapter" data-level="3.7" data-path="summary-1.html"><a href="summary-1.html"><i class="fa fa-check"></i><b>3.7</b> Summary</a></li>
<li class="chapter" data-level="3.8" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i><b>3.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introDEDS.html"><a href="introDEDS.html"><i class="fa fa-check"></i><b>4</b> Introduction to Discrete Event Modeling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introDEDSIntro.html"><a href="introDEDSIntro.html"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="introDEDSdeds.html"><a href="introDEDSdeds.html"><i class="fa fa-check"></i><b>4.2</b> Discrete-Event Dynamic Systems</a></li>
<li class="chapter" data-level="4.3" data-path="HowDEDSClockWorks.html"><a href="HowDEDSClockWorks.html"><i class="fa fa-check"></i><b>4.3</b> How the Discrete-Event Clock Works</a></li>
<li class="chapter" data-level="4.4" data-path="QHandExample.html"><a href="QHandExample.html"><i class="fa fa-check"></i><b>4.4</b> Simulating a Queueing System By Hand</a></li>
<li class="chapter" data-level="4.5" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html"><i class="fa fa-check"></i><b>4.5</b> Modeling DEDS in the KSL</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#event-scheduling"><i class="fa fa-check"></i><b>4.5.1</b> Event Scheduling</a></li>
<li class="chapter" data-level="4.5.2" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSschedExamples"><i class="fa fa-check"></i><b>4.5.2</b> Simple Event Scheduling Examples</a></li>
<li class="chapter" data-level="4.5.3" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSUpDown"><i class="fa fa-check"></i><b>4.5.3</b> Up and Down Component Example</a></li>
<li class="chapter" data-level="4.5.4" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSPharmacy"><i class="fa fa-check"></i><b>4.5.4</b> Modeling a Simple Queueing System</a></li>
<li class="chapter" data-level="4.5.5" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#more-details-about-the-pharmacy-model-implementation"><i class="fa fa-check"></i><b>4.5.5</b> More Details About the Pharmacy Model Implementation</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html"><i class="fa fa-check"></i><b>4.6</b> Enhancing the Drive Through Pharmacy Model</a></li>
<li class="chapter" data-level="4.7" data-path="introDEDSSummary.html"><a href="introDEDSSummary.html"><i class="fa fa-check"></i><b>4.7</b> Summary</a></li>
<li class="chapter" data-level="4.8" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i><b>4.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simoa.html"><a href="simoa.html"><i class="fa fa-check"></i><b>5</b> Analyzing Simulation Output</a>
<ul>
<li class="chapter" data-level="5.1" data-path="simoadatatypes.html"><a href="simoadatatypes.html"><i class="fa fa-check"></i><b>5.1</b> Types of Statistical Variables</a></li>
<li class="chapter" data-level="5.2" data-path="simoasimtypes.html"><a href="simoasimtypes.html"><i class="fa fa-check"></i><b>5.2</b> Types of Simulation With Respect To Output Analysis</a></li>
<li class="chapter" data-level="5.3" data-path="simoafinhorizon.html"><a href="simoafinhorizon.html"><i class="fa fa-check"></i><b>5.3</b> Analysis of Finite Horizon Simulations</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="simoafinhorizon.html"><a href="simoafinhorizon.html#simoafinhorizonsamplesize"><i class="fa fa-check"></i><b>5.3.1</b> Determining the Number of Replications</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html"><i class="fa fa-check"></i><b>5.4</b> Finite Horizon Example</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#conceptualizing-the-model"><i class="fa fa-check"></i><b>5.4.1</b> Conceptualizing the Model</a></li>
<li class="chapter" data-level="5.4.2" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#simoaseqsampling"><i class="fa fa-check"></i><b>5.4.2</b> Sequential Sampling for Finite Horizon Simulations</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html"><i class="fa fa-check"></i><b>5.5</b> Analysis of Infinite Horizon Simulations</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizoninitialbias"><i class="fa fa-check"></i><b>5.5.1</b> Assessing the Effect of Initial Conditions</a></li>
<li class="chapter" data-level="5.5.2" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonrepDeletion"><i class="fa fa-check"></i><b>5.5.2</b> Performing the Method of Replication-Deletion</a></li>
<li class="chapter" data-level="5.5.3" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonbatchmeans"><i class="fa fa-check"></i><b>5.5.3</b> The Method of Batch Means</a></li>
<li class="chapter" data-level="5.5.4" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonjslbatching"><i class="fa fa-check"></i><b>5.5.4</b> Performing the Method of Batch Means</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html"><i class="fa fa-check"></i><b>5.6</b> Comparing System Configurations</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#simoacomparingSystems:two"><i class="fa fa-check"></i><b>5.6.1</b> Comparing Two Systems</a></li>
<li class="chapter" data-level="5.6.2" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#simoacomparingSystemsMCB"><i class="fa fa-check"></i><b>5.6.2</b> Multiple Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="simoasummary.html"><a href="simoasummary.html"><i class="fa fa-check"></i><b>5.7</b> Summary</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="miscellaneous-utility-classes.html"><a href="miscellaneous-utility-classes.html"><i class="fa fa-check"></i><b>A</b> Miscellaneous Utility Classes</a>
<ul>
<li class="chapter" data-level="A.1" data-path="reporting.html"><a href="reporting.html"><i class="fa fa-check"></i><b>A.1</b> Reporting</a></li>
<li class="chapter" data-level="A.2" data-path="jslmath-class.html"><a href="jslmath-class.html"><i class="fa fa-check"></i><b>A.2</b> <code>JSLMath</code> Class</a></li>
<li class="chapter" data-level="A.3" data-path="the-jsl-database.html"><a href="the-jsl-database.html"><i class="fa fa-check"></i><b>A.3</b> The JSL Database</a>
<ul>
<li class="chapter" data-level="A.3.1" data-path="the-jsl-database.html"><a href="the-jsl-database.html#the-jsl-database-structure"><i class="fa fa-check"></i><b>A.3.1</b> The JSL Database Structure</a></li>
<li class="chapter" data-level="A.3.2" data-path="the-jsl-database.html"><a href="the-jsl-database.html#creating-and-using-a-default-jsl-database"><i class="fa fa-check"></i><b>A.3.2</b> Creating and Using a Default JSL Database</a></li>
<li class="chapter" data-level="A.3.3" data-path="the-jsl-database.html"><a href="the-jsl-database.html#creating-and-using-jsl-databases"><i class="fa fa-check"></i><b>A.3.3</b> Creating and Using JSL Databases</a></li>
<li class="chapter" data-level="A.3.4" data-path="the-jsl-database.html"><a href="the-jsl-database.html#querying-the-jsl-database"><i class="fa fa-check"></i><b>A.3.4</b> Querying the JSL Database</a></li>
<li class="chapter" data-level="A.3.5" data-path="the-jsl-database.html"><a href="the-jsl-database.html#additional-functionality"><i class="fa fa-check"></i><b>A.3.5</b> Additional Functionality</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appRNRV.html"><a href="appRNRV.html"><i class="fa fa-check"></i><b>B</b> Generating Pseudo-Random Numbers and Random Variates</a>
<ul>
<li class="chapter" data-level="B.1" data-path="appRNRVPRN.html"><a href="appRNRVPRN.html"><i class="fa fa-check"></i><b>B.1</b> Pseudo Random Numbers</a>
<ul>
<li class="chapter" data-level="B.1.1" data-path="appRNRVPRN.html"><a href="appRNRVPRN.html#appRNRVRNGs"><i class="fa fa-check"></i><b>B.1.1</b> Random Number Generators</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="appRNRVs.html"><a href="appRNRVs.html"><i class="fa fa-check"></i><b>B.2</b> Generating Random Variates from Distributions</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="appRNRVs.html"><a href="appRNRVs.html#inverse-transform-method"><i class="fa fa-check"></i><b>B.2.1</b> Inverse Transform Method</a></li>
<li class="chapter" data-level="B.2.2" data-path="appRNRVs.html"><a href="appRNRVs.html#convolution"><i class="fa fa-check"></i><b>B.2.2</b> Convolution</a></li>
<li class="chapter" data-level="B.2.3" data-path="appRNRVs.html"><a href="appRNRVs.html#acceptancerejection"><i class="fa fa-check"></i><b>B.2.3</b> Acceptance/Rejection</a></li>
<li class="chapter" data-level="B.2.4" data-path="appRNRVs.html"><a href="appRNRVs.html#appRNRVsubsecMTSRV"><i class="fa fa-check"></i><b>B.2.4</b> Mixture Distributions, Truncated Distributions, and Shifted Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="summary-2.html"><a href="summary-2.html"><i class="fa fa-check"></i><b>B.3</b> Summary</a></li>
<li class="chapter" data-level="B.4" data-path="exercises-4.html"><a href="exercises-4.html"><i class="fa fa-check"></i><b>B.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="appidm.html"><a href="appidm.html"><i class="fa fa-check"></i><b>C</b> Probability Distribution Modeling</a>
<ul>
<li class="chapter" data-level="C.1" data-path="appidmsecrvPD.html"><a href="appidmsecrvPD.html"><i class="fa fa-check"></i><b>C.1</b> Random Variables and Probability Distributions</a></li>
<li class="chapter" data-level="C.2" data-path="appidmsecMDD.html"><a href="appidmsecMDD.html"><i class="fa fa-check"></i><b>C.2</b> Modeling with Discrete Distributions</a></li>
<li class="chapter" data-level="C.3" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html"><i class="fa fa-check"></i><b>C.3</b> Fitting Discrete Distributions</a>
<ul>
<li class="chapter" data-level="C.3.1" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#AppDisFitPoissonFit"><i class="fa fa-check"></i><b>C.3.1</b> Fitting a Poisson Distribution</a></li>
<li class="chapter" data-level="C.3.2" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#visualizing-the-data"><i class="fa fa-check"></i><b>C.3.2</b> Visualizing the Data</a></li>
<li class="chapter" data-level="C.3.3" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#estimating-the-rate-parameter-for-the-poisson-distribution"><i class="fa fa-check"></i><b>C.3.3</b> Estimating the Rate Parameter for the Poisson Distribution</a></li>
<li class="chapter" data-level="C.3.4" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#chi-squared-goodness-of-fit-test-for-poisson-distribution"><i class="fa fa-check"></i><b>C.3.4</b> Chi-Squared Goodness of Fit Test for Poisson Distribution</a></li>
<li class="chapter" data-level="C.3.5" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#subsubchisqGOF"><i class="fa fa-check"></i><b>C.3.5</b> Chi-Squared Goodness of Fit Test</a></li>
<li class="chapter" data-level="C.3.6" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#using-the-fitdistrplus-r-package-on-discrete-data"><i class="fa fa-check"></i><b>C.3.6</b> Using the fitdistrplus R Package on Discrete Data</a></li>
<li class="chapter" data-level="C.3.7" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#fitting-a-discrete-empirical-distribution"><i class="fa fa-check"></i><b>C.3.7</b> Fitting a Discrete Empirical Distribution</a></li>
</ul></li>
<li class="chapter" data-level="C.4" data-path="appidmsecMCD.html"><a href="appidmsecMCD.html"><i class="fa fa-check"></i><b>C.4</b> Modeling with Continuous Distributions</a></li>
<li class="chapter" data-level="C.5" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html"><i class="fa fa-check"></i><b>C.5</b> Fitting Continuous Distributions</a>
<ul>
<li class="chapter" data-level="C.5.1" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecvisualizedata"><i class="fa fa-check"></i><b>C.5.1</b> Visualizing the Data</a></li>
<li class="chapter" data-level="C.5.2" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecstatsdata"><i class="fa fa-check"></i><b>C.5.2</b> Statistically Summarize the Data</a></li>
<li class="chapter" data-level="C.5.3" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsechypothDist"><i class="fa fa-check"></i><b>C.5.3</b> Hypothesizing and Testing a Distribution</a></li>
<li class="chapter" data-level="C.5.4" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#kolmogorov-smirnov-test"><i class="fa fa-check"></i><b>C.5.4</b> Kolmogorov-Smirnov Test</a></li>
<li class="chapter" data-level="C.5.5" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecvisFit"><i class="fa fa-check"></i><b>C.5.5</b> Visualizing the Fit</a></li>
<li class="chapter" data-level="C.5.6" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidms2sb3"><i class="fa fa-check"></i><b>C.5.6</b> Using the Input Analyzer</a></li>
</ul></li>
<li class="chapter" data-level="C.6" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html"><i class="fa fa-check"></i><b>C.6</b> Testing Uniform (0,1) Pseudo-Random Numbers</a>
<ul>
<li class="chapter" data-level="C.6.1" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#chi-squared-goodness-of-fit-tests-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>C.6.1</b> Chi-Squared Goodness of Fit Tests for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="C.6.2" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#higher-dimensional-chi-squared-test"><i class="fa fa-check"></i><b>C.6.2</b> Higher Dimensional Chi-Squared Test</a></li>
<li class="chapter" data-level="C.6.3" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#kolmogorov-smirnov-test-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>C.6.3</b> Kolmogorov-Smirnov Test for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="C.6.4" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#testing-for-independence-and-patterns-in-pseudo-random-numbers"><i class="fa fa-check"></i><b>C.6.4</b> Testing for Independence and Patterns in Pseudo-Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="C.7" data-path="appdistfitidms2sb4.html"><a href="appdistfitidms2sb4.html"><i class="fa fa-check"></i><b>C.7</b> Additional Distribution Modeling Concepts</a></li>
<li class="chapter" data-level="C.8" data-path="appidmSummary.html"><a href="appidmSummary.html"><i class="fa fa-check"></i><b>C.8</b> Summary</a></li>
<li class="chapter" data-level="C.9" data-path="exercises-5.html"><a href="exercises-5.html"><i class="fa fa-check"></i><b>C.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="appqtAndInvT.html"><a href="appqtAndInvT.html"><i class="fa fa-check"></i><b>D</b> Queueing Theory</a>
<ul>
<li class="chapter" data-level="D.1" data-path="appqts1.html"><a href="appqts1.html"><i class="fa fa-check"></i><b>D.1</b> Single Line Queueing Stations</a>
<ul>
<li class="chapter" data-level="D.1.1" data-path="appqts1.html"><a href="appqts1.html#queueing-notation"><i class="fa fa-check"></i><b>D.1.1</b> Queueing Notation</a></li>
<li class="chapter" data-level="D.1.2" data-path="appqts1.html"><a href="appqts1.html#littles-formula"><i class="fa fa-check"></i><b>D.1.2</b> Little’s Formula</a></li>
<li class="chapter" data-level="D.1.3" data-path="appqts1.html"><a href="appqts1.html#appqts1sb1"><i class="fa fa-check"></i><b>D.1.3</b> Deriving Formulas for Markovian Single Queue Systems</a></li>
</ul></li>
<li class="chapter" data-level="D.2" data-path="appqts1sb2.html"><a href="appqts1sb2.html"><i class="fa fa-check"></i><b>D.2</b> Examples and Applications of Queueing Analysis</a>
<ul>
<li class="chapter" data-level="D.2.1" data-path="appqts1sb2.html"><a href="appqts1sb2.html#infinite-queue-examples"><i class="fa fa-check"></i><b>D.2.1</b> Infinite Queue Examples</a></li>
<li class="chapter" data-level="D.2.2" data-path="appqts1sb2.html"><a href="appqts1sb2.html#finite-queue-examples"><i class="fa fa-check"></i><b>D.2.2</b> Finite Queue Examples</a></li>
</ul></li>
<li class="chapter" data-level="D.3" data-path="appqts1sb3.html"><a href="appqts1sb3.html"><i class="fa fa-check"></i><b>D.3</b> Non-Markovian Queues and Approximations</a></li>
<li class="chapter" data-level="D.4" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html"><i class="fa fa-check"></i><b>D.4</b> Summary of Queueing Formulas</a>
<ul>
<li class="chapter" data-level="D.4.1" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1-queue"><i class="fa fa-check"></i><b>D.4.1</b> M/M/1 Queue</a></li>
<li class="chapter" data-level="D.4.2" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmc-queue"><i class="fa fa-check"></i><b>D.4.2</b> M/M/c Queue</a></li>
<li class="chapter" data-level="D.4.3" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmck-queue"><i class="fa fa-check"></i><b>D.4.3</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="D.4.4" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mgcc-queue"><i class="fa fa-check"></i><b>D.4.4</b> M/G/c/c Queue</a></li>
<li class="chapter" data-level="D.4.5" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1k-queue"><i class="fa fa-check"></i><b>D.4.5</b> M/M/1/k Queue</a></li>
<li class="chapter" data-level="D.4.6" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmck-queue-1"><i class="fa fa-check"></i><b>D.4.6</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="D.4.7" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1kk-queue"><i class="fa fa-check"></i><b>D.4.7</b> M/M/1/k/k Queue</a></li>
<li class="chapter" data-level="D.4.8" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmckk-queue"><i class="fa fa-check"></i><b>D.4.8</b> M/M/c/k/k Queue</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="exercises-6.html"><a href="exercises-6.html"><i class="fa fa-check"></i><b>D.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>E</b> Distributions</a>
<ul>
<li class="chapter" data-level="E.1" data-path="appDiscreteDistributions.html"><a href="appDiscreteDistributions.html"><i class="fa fa-check"></i><b>E.1</b> Discrete Distrbutions</a></li>
<li class="chapter" data-level="E.2" data-path="appContinuousDistributions.html"><a href="appContinuousDistributions.html"><i class="fa fa-check"></i><b>E.2</b> Continuous Distrbutions</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="appStatTables.html"><a href="appStatTables.html"><i class="fa fa-check"></i><b>F</b> Statistical Tables</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Simulation Modeling using the Kotlin Simulation Library</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-jsl-database" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">A.3</span> The JSL Database<a href="the-jsl-database.html#the-jsl-database" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The JSL has the ability to save statistical data from the simulation
runs into a relational database. Any relational database can be
utilized; however, the JSL directly supports the embedded Apache Derby
database management system (DBMS) as well as the PostgreSQL DBMS. The JSL
database functionality is built upon the Java Object-Oriented Query
(<a href="https://www.jooq.org/">jooQ</a>) application programming interface, which abstracts one level
above directly using Java Database Connectivity (JDBC) calls. Be aware
that jooQ is freely available for use only with open source databases.
The JSL library provides utilities to create databases, connect to
databases, import data from Excel spreadsheets, export data to Excel
spreadsheets as well as perform queries.</p>
<div id="the-jsl-database-structure" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">A.3.1</span> The JSL Database Structure<a href="the-jsl-database.html#the-jsl-database-structure" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The JSL database consists of six tables that capture information and
data concerning the execution of a simulation and resulting statistical
quantities. Figure 1 presents the database diagram for the JSL_DB
schema.</p>
<ul>
<li>SIMULATION_RUN – contains information about the simulation runs
that are contained within the database. Such information as the name
of the simulation, model, and experiment are captured. In addition,
time stamps of the start and end of the experiment, the number of
replications, the replication length, the length of the warm up
period and options concerning stream control.</li>
<li>MODEL_ELEMENT contains information about the instances of
ModelElement that were used within the execution of the simulation
run. A model element has an identifier that is considered unique to
the simulation run. That is, the simulation run ID and the model
element ID are the primary key of this table. The name of the model
element, its class type, the name and ID of its parent element are
also held for each entity in MODEL_ELEMENT. The parent/child
relationship permits an understanding of the model element hierarchy
that was present when the simulation executed.</li>
<li>WITHIN_REP_STAT contains information about within replication
statistical quantities associated with TimeWeighted and
ResponseVariables from each replication of a set of replications of
the simulation. The name, count, average, minimum, maximum, weighted
sum, sum of weights, weighted sum of squares, last observed value,
and last observed weight are all captured.</li>
<li>WITHIN_REP_COUNTER_STAT contains information about with
replication observations associated with Counters used within the
model. The name of the counter and the its value at the end of the
replication are captured for each replication of a set of
replications of the simulation.</li>
<li>ACROSS_REP_STAT contains information about the across replication
statistics associated with TimeWeighted, ResponseVariable, and
Counters within the model. Statistical summary information across
the replications is automatically stored.</li>
<li>BATCH_STAT contains information about the batch statistics
associated with TimeWeighted, ResponseVariable, and Counters within
the model. Statistical summary information across the batches is
automatically stored.</li>
</ul>
<p>In addition to the base tables, the JSL database contains views of its
underlying constructs to facilitate simpler data extraction. Figure 2
presents the pre-defined views for the JSL database. The views, in
essence, reduce the amount of information to the most likely used sets
of data for the across replication, batch, and within replication
captured statistical quantities. In addition, the
PW_DIFF_WITHIN_REP_VIEW holds all pairwise differences for every
response variable, time weighted variable, or counter from across all
experiments within the database. This view reports (A – B) for every
within replication ending average, where A is a simulation run that has
higher simulation ID than B and they represent an individual performance
measure. From this view, pairwise statistics can be computed across all
replications.</p>
<div class="figure"><span style="display:block;" id="fig:JSLDBTables"></span>
<img src="figures/JSLDBTables.png" alt="JSL Database Relational Diagram" width="640" />
<p class="caption">
Figure A.1: JSL Database Relational Diagram
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:JSLDBViews"></span>
<img src="figures/JSLDBViews.png" alt="JSL Database Views" width="359" />
<p class="caption">
Figure A.2: JSL Database Views
</p>
</div>
<p>The information within the SIMULATION_RUN, MODEL_ELEMENT,
WITHIN_REP_STAT, WITHIN_REP_COUNTER_STAT tables are written to the
database at the end of each replication. The ACROSS_REP_STAT and
BATCH_STAT tables are filled after the entire experiment is completed.
Even though the ACROSS_REP_STAT table could be constructed directly
from the data captured within the tables holding with replication data,
this is not done. Instead, the across replication statistics are
directly written from the simulation after all replications of an
experiment are completed.</p>
<p>A JSLDatabase instance is constructed to hold the data from any JSL
simulation. As such, a simulation execution can have many observers and
thus could have any number of JSLDatabase instances that collect data
from the execution. The most common case for multiple databases would be
the use of an embedded database as well as a database that is stored on
a database server.</p>
</div>
<div id="creating-and-using-a-default-jsl-database" class="section level3 hasAnchor" number="6.3.2">
<h3><span class="header-section-number">A.3.2</span> Creating and Using a Default JSL Database<a href="the-jsl-database.html#creating-and-using-a-default-jsl-database" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>It is easy to have a database associated with a simulation. Just
indicate that a default database should be created when constructing an
instance of the Simulation class by providing “true” for the create
default database parameter of the Simulation class:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb94-1"><a href="the-jsl-database.html#cb94-1" aria-hidden="true" tabindex="-1"></a>Simulation sim <span class="op">=</span> <span class="kw">new</span> <span class="fu">Simulation</span><span class="op">(</span><span class="st">&quot;Drive Through Pharmacy&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span></code></pre></div>
<p>This causes an instance of the class, JSLDatabase, to be created and
attached to the instance of the Simulation as an observer via an
intermediate class called JSLDatabaseObserver. The running of the
simulation then causes data from the simulation to be stored in an
Apache Derby embedded database that is contained within the directory,
jslOutput/db. The name of the database will be based on the name
provided for the simulation. For the previous code snippet, a database
called JSLDb_DriveThroughPharmacy will be created. Any spaces in the
name of the simulation are removed for the name of the database and
JSLDb_ is appended. This naming is the default behavior for the default
database. The database can be accessed just like any database. For
example, IntelliJ’s Datagrip tool can be used to connect to the
database, execute queries, and export data.</p>
<p>One very important point to note is that constructing an instance of
Simulation and providing “true” for the create default database option,
<strong>always</strong> creates a new instance of the default database. This process
involves deleting the previous default database and re-creating it
without any data. If you do not want the previously created default
database to be deleted and recreated, then you must take explicit steps
to prevent this from happening. The most obvious steps include:</p>
<ul>
<li>Do not call the constructor of Simulation with “true” for the create
default database option. This will cause no new default JSL database
to be created. Thus, a previous database instance will not be
deleted. Or,</li>
<li>Change the name of the simulation so that a differently named
default database will be constructed.</li>
<li>Move, copy, or rename the previously created database using
operating system commands.</li>
</ul>
<p>Note that if you execute <strong>any</strong> simulation that has the <strong>same name</strong>
as a previously executed simulation and you were using the default
database option, then the previous database will be deleted and
recreated. This might cause you to lose previous simulation results.
This behavior is the default because generally, when you re-run your
simulation you want the results of that run to be written into the
database.</p>
</div>
<div id="creating-and-using-jsl-databases" class="section level3 hasAnchor" number="6.3.3">
<h3><span class="header-section-number">A.3.3</span> Creating and Using JSL Databases<a href="the-jsl-database.html#creating-and-using-jsl-databases" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To better control the creation and use of an instance of the
JSLDatabase, I suggest that you consider creating your own instance
rather than relying on the default database. The main reason to do this
is if you plan to add results from multiple simulation executions to the
<strong>same</strong> database. A database represented by a JSLDatabase instance is
just a database that has a JSL_DB schema within it to hold data from a
JSL simulation run. Provided that you can properly configure a JSL_DB
schema within a database, you can use <strong>any</strong> database as the backing
store for JSL results. By default the JSL library facilitates the
creation of embedded Apache Derby databases and PostgreSQL databases. In
addition, the JSL library facilitates the creation of JSLDatabase
instances based on these two database management systems.</p>
<p>A number of methods are provided to create instances of a JSLDatabase.
Obviously, the constructor of JSLDatabase can be used. The constructor
has two parameters, an instance of an object that implements the
DatabaseIfc interface and a Boolean parameter (clearDataOption) which
controls whether or not all of the data within a possible JSL_DB schema
is removed when the JSLDatabase instance is created. The default
behavior is to not remove previous data. If the supplied DatabaseIfc
interface instance does not already have a JSL_DB schema, then one is
created. If it already has a JSL_DB schema, then the clear data option
controls what happens to any previously stored data. Any of the methods
of the DatabaseFactory class can be used to create an instance of the
DatabaseIfc interface. Because you are most likely interested in
directly making a JSLDatabase instance, there are a number of static
methods of the JSLDatabase class that are provided for common use cases.
For example, the following code snippet illustrates how to make an
instance of a JSLDatabase based on the embedded Derby database system.
This will create a database named “MCB_Db” within the jslOutput/db
directory. If a database already exists with that name, then it will be
deleted and a new database created.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb95-1"><a href="the-jsl-database.html#cb95-1" aria-hidden="true" tabindex="-1"></a>JSLDatabase mcb_db <span class="op">=</span> JSLDatabase<span class="op">.</span><span class="fu">createEmbeddedDerbyJSLDatabase</span><span class="op">(</span><span class="st">&quot;MCB_Db&quot;</span><span class="op">);</span></span></code></pre></div>
<p>If you want to connect to a previously created database, then use the
methods of the DatabaseFactory class. For example, the following
connects to an existing database found within the jslOutput/db directory
and then supplies it to the JSLDatabase constructor. No previous data is
lost via this process since we are only connecting to a database (not
creating one).</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb96-1"><a href="the-jsl-database.html#cb96-1" aria-hidden="true" tabindex="-1"></a>DatabaseIfc database <span class="op">=</span> DatabaseFactory<span class="op">.</span><span class="fu">getEmbeddedDerbyDatabase</span><span class="op">(</span><span class="st">&quot;JSLDb_DriveThroughPharmacy&quot;</span><span class="op">);</span></span>
<span id="cb96-2"><a href="the-jsl-database.html#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="co">// use the database as the backing database for the new JSLDatabase instance</span></span>
<span id="cb96-3"><a href="the-jsl-database.html#cb96-3" aria-hidden="true" tabindex="-1"></a>JSLDatabase jslDatabase <span class="op">=</span> <span class="kw">new</span> <span class="fu">JSLDatabase</span><span class="op">(</span>database<span class="op">);</span></span></code></pre></div>
<p>The previously illustrated code examples only <strong>create</strong> an instance of
JSLDatabase. The instance is <strong>not</strong> connected to an instance of
Simulation and thus simulation results will not be added to the database
unless additional steps are taken to hook up the JSLDatabase instance
with instances of the Simulation class prior to running experiments.</p>
<p>The approach to connect a JSLDatabase instance with a Simulation
instance involves creating an instance of JSLDatabaseObserver to monitor
the simulation’s execution. JSLDatabaseObserver has three required
parameters in its constructor: 1) an instance of JSLDatabase, 2) and
instance of Simulation, and 3) a boolean parameter
(clearDataBeforeExperimentOption), which controls whether or not data
from prior executions of the observed simulation will be cleared if they
have the same simulation name and experiment name before each experiment
(i.e. when the run() method is called on the simulation). The default
value for the clear data before experiment option is true. Thus, data
will be cleared from the database if the simulation name and experiment
name are <strong>the same</strong>. If you do not want the data cleared, then set the
option to false. However, if you then attempt to execute a simulation
that has the same name and experiment name as one already stored in the
database, an exception will be thrown. To prevent this exception change
the name of the simulation or the experiment prior to running the
simulation or decide to clear the data. The preferred method is to
change the name of the experiment since this facilitates other analysis
using JSL constructs.</p>
<p>Since creating and using a JSLDatabaseObserver is a common use case, the
JSL library provides methods on the Simulation class to facilitate this:</p>
<ul>
<li><code>public JSLDatabaseObserver createJSLDatabaseObserver(String dbName)</code></li>
<li><code>public JSLDatabaseObserver createJSLDatabaseObserver(JSLDatabase jslDatabase)</code></li>
<li><code>public JSLDatabaseObserver createJSLDatabaseObserver(JSLDatabase jslDatabase, boolean clearDataBeforeExperiment)</code></li>
</ul>
<p>The first method creates an embedded Derby database with the provided
name in the jslOutput/db directory. The created JSLDatabaseObserver is
returned and through that reference the underlying JSLDatabase can be
accessed. The first of these three methods creates a new database. The
latter two only creates a new JSLDatabaseObserver instance and uses the
supplied JSLDatabase. Thus, data will be added to the database. The
class, UsingJSLDbExamples within the ex.running package illustrates many
of the use cases presented.</p>
<p>As an illustration consider running a simulation multiple times within
the same program execution but with different parameters. The following
code illustrates how this might be achieved. The first line creates a
simulation with a default database. Then the simulation is set up and
executed. Notice that the experiment name is set prior to running the
simulation. Then, the service time parameter is changed and the
simulation is executed again. Notice that the experiment name was
changed before the second simulation run. Data from both executions are
captured within the default database. This code can be re-executed
because a new default database is created each the Simulation instance
is constructed. This clears all previous data and then all subsequent
runs are captured because the experiment name is changed. If the name
had not been changed before the second simulation run, then when the
second simulation run executes the data from the first run will be
cleared and the second run data captured because the clear data before
experiment flag is true. If the clear data before experiment flag is
false and you attempt to execute this code an exception would be thrown
because there would be an attempt to enter data into the database that
has the same simulation and experiment name. This would force you to
change the name of the experiment before executing the second
experiment. Because this code does change the names of the experiments,
the clear data before experiment flag setting is irrelevant because the
experiments have different names.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb97-1"><a href="the-jsl-database.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co">// make the simulation with a default database</span></span>
<span id="cb97-2"><a href="the-jsl-database.html#cb97-2" aria-hidden="true" tabindex="-1"></a>Simulation sim <span class="op">=</span> <span class="kw">new</span> <span class="fu">Simulation</span><span class="op">(</span><span class="st">&quot;MultiRun&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb97-3"><a href="the-jsl-database.html#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="co">// set the parameters of the experiment</span></span>
<span id="cb97-4"><a href="the-jsl-database.html#cb97-4" aria-hidden="true" tabindex="-1"></a>sim<span class="op">.</span><span class="fu">setNumberOfReplications</span><span class="op">(</span><span class="dv">30</span><span class="op">);</span></span>
<span id="cb97-5"><a href="the-jsl-database.html#cb97-5" aria-hidden="true" tabindex="-1"></a>sim<span class="op">.</span><span class="fu">setLengthOfReplication</span><span class="op">(</span><span class="fl">20000.0</span><span class="op">);</span></span>
<span id="cb97-6"><a href="the-jsl-database.html#cb97-6" aria-hidden="true" tabindex="-1"></a>sim<span class="op">.</span><span class="fu">setLengthOfWarmUp</span><span class="op">(</span><span class="fl">5000.0</span><span class="op">);</span></span>
<span id="cb97-7"><a href="the-jsl-database.html#cb97-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-8"><a href="the-jsl-database.html#cb97-8" aria-hidden="true" tabindex="-1"></a><span class="co">// create the model element and attach it to the main model</span></span>
<span id="cb97-9"><a href="the-jsl-database.html#cb97-9" aria-hidden="true" tabindex="-1"></a>DriverLicenseBureauWithQ driverLicenseBureauWithQ <span class="op">=</span> <span class="kw">new</span> <span class="fu">DriverLicenseBureauWithQ</span><span class="op">(</span>sim<span class="op">.</span><span class="fu">getModel</span><span class="op">());</span></span>
<span id="cb97-10"><a href="the-jsl-database.html#cb97-10" aria-hidden="true" tabindex="-1"></a>sim<span class="op">.</span><span class="fu">setExperimentName</span><span class="op">(</span><span class="st">&quot;1stRun&quot;</span><span class="op">);</span></span>
<span id="cb97-11"><a href="the-jsl-database.html#cb97-11" aria-hidden="true" tabindex="-1"></a><span class="co">// tell the simulation to run</span></span>
<span id="cb97-12"><a href="the-jsl-database.html#cb97-12" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Simulation started.&quot;</span><span class="op">);</span></span>
<span id="cb97-13"><a href="the-jsl-database.html#cb97-13" aria-hidden="true" tabindex="-1"></a>sim<span class="op">.</span><span class="fu">run</span><span class="op">();</span></span>
<span id="cb97-14"><a href="the-jsl-database.html#cb97-14" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Simulation completed.&quot;</span><span class="op">);</span></span>
<span id="cb97-15"><a href="the-jsl-database.html#cb97-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-16"><a href="the-jsl-database.html#cb97-16" aria-hidden="true" tabindex="-1"></a>sim<span class="op">.</span><span class="fu">setExperimentName</span><span class="op">(</span><span class="st">&quot;2ndRun&quot;</span><span class="op">);</span></span>
<span id="cb97-17"><a href="the-jsl-database.html#cb97-17" aria-hidden="true" tabindex="-1"></a>driverLicenseBureauWithQ<span class="op">.</span><span class="fu">setServiceDistributionInitialRandomSource</span><span class="op">(</span><span class="kw">new</span> <span class="fu">ExponentialRV</span><span class="op">(</span><span class="fl">0.7</span><span class="op">));</span></span>
<span id="cb97-18"><a href="the-jsl-database.html#cb97-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-19"><a href="the-jsl-database.html#cb97-19" aria-hidden="true" tabindex="-1"></a><span class="co">// tell the simulation to run</span></span>
<span id="cb97-20"><a href="the-jsl-database.html#cb97-20" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Simulation started.&quot;</span><span class="op">);</span></span>
<span id="cb97-21"><a href="the-jsl-database.html#cb97-21" aria-hidden="true" tabindex="-1"></a>sim<span class="op">.</span><span class="fu">run</span><span class="op">();</span></span>
<span id="cb97-22"><a href="the-jsl-database.html#cb97-22" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Simulation completed.&quot;</span><span class="op">);</span></span>
<span id="cb97-23"><a href="the-jsl-database.html#cb97-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-24"><a href="the-jsl-database.html#cb97-24" aria-hidden="true" tabindex="-1"></a><span class="co">// get the default JSL database</span></span>
<span id="cb97-25"><a href="the-jsl-database.html#cb97-25" aria-hidden="true" tabindex="-1"></a>Optional<span class="op">&lt;</span>JSLDatabase<span class="op">&gt;</span> db <span class="op">=</span> sim<span class="op">.</span><span class="fu">getDefaultJSLDatabase</span><span class="op">();</span></span>
<span id="cb97-26"><a href="the-jsl-database.html#cb97-26" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>db<span class="op">.</span><span class="fu">isPresent</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb97-27"><a href="the-jsl-database.html#cb97-27" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Printing across replication records&quot;</span><span class="op">);</span></span>
<span id="cb97-28"><a href="the-jsl-database.html#cb97-28" aria-hidden="true" tabindex="-1"></a>    db<span class="op">.</span><span class="fu">get</span><span class="op">().</span><span class="fu">getAcrossRepStatRecords</span><span class="op">().</span><span class="fu">format</span><span class="op">(</span><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">);</span></span>
<span id="cb97-29"><a href="the-jsl-database.html#cb97-29" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">();</span></span>
<span id="cb97-30"><a href="the-jsl-database.html#cb97-30" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Once you have a database that contains the schema to hold JSL based
data, you can continue to write results to that database as much as you
want. If your database is on a server, then you can easily collect data
from different simulation executions that occur on different computers
by referencing the database on the server. Therefore, if you are running
multiple simulation runs in parallel on different computers or in the
“cloud”, you should be able to capture the data from the simulation runs
into one database.</p>
</div>
<div id="querying-the-jsl-database" class="section level3 hasAnchor" number="6.3.4">
<h3><span class="header-section-number">A.3.4</span> Querying the JSL Database<a href="the-jsl-database.html#querying-the-jsl-database" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The JSL database is a database and thus it can be queried from within
Java or from other programs. If you have an instance of the JSLDatabase
as in:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb98-1"><a href="the-jsl-database.html#cb98-1" aria-hidden="true" tabindex="-1"></a>DatabaseIfc database <span class="op">=</span> DatabaseFactory<span class="op">.</span><span class="fu">getEmbeddedDerbyDatabase</span><span class="op">(</span><span class="st">&quot;JSLDb_DriveThroughPharmacy&quot;</span><span class="op">);</span></span>
<span id="cb98-2"><a href="the-jsl-database.html#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="co">// use the database as the backing database for the new JSLDatabase instance</span></span>
<span id="cb98-3"><a href="the-jsl-database.html#cb98-3" aria-hidden="true" tabindex="-1"></a>JSLDatabase jslDatabase <span class="op">=</span> <span class="kw">new</span> <span class="fu">JSLDatabase</span><span class="op">(</span>database<span class="op">);</span></span></code></pre></div>
<p>You can extract information about the simulation run using the methods
of the JSLDatabase class. Since the underlying data is stored in a
relational database, SQL queries can be used on the database. The
discussion of writing and executing queries from within Java is beyond
the scope of this discussion. To facilitate queries within Java, the JSL
leverages the open source jooQ library. A few methods to be aware of
include:</p>
<ul>
<li><code>writeAllTablesAsCSV()</code> – writes all the tables to separate CSV files</li>
<li><code>writeDbToExcelWorkbook()</code> – writes all the tables and views to a single Excel workbook</li>
<li><code>getWithinRepViewRecords()</code> – returns a jooQ Result containing all the within replication statistical records</li>
<li><code>getWithinRepViewRecordsAsTablesawTable()</code> – returns a Tablesaw table representation of the within replication statistical data</li>
<li><code>getAcrossRepViewRecordsAsTablesawTable()</code> – returns a Tablesaw table
representation of the across replication statistical data</li>
<li><code>getAcrossRepViewRecords()</code> – returns a jooQ Result containing all the
across replication statistical records</li>
<li><code>getMultipleComparisonAnalyserFor(set of experiment name, response     name)</code> – returns an instance of the MultipleComparisonAnalyzer class
in order to perform a multiple comparison analysis of a set of
experiments on a specific response name.</li>
</ul>
<p>The JSL database can be accessed via R or other software programs and
additional analysis performed on JSL simulation data.</p>
</div>
<div id="additional-functionality" class="section level3 hasAnchor" number="6.3.5">
<h3><span class="header-section-number">A.3.5</span> Additional Functionality<a href="the-jsl-database.html#additional-functionality" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The functionality of the JSL_DB depends upon how ResponseVariable,
TimeWeighted, and Counter instances are named within a JSL model. A JSL
model is organized into a tree of ModelElement instances with the
instance of the Model at the top of the tree. The Model instance for the
simulation model contains instances of ModelElement, which are referred
to as children of the parent model element. Each model element instance
can have zero or more children, and those children can have children,
etc. Each ModelElement instance must have a unique integer ID and a
unique name. The unique integer ID is automatically provided when a
ModelElement instance is created. The user can supply a name for a
ModelElement instance when creating the instance. The name must be
unique within the simulation model.</p>
<p>A recommended practice to ensure that model element names are unique is
to use the name of the parent model element as part of the name. If the
parent name is unique, then all children names will be unique relative
to any other model elements. For example, in the following code
getName() references the name of the current model element (an instance
of QueueingSystemWithQ), which is serving as the parent for the children
model element declared within the constructor.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb99-1"><a href="the-jsl-database.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="fu">QueueingSystemWithQ</span><span class="op">(</span>ModelElement parent<span class="op">,</span> <span class="dt">int</span> numServers<span class="op">,</span> RVariableIfc ad<span class="op">,</span> RVariableIfc sd<span class="op">)</span> <span class="op">{</span></span>
<span id="cb99-2"><a href="the-jsl-database.html#cb99-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">super</span><span class="op">(</span>parent<span class="op">);</span></span>
<span id="cb99-3"><a href="the-jsl-database.html#cb99-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-4"><a href="the-jsl-database.html#cb99-4" aria-hidden="true" tabindex="-1"></a>    myWaitingQ <span class="op">=</span> <span class="kw">new</span> <span class="bu">Queue</span><span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="fu">getName</span><span class="op">()</span> <span class="op">+</span> <span class="st">&quot;_Q&quot;</span><span class="op">);</span></span>
<span id="cb99-5"><a href="the-jsl-database.html#cb99-5" aria-hidden="true" tabindex="-1"></a>    myNumBusy <span class="op">=</span> <span class="kw">new</span> <span class="fu">TimeWeighted</span><span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="fl">0.0</span><span class="op">,</span> <span class="fu">getName</span><span class="op">()</span> <span class="op">+</span> <span class="st">&quot;_NumBusy&quot;</span><span class="op">);</span></span>
<span id="cb99-6"><a href="the-jsl-database.html#cb99-6" aria-hidden="true" tabindex="-1"></a>    myNS <span class="op">=</span> <span class="kw">new</span> <span class="fu">TimeWeighted</span><span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="fl">0.0</span><span class="op">,</span> <span class="fu">getName</span><span class="op">()</span> <span class="op">+</span> <span class="st">&quot;_NS&quot;</span><span class="op">);</span></span>
<span id="cb99-7"><a href="the-jsl-database.html#cb99-7" aria-hidden="true" tabindex="-1"></a>    mySysTime <span class="op">=</span> <span class="kw">new</span> <span class="fu">ResponseVariable</span><span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="fu">getName</span><span class="op">()</span> <span class="op">+</span> <span class="st">&quot;_System Time&quot;</span><span class="op">);</span></span></code></pre></div>
<p>The name supplied to the TimeWeighted and ResponseVariable constructors
will cause the underlying statistic to have the same name. The
statistic’s name cannot be changed once it is set. The statistic name is
important for referencing statistical data within the JSL database. One
complicating factor involves using the JSL database to analyze the
results from multiple simulation models. In order to more readily
compare the results of the same performance measure between two
different simulation models, the user should try to ensure that the
names of the performance measures are the same. If the above recommended
naming practice is used, the names of the statistics may depend on the
order in which the model element instances are created and added to the
model element hierarchy. If the model structure never changes between
different simulation models then this will not present an issue;
however, if the structure of the model changes between two different
simulation models (which can often be the case), the statistic names may
be affected. If this issue causes problems, you can always name the
desired output responses or counters exactly what you want it to be and
use the same name in other simulation models.</p>
<p>Since the model element ID is assigned automatically based on the number
of model elements created within the model, the model element numbers
between two instances of the same simulation model will most likely be
different. Thus, there is no guarantee that the IDs will be the same and
using the model element ID as part of queries on the JSL database will
have to take this into account. You can assume that the name of the
underlying statistic is the same as its associated model element and
since it is user definable, it is better suited for queries based on the
JSL database.</p>

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="jslmath-class.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appRNRV.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["KSLBook.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
