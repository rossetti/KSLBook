<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.5 Enhancing the Drive Through Pharmacy Model | Simulation Modeling using the Kotlin Simulation Library (KSL)</title>
  <meta name="description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="4.5 Enhancing the Drive Through Pharmacy Model | Simulation Modeling using the Kotlin Simulation Library (KSL)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.5 Enhancing the Drive Through Pharmacy Model | Simulation Modeling using the Kotlin Simulation Library (KSL)" />
  
  <meta name="twitter:description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  

<meta name="author" content="Manuel D. Rossetti" />


<meta name="date" content="2025-02-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introDEDSdedsKSL.html"/>
<link rel="next" href="DTPExpanded.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Simulation Modeling using the Kotlin Simulation Library (KSL)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="release-history.html"><a href="release-history.html"><i class="fa fa-check"></i>Release History</a></li>
<li class="chapter" data-level="" data-path="ksl-project-page.html"><a href="ksl-project-page.html"><i class="fa fa-check"></i>KSL Project Page</a></li>
<li class="chapter" data-level="" data-path="book-support-files.html"><a href="book-support-files.html"><i class="fa fa-check"></i>Book Support Files</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="intended-audience.html"><a href="intended-audience.html"><i class="fa fa-check"></i>Intended Audience</a></li>
<li class="chapter" data-level="" data-path="organization-of-the-book.html"><a href="organization-of-the-book.html"><i class="fa fa-check"></i>Organization of the Book</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="ch1.html"><a href="ch1.html"><i class="fa fa-check"></i><b>1</b> Simulation Modeling</a>
<ul>
<li class="chapter" data-level="1.1" data-path="simulation-modeling.html"><a href="simulation-modeling.html"><i class="fa fa-check"></i><b>1.1</b> Simulation Modeling</a></li>
<li class="chapter" data-level="1.2" data-path="why-simulate.html"><a href="why-simulate.html"><i class="fa fa-check"></i><b>1.2</b> Why Simulate?</a></li>
<li class="chapter" data-level="1.3" data-path="types-of-systems-and-simulation-models.html"><a href="types-of-systems-and-simulation-models.html"><i class="fa fa-check"></i><b>1.3</b> Types of Systems and Simulation Models</a></li>
<li class="chapter" data-level="1.4" data-path="simulation-descriptive-or-prescriptive-modeling.html"><a href="simulation-descriptive-or-prescriptive-modeling.html"><i class="fa fa-check"></i><b>1.4</b> Simulation: Descriptive or Prescriptive Modeling?</a></li>
<li class="chapter" data-level="1.5" data-path="randomness-in-simulation.html"><a href="randomness-in-simulation.html"><i class="fa fa-check"></i><b>1.5</b> Randomness in Simulation</a></li>
<li class="chapter" data-level="1.6" data-path="simulation-languages.html"><a href="simulation-languages.html"><i class="fa fa-check"></i><b>1.6</b> Simulation Languages</a></li>
<li class="chapter" data-level="1.7" data-path="ch1secsimMeth.html"><a href="ch1secsimMeth.html"><i class="fa fa-check"></i><b>1.7</b> Simulation Methodology</a></li>
<li class="chapter" data-level="1.8" data-path="overview-of-the-kotlin-simulation-library.html"><a href="overview-of-the-kotlin-simulation-library.html"><i class="fa fa-check"></i><b>1.8</b> Overview of the Kotlin Simulation Library</a></li>
<li class="chapter" data-level="1.9" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>1.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ch2rng.html"><a href="ch2rng.html"><i class="fa fa-check"></i><b>2</b> Modeling Randomness</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ch2generator.html"><a href="ch2generator.html"><i class="fa fa-check"></i><b>2.1</b> Random Number Generator</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="ch2generator.html"><a href="ch2generator.html#ch2randompkg"><i class="fa fa-check"></i><b>2.1.1</b> Random Package</a></li>
<li class="chapter" data-level="2.1.2" data-path="ch2generator.html"><a href="ch2generator.html#ch2creatingStreams"><i class="fa fa-check"></i><b>2.1.2</b> Creating and Using Streams</a></li>
<li class="chapter" data-level="2.1.3" data-path="ch2generator.html"><a href="ch2generator.html#ch2crn"><i class="fa fa-check"></i><b>2.1.3</b> Common Random Numbers</a></li>
<li class="chapter" data-level="2.1.4" data-path="ch2generator.html"><a href="ch2generator.html#ch2antitheticStreams"><i class="fa fa-check"></i><b>2.1.4</b> Creating and Using Antithetic Streams</a></li>
<li class="chapter" data-level="2.1.5" data-path="ch2generator.html"><a href="ch2generator.html#ch2rnFAQ"><i class="fa fa-check"></i><b>2.1.5</b> Frequently Asked Questions about Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rvg.html"><a href="rvg.html"><i class="fa fa-check"></i><b>2.2</b> Random Variate Generation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rvg.html"><a href="rvg.html#basic-random-variate-generation"><i class="fa fa-check"></i><b>2.2.1</b> Basic Random Variate Generation</a></li>
<li class="chapter" data-level="2.2.2" data-path="rvg.html"><a href="rvg.html#rvg_dists"><i class="fa fa-check"></i><b>2.2.2</b> Continuous and Discrete Random Variables</a></li>
<li class="chapter" data-level="2.2.3" data-path="rvg.html"><a href="rvg.html#rvguse"><i class="fa fa-check"></i><b>2.2.3</b> Creating and Using Random Variables</a></li>
<li class="chapter" data-level="2.2.4" data-path="rvg.html"><a href="rvg.html#functions-of-random-variables"><i class="fa fa-check"></i><b>2.2.4</b> Functions of Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="probModels.html"><a href="probModels.html"><i class="fa fa-check"></i><b>2.3</b> Probability Distribution Models</a></li>
<li class="chapter" data-level="2.4" data-path="distFitting.html"><a href="distFitting.html"><i class="fa fa-check"></i><b>2.4</b> Distribution Fitting Using the KSL</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="distFitting.html"><a href="distFitting.html#estimating-distribution-parameters"><i class="fa fa-check"></i><b>2.4.1</b> Estimating Distribution Parameters</a></li>
<li class="chapter" data-level="2.4.2" data-path="distFitting.html"><a href="distFitting.html#continuous-distribution-recommendation-framework"><i class="fa fa-check"></i><b>2.4.2</b> Continuous Distribution Recommendation Framework</a></li>
<li class="chapter" data-level="2.4.3" data-path="distFitting.html"><a href="distFitting.html#discrete-distribution-framework"><i class="fa fa-check"></i><b>2.4.3</b> Discrete Distribution Framework</a></li>
<li class="chapter" data-level="2.4.4" data-path="distFitting.html"><a href="distFitting.html#pdfmexamples"><i class="fa fa-check"></i><b>2.4.4</b> Illustrative Examples from Appendix @ref(appidm)</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>2.5</b> Summary</a></li>
<li class="chapter" data-level="2.6" data-path="exercises-1.html"><a href="exercises-1.html"><i class="fa fa-check"></i><b>2.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mcm.html"><a href="mcm.html"><i class="fa fa-check"></i><b>3</b> Monte Carlo Methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="kslStatistics.html"><a href="kslStatistics.html"><i class="fa fa-check"></i><b>3.1</b> Collecting Statistics</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="kslStatistics.html"><a href="kslStatistics.html#creating-and-using-a-statistic"><i class="fa fa-check"></i><b>3.1.1</b> Creating and Using a Statistic</a></li>
<li class="chapter" data-level="3.1.2" data-path="kslStatistics.html"><a href="kslStatistics.html#histFreq"><i class="fa fa-check"></i><b>3.1.2</b> Histograms and Frequencies</a></li>
<li class="chapter" data-level="3.1.3" data-path="kslStatistics.html"><a href="kslStatistics.html#ch3batchStats"><i class="fa fa-check"></i><b>3.1.3</b> Batch Statistics</a></li>
<li class="chapter" data-level="3.1.4" data-path="kslStatistics.html"><a href="kslStatistics.html#ch3StatSummary"><i class="fa fa-check"></i><b>3.1.4</b> Statistics Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ssMC.html"><a href="ssMC.html"><i class="fa fa-check"></i><b>3.2</b> Simple Monte Carlo Integration</a></li>
<li class="chapter" data-level="3.3" data-path="ch3StatReview.html"><a href="ch3StatReview.html"><i class="fa fa-check"></i><b>3.3</b> Review of Statistical Concepts</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="ch3StatReview.html"><a href="ch3StatReview.html#point-estimates-and-confidence-intervals"><i class="fa fa-check"></i><b>3.3.1</b> Point Estimates and Confidence Intervals</a></li>
<li class="chapter" data-level="3.3.2" data-path="ch3StatReview.html"><a href="ch3StatReview.html#ch3SampleSize"><i class="fa fa-check"></i><b>3.3.2</b> Sample Size Determination</a></li>
<li class="chapter" data-level="3.3.3" data-path="ch3StatReview.html"><a href="ch3StatReview.html#determining-the-sample-size-for-a-monte-carlo-simulation-experiment"><i class="fa fa-check"></i><b>3.3.3</b> Determining the Sample Size for a Monte Carlo Simulation Experiment</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="craps.html"><a href="craps.html"><i class="fa fa-check"></i><b>3.4</b> Simulating the Game of Craps</a></li>
<li class="chapter" data-level="3.5" data-path="the-news-vendor-problem.html"><a href="the-news-vendor-problem.html"><i class="fa fa-check"></i><b>3.5</b> The News Vendor Problem</a></li>
<li class="chapter" data-level="3.6" data-path="ch3InsProcess.html"><a href="ch3InsProcess.html"><i class="fa fa-check"></i><b>3.6</b> A Simple Inspection Process</a></li>
<li class="chapter" data-level="3.7" data-path="ch3SAN.html"><a href="ch3SAN.html"><i class="fa fa-check"></i><b>3.7</b> Stochastic Activity Networks</a></li>
<li class="chapter" data-level="3.8" data-path="mcmExperiments.html"><a href="mcmExperiments.html"><i class="fa fa-check"></i><b>3.8</b> Monte-Carlo Experiments</a></li>
<li class="chapter" data-level="3.9" data-path="summary-1.html"><a href="summary-1.html"><i class="fa fa-check"></i><b>3.9</b> Summary</a></li>
<li class="chapter" data-level="3.10" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i><b>3.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introDEDS.html"><a href="introDEDS.html"><i class="fa fa-check"></i><b>4</b> Introduction to Discrete Event Modeling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introDEDSdeds.html"><a href="introDEDSdeds.html"><i class="fa fa-check"></i><b>4.1</b> Discrete-Event Dynamic Systems</a></li>
<li class="chapter" data-level="4.2" data-path="HowDEDSClockWorks.html"><a href="HowDEDSClockWorks.html"><i class="fa fa-check"></i><b>4.2</b> How the Discrete-Event Clock Works</a></li>
<li class="chapter" data-level="4.3" data-path="QHandExample.html"><a href="QHandExample.html"><i class="fa fa-check"></i><b>4.3</b> Simulating a Queueing System By Hand</a></li>
<li class="chapter" data-level="4.4" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html"><i class="fa fa-check"></i><b>4.4</b> Modeling DEDS in the KSL</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#event-scheduling"><i class="fa fa-check"></i><b>4.4.1</b> Event Scheduling</a></li>
<li class="chapter" data-level="4.4.2" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSschedExamples"><i class="fa fa-check"></i><b>4.4.2</b> Simple Event Scheduling Examples</a></li>
<li class="chapter" data-level="4.4.3" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSUpDown"><i class="fa fa-check"></i><b>4.4.3</b> Up and Down Component Example</a></li>
<li class="chapter" data-level="4.4.4" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSPharmacy"><i class="fa fa-check"></i><b>4.4.4</b> Modeling a Simple Queueing System</a></li>
<li class="chapter" data-level="4.4.5" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#more-details-about-the-pharmacy-model-implementation"><i class="fa fa-check"></i><b>4.4.5</b> More Details About the Pharmacy Model Implementation</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html"><i class="fa fa-check"></i><b>4.5</b> Enhancing the Drive Through Pharmacy Model</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html#modeling-a-simple-resource"><i class="fa fa-check"></i><b>4.5.1</b> Modeling a Simple Resource</a></li>
<li class="chapter" data-level="4.5.2" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html#modeling-a-queue-with-statistical-collection"><i class="fa fa-check"></i><b>4.5.2</b> Modeling a Queue with Statistical Collection</a></li>
<li class="chapter" data-level="4.5.3" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html#modeling-a-repeating-event-pattern"><i class="fa fa-check"></i><b>4.5.3</b> Modeling a Repeating Event Pattern</a></li>
<li class="chapter" data-level="4.5.4" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html#collecting-more-detailed-statistics"><i class="fa fa-check"></i><b>4.5.4</b> Collecting More Detailed Statistics</a></li>
<li class="chapter" data-level="4.5.5" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html#implementing-the-enhanced-pharmacy-model"><i class="fa fa-check"></i><b>4.5.5</b> Implementing the Enhanced Pharmacy Model</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="DTPExpanded.html"><a href="DTPExpanded.html"><i class="fa fa-check"></i><b>4.6</b> More Drive Through Fun</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="DTPExpanded.html"><a href="DTPExpanded.html#modeling-a-resource-with-a-waiting-line"><i class="fa fa-check"></i><b>4.6.1</b> Modeling a Resource with a Waiting Line</a></li>
<li class="chapter" data-level="4.6.2" data-path="DTPExpanded.html"><a href="DTPExpanded.html#modeling-the-tandem-queue-of-example-refexmexch4tandemq"><i class="fa fa-check"></i><b>4.6.2</b> Modeling the Tandem Queue of Example @ref(exm:exCh4TandemQ)</a></li>
<li class="chapter" data-level="4.6.3" data-path="DTPExpanded.html"><a href="DTPExpanded.html#modeling-with-the-station-package"><i class="fa fa-check"></i><b>4.6.3</b> Modeling with the Station Package</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="introDEDSSummary.html"><a href="introDEDSSummary.html"><i class="fa fa-check"></i><b>4.7</b> Summary</a></li>
<li class="chapter" data-level="4.8" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i><b>4.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simoa.html"><a href="simoa.html"><i class="fa fa-check"></i><b>5</b> Analyzing and Accessing Simulation Output</a>
<ul>
<li class="chapter" data-level="5.1" data-path="simoadatatypes.html"><a href="simoadatatypes.html"><i class="fa fa-check"></i><b>5.1</b> Types of Statistical Variables</a></li>
<li class="chapter" data-level="5.2" data-path="simoasimtypes.html"><a href="simoasimtypes.html"><i class="fa fa-check"></i><b>5.2</b> Types of Simulation With Respect To Output Analysis</a></li>
<li class="chapter" data-level="5.3" data-path="simoafinhorizon.html"><a href="simoafinhorizon.html"><i class="fa fa-check"></i><b>5.3</b> Analysis of Finite Horizon Simulations</a></li>
<li class="chapter" data-level="5.4" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html"><i class="fa fa-check"></i><b>5.4</b> Capturing Output for a Simple Finite Horizon Simulation</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#simoaCapture"><i class="fa fa-check"></i><b>5.4.1</b> KSL Functionality for Capturing Statistical Results</a></li>
<li class="chapter" data-level="5.4.2" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#additional-remarks"><i class="fa fa-check"></i><b>5.4.2</b> Additional Remarks</a></li>
<li class="chapter" data-level="5.4.3" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#querying-the-ksl-database"><i class="fa fa-check"></i><b>5.4.3</b> Querying the KSL Database</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="simoaseqsampling.html"><a href="simoaseqsampling.html"><i class="fa fa-check"></i><b>5.5</b> Sequential Sampling for Finite Horizon Simulations</a></li>
<li class="chapter" data-level="5.6" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html"><i class="fa fa-check"></i><b>5.6</b> Analysis of Infinite Horizon Simulations</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizoninitialbias"><i class="fa fa-check"></i><b>5.6.1</b> Assessing the Effect of Initial Conditions</a></li>
<li class="chapter" data-level="5.6.2" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonrepDeletion"><i class="fa fa-check"></i><b>5.6.2</b> Performing the Method of Replication-Deletion</a></li>
<li class="chapter" data-level="5.6.3" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonbatchmeans"><i class="fa fa-check"></i><b>5.6.3</b> The Method of Batch Means</a></li>
<li class="chapter" data-level="5.6.4" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonjslbatching"><i class="fa fa-check"></i><b>5.6.4</b> Performing the Method of Batch Means</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html"><i class="fa fa-check"></i><b>5.7</b> Comparing System Configurations</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#simoacomparingSystems:two"><i class="fa fa-check"></i><b>5.7.1</b> Comparing Two Systems</a></li>
<li class="chapter" data-level="5.7.2" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#simoacomparingSystemsMCB"><i class="fa fa-check"></i><b>5.7.2</b> Concepts for Comparing Systems</a></li>
<li class="chapter" data-level="5.7.3" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#multiple-comparison-with-the-best-procedures-mcb"><i class="fa fa-check"></i><b>5.7.3</b> Multiple Comparison with the Best Procedures (MCB)</a></li>
<li class="chapter" data-level="5.7.4" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#ch5Screening"><i class="fa fa-check"></i><b>5.7.4</b> Screening Procedures</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html"><i class="fa fa-check"></i><b>5.8</b> Simulating Many Scenarios</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#controlAntns"><i class="fa fa-check"></i><b>5.8.1</b> Control Annotations</a></li>
<li class="chapter" data-level="5.8.2" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#rvParameters"><i class="fa fa-check"></i><b>5.8.2</b> Random Variable Parameters</a></li>
<li class="chapter" data-level="5.8.3" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#kslScenarios"><i class="fa fa-check"></i><b>5.8.3</b> Setting Up and Running Multiple Scenarios</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="simoasummary.html"><a href="simoasummary.html"><i class="fa fa-check"></i><b>5.9</b> Summary</a></li>
<li class="chapter" data-level="5.10" data-path="exercises-4.html"><a href="exercises-4.html"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="processview.html"><a href="processview.html"><i class="fa fa-check"></i><b>6</b> Process View Modeling Using the KSL</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ch6Entities.html"><a href="ch6Entities.html"><i class="fa fa-check"></i><b>6.1</b> What are Entities?</a></li>
<li class="chapter" data-level="6.2" data-path="pvIntro.html"><a href="pvIntro.html"><i class="fa fa-check"></i><b>6.2</b> The Process View</a></li>
<li class="chapter" data-level="6.3" data-path="understanding-ksl-processes-and-entities.html"><a href="understanding-ksl-processes-and-entities.html"><i class="fa fa-check"></i><b>6.3</b> Understanding KSL Processes and Entities</a></li>
<li class="chapter" data-level="6.4" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html"><i class="fa fa-check"></i><b>6.4</b> Examples of Process Modeling</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html#holding-entities-in-a-queue-holdqueue-class"><i class="fa fa-check"></i><b>6.4.1</b> Holding Entities in a Queue: <code>HoldQueue</code> Class</a></li>
<li class="chapter" data-level="6.4.2" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html#signaling-entities"><i class="fa fa-check"></i><b>6.4.2</b> Signaling Entities</a></li>
<li class="chapter" data-level="6.4.3" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html#understanding-blocking-queues"><i class="fa fa-check"></i><b>6.4.3</b> Understanding Blocking Queues</a></li>
<li class="chapter" data-level="6.4.4" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html#allowing-entities-to-wait-for-a-process"><i class="fa fa-check"></i><b>6.4.4</b> Allowing Entities to Wait for a Process</a></li>
<li class="chapter" data-level="6.4.5" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html#processinteraction"><i class="fa fa-check"></i><b>6.4.5</b> Process Interaction</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html"><i class="fa fa-check"></i><b>6.5</b> Modeling a STEM Career Mixer</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html#conceptualizing-the-system"><i class="fa fa-check"></i><b>6.5.1</b> Conceptualizing the System</a></li>
<li class="chapter" data-level="6.5.2" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html#implementing-the-stem-mixer-model"><i class="fa fa-check"></i><b>6.5.2</b> Implementing the STEM Mixer Model</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="the-tie-dye-t-shirt-model.html"><a href="the-tie-dye-t-shirt-model.html"><i class="fa fa-check"></i><b>6.6</b> The Tie-Dye T-Shirt Model</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="the-tie-dye-t-shirt-model.html"><a href="the-tie-dye-t-shirt-model.html#ch4:TieDyeTShirtsSub1"><i class="fa fa-check"></i><b>6.6.1</b> Implementing the Tie-Dye T-Shirt Model</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="summary-2.html"><a href="summary-2.html"><i class="fa fa-check"></i><b>6.7</b> Summary</a></li>
<li class="chapter" data-level="6.8" data-path="exercises-5.html"><a href="exercises-5.html"><i class="fa fa-check"></i><b>6.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ch7AdvModeling.html"><a href="ch7AdvModeling.html"><i class="fa fa-check"></i><b>7</b> Advanced Event and Process View Modeling</a>
<ul>
<li class="chapter" data-level="7.1" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html"><i class="fa fa-check"></i><b>7.1</b> Modeling with Processes and Resources</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#modeling-space-with-resources"><i class="fa fa-check"></i><b>7.1.1</b> Modeling Space with Resources</a></li>
<li class="chapter" data-level="7.1.2" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#secResourcePools"><i class="fa fa-check"></i><b>7.1.2</b> Resource Pools</a></li>
<li class="chapter" data-level="7.1.3" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#secTestAndRepair"><i class="fa fa-check"></i><b>7.1.3</b> Computer Test and Repair Shop Example</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html"><i class="fa fa-check"></i><b>7.2</b> Modeling Non-Stationary Systems</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#ch7secNSPP"><i class="fa fa-check"></i><b>7.2.1</b> Non-Stationary Arrival Processes</a></li>
<li class="chapter" data-level="7.2.2" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#modeling-resources-under-non-stationary-conditions"><i class="fa fa-check"></i><b>7.2.2</b> Modeling Resources Under Non-Stationary Conditions</a></li>
<li class="chapter" data-level="7.2.3" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#enhancing-the-stem-career-mixer-model"><i class="fa fa-check"></i><b>7.2.3</b> Enhancing the STEM Career Mixer Model</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html"><i class="fa fa-check"></i><b>7.3</b> Examples of Advanced Event Models</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html#ch6s1sb4sub3"><i class="fa fa-check"></i><b>7.3.1</b> Modeling Balking and Reneging</a></li>
<li class="chapter" data-level="7.3.2" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html#rqModel"><i class="fa fa-check"></i><b>7.3.2</b> Modeling a Reorder Point, Reorder Quantity Inventory Policy</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="ch7VandV.html"><a href="ch7VandV.html"><i class="fa fa-check"></i><b>7.4</b> Applying Queueing Theory Results to Verify and Validate a Simulation</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="ch7VandV.html"><a href="ch7VandV.html#analyzing-the-preparation-station"><i class="fa fa-check"></i><b>7.4.1</b> Analyzing the Preparation Station</a></li>
<li class="chapter" data-level="7.4.2" data-path="ch7VandV.html"><a href="ch7VandV.html#analyzing-the-build-lines"><i class="fa fa-check"></i><b>7.4.2</b> Analyzing the Build Lines</a></li>
<li class="chapter" data-level="7.4.3" data-path="ch7VandV.html"><a href="ch7VandV.html#analyzing-the-packaging-station"><i class="fa fa-check"></i><b>7.4.3</b> Analyzing the Packaging Station</a></li>
<li class="chapter" data-level="7.4.4" data-path="ch7VandV.html"><a href="ch7VandV.html#analyzing-the-palletizing-station"><i class="fa fa-check"></i><b>7.4.4</b> Analyzing the Palletizing Station</a></li>
<li class="chapter" data-level="7.4.5" data-path="ch7VandV.html"><a href="ch7VandV.html#analyzing-the-total-system-time"><i class="fa fa-check"></i><b>7.4.5</b> Analyzing the Total System Time</a></li>
<li class="chapter" data-level="7.4.6" data-path="ch7VandV.html"><a href="ch7VandV.html#other-issues-for-verification-and-validation"><i class="fa fa-check"></i><b>7.4.6</b> Other Issues for Verification and Validation</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="summary-3.html"><a href="summary-3.html"><i class="fa fa-check"></i><b>7.5</b> Summary</a></li>
<li class="chapter" data-level="7.6" data-path="exercises-6.html"><a href="exercises-6.html"><i class="fa fa-check"></i><b>7.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chEntityMovement.html"><a href="chEntityMovement.html"><i class="fa fa-check"></i><b>8</b> Modeling Entity Movement</a>
<ul>
<li class="chapter" data-level="8.1" data-path="secRCT.html"><a href="secRCT.html"><i class="fa fa-check"></i><b>8.1</b> Resource Constrained Transfer</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="secRCT.html"><a href="secRCT.html#secTestRepairRCT"><i class="fa fa-check"></i><b>8.1.1</b> Test and Repair with Resource Constrained Transfer</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="movableResources.html"><a href="movableResources.html"><i class="fa fa-check"></i><b>8.2</b> Constrained Transfer with Movable Resources</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="movableResources.html"><a href="movableResources.html#spatial-models"><i class="fa fa-check"></i><b>8.2.1</b> Spatial Models</a></li>
<li class="chapter" data-level="8.2.2" data-path="movableResources.html"><a href="movableResources.html#secMovableResources"><i class="fa fa-check"></i><b>8.2.2</b> Movable Resources</a></li>
<li class="chapter" data-level="8.2.3" data-path="movableResources.html"><a href="movableResources.html#secTQMWM"><i class="fa fa-check"></i><b>8.2.3</b> Tandem Queue Model With Movement</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="secTestAndRepairMovableResources.html"><a href="secTestAndRepairMovableResources.html"><i class="fa fa-check"></i><b>8.3</b> Modeling the Test and Repair System with Movable Resources</a></li>
<li class="chapter" data-level="8.4" data-path="summary-of-new-concepts.html"><a href="summary-of-new-concepts.html"><i class="fa fa-check"></i><b>8.4</b> Summary of New Concepts</a></li>
<li class="chapter" data-level="8.5" data-path="exercises-7.html"><a href="exercises-7.html"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ch9AdvMC.html"><a href="ch9AdvMC.html"><i class="fa fa-check"></i><b>9</b> Advanced Monte Carlo Methods</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ch9BootStrapping.html"><a href="ch9BootStrapping.html"><i class="fa fa-check"></i><b>9.1</b> Bootstrap Methods</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="ch9BootStrapping.html"><a href="ch9BootStrapping.html#bootstrapping-using-the-ksl"><i class="fa fa-check"></i><b>9.1.1</b> Bootstrapping Using the KSL</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="ch9VRTs.html"><a href="ch9VRTs.html"><i class="fa fa-check"></i><b>9.2</b> Variance Reduction Techniques</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="ch9VRTs.html"><a href="ch9VRTs.html#common-random-numbers-crn"><i class="fa fa-check"></i><b>9.2.1</b> Common Random Numbers (CRN)</a></li>
<li class="chapter" data-level="9.2.2" data-path="ch9VRTs.html"><a href="ch9VRTs.html#antithetic-variates-av"><i class="fa fa-check"></i><b>9.2.2</b> Antithetic Variates (AV)</a></li>
<li class="chapter" data-level="9.2.3" data-path="ch9VRTs.html"><a href="ch9VRTs.html#indirect-estimation"><i class="fa fa-check"></i><b>9.2.3</b> Indirect Estimation</a></li>
<li class="chapter" data-level="9.2.4" data-path="ch9VRTs.html"><a href="ch9VRTs.html#control-variates-cv"><i class="fa fa-check"></i><b>9.2.4</b> Control Variates (CV)</a></li>
<li class="chapter" data-level="9.2.5" data-path="ch9VRTs.html"><a href="ch9VRTs.html#stratified-and-post-stratified-sampling"><i class="fa fa-check"></i><b>9.2.5</b> Stratified and Post Stratified Sampling</a></li>
<li class="chapter" data-level="9.2.6" data-path="ch9VRTs.html"><a href="ch9VRTs.html#conditional-expectation-ce"><i class="fa fa-check"></i><b>9.2.6</b> Conditional Expectation (CE)</a></li>
<li class="chapter" data-level="9.2.7" data-path="ch9VRTs.html"><a href="ch9VRTs.html#importance-sampling-is"><i class="fa fa-check"></i><b>9.2.7</b> Importance Sampling (IS)</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html"><i class="fa fa-check"></i><b>9.3</b> Generating Multi-Variate and Correlated Random Variates</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#generating-from-a-bivariate-normal-distribution"><i class="fa fa-check"></i><b>9.3.1</b> Generating from a Bivariate Normal Distribution</a></li>
<li class="chapter" data-level="9.3.2" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#copulas-and-multi-variate-generation-methods"><i class="fa fa-check"></i><b>9.3.2</b> Copulas and Multi-variate Generation Methods</a></li>
<li class="chapter" data-level="9.3.3" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#autocorrelated-generation"><i class="fa fa-check"></i><b>9.3.3</b> Autocorrelated Generation</a></li>
<li class="chapter" data-level="9.3.4" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#ch9MCMC"><i class="fa fa-check"></i><b>9.3.4</b> Introduction to Markov Chain Monte Carlo Methods</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="summary-4.html"><a href="summary-4.html"><i class="fa fa-check"></i><b>9.4</b> Summary</a></li>
<li class="chapter" data-level="9.5" data-path="exercises-8.html"><a href="exercises-8.html"><i class="fa fa-check"></i><b>9.5</b> Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appRNRV.html"><a href="appRNRV.html"><i class="fa fa-check"></i><b>A</b> Generating Pseudo-Random Numbers and Random Variates</a>
<ul>
<li class="chapter" data-level="A.1" data-path="appRNRVPRN.html"><a href="appRNRVPRN.html"><i class="fa fa-check"></i><b>A.1</b> Pseudo Random Numbers</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="appRNRVPRN.html"><a href="appRNRVPRN.html#appRNRVRNGs"><i class="fa fa-check"></i><b>A.1.1</b> Random Number Generators</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="appRNRVs.html"><a href="appRNRVs.html"><i class="fa fa-check"></i><b>A.2</b> Generating Random Variates from Distributions</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="appRNRVs.html"><a href="appRNRVs.html#inverse-transform-method"><i class="fa fa-check"></i><b>A.2.1</b> Inverse Transform Method</a></li>
<li class="chapter" data-level="A.2.2" data-path="appRNRVs.html"><a href="appRNRVs.html#convolution"><i class="fa fa-check"></i><b>A.2.2</b> Convolution</a></li>
<li class="chapter" data-level="A.2.3" data-path="appRNRVs.html"><a href="appRNRVs.html#acceptancerejection"><i class="fa fa-check"></i><b>A.2.3</b> Acceptance/Rejection</a></li>
<li class="chapter" data-level="A.2.4" data-path="appRNRVs.html"><a href="appRNRVs.html#AppRNRVsubsecMTSRV"><i class="fa fa-check"></i><b>A.2.4</b> Mixture Distributions, Truncated Distributions, and Shifted Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="summary-5.html"><a href="summary-5.html"><i class="fa fa-check"></i><b>A.3</b> Summary</a></li>
<li class="chapter" data-level="A.4" data-path="exercises-9.html"><a href="exercises-9.html"><i class="fa fa-check"></i><b>A.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appidm.html"><a href="appidm.html"><i class="fa fa-check"></i><b>B</b> Probability Distribution Modeling</a>
<ul>
<li class="chapter" data-level="B.1" data-path="appidmsecrvPD.html"><a href="appidmsecrvPD.html"><i class="fa fa-check"></i><b>B.1</b> Random Variables and Probability Distributions</a></li>
<li class="chapter" data-level="B.2" data-path="appidmsecMDD.html"><a href="appidmsecMDD.html"><i class="fa fa-check"></i><b>B.2</b> Modeling with Discrete Distributions</a></li>
<li class="chapter" data-level="B.3" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html"><i class="fa fa-check"></i><b>B.3</b> Fitting Discrete Distributions</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#AppDisFitPoissonFit"><i class="fa fa-check"></i><b>B.3.1</b> Fitting a Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.2" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#visualizing-the-data"><i class="fa fa-check"></i><b>B.3.2</b> Visualizing the Data</a></li>
<li class="chapter" data-level="B.3.3" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#estimating-the-rate-parameter-for-the-poisson-distribution"><i class="fa fa-check"></i><b>B.3.3</b> Estimating the Rate Parameter for the Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.4" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#chi-squared-goodness-of-fit-test-for-poisson-distribution"><i class="fa fa-check"></i><b>B.3.4</b> Chi-Squared Goodness of Fit Test for Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.5" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#subsubchisqGOF"><i class="fa fa-check"></i><b>B.3.5</b> Chi-Squared Goodness of Fit Test</a></li>
<li class="chapter" data-level="B.3.6" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#using-the-fitdistrplus-r-package-on-discrete-data"><i class="fa fa-check"></i><b>B.3.6</b> Using the fitdistrplus R Package on Discrete Data</a></li>
<li class="chapter" data-level="B.3.7" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#fitting-a-discrete-empirical-distribution"><i class="fa fa-check"></i><b>B.3.7</b> Fitting a Discrete Empirical Distribution</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="appidmsecMCD.html"><a href="appidmsecMCD.html"><i class="fa fa-check"></i><b>B.4</b> Modeling with Continuous Distributions</a></li>
<li class="chapter" data-level="B.5" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html"><i class="fa fa-check"></i><b>B.5</b> Fitting Continuous Distributions</a>
<ul>
<li class="chapter" data-level="B.5.1" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecvisualizedata"><i class="fa fa-check"></i><b>B.5.1</b> Visualizing the Data</a></li>
<li class="chapter" data-level="B.5.2" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecstatsdata"><i class="fa fa-check"></i><b>B.5.2</b> Statistically Summarize the Data</a></li>
<li class="chapter" data-level="B.5.3" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsechypothDist"><i class="fa fa-check"></i><b>B.5.3</b> Hypothesizing and Testing a Distribution</a></li>
<li class="chapter" data-level="B.5.4" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#kolmogorov-smirnov-test"><i class="fa fa-check"></i><b>B.5.4</b> Kolmogorov-Smirnov Test</a></li>
<li class="chapter" data-level="B.5.5" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecvisFit"><i class="fa fa-check"></i><b>B.5.5</b> Visualizing the Fit</a></li>
<li class="chapter" data-level="B.5.6" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidms2sb3"><i class="fa fa-check"></i><b>B.5.6</b> Using the Input Analyzer</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html"><i class="fa fa-check"></i><b>B.6</b> Testing Uniform (0,1) Pseudo-Random Numbers</a>
<ul>
<li class="chapter" data-level="B.6.1" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#chi-squared-goodness-of-fit-tests-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.1</b> Chi-Squared Goodness of Fit Tests for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="B.6.2" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#higher-dimensional-chi-squared-test"><i class="fa fa-check"></i><b>B.6.2</b> Higher Dimensional Chi-Squared Test</a></li>
<li class="chapter" data-level="B.6.3" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#kolmogorov-smirnov-test-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.3</b> Kolmogorov-Smirnov Test for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="B.6.4" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#testing-for-independence-and-patterns-in-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.4</b> Testing for Independence and Patterns in Pseudo-Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="B.7" data-path="appdistfitidms2sb4.html"><a href="appdistfitidms2sb4.html"><i class="fa fa-check"></i><b>B.7</b> Additional Distribution Modeling Concepts</a></li>
<li class="chapter" data-level="B.8" data-path="appidmSummary.html"><a href="appidmSummary.html"><i class="fa fa-check"></i><b>B.8</b> Summary</a></li>
<li class="chapter" data-level="B.9" data-path="exercises-10.html"><a href="exercises-10.html"><i class="fa fa-check"></i><b>B.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="appqtAndInvT.html"><a href="appqtAndInvT.html"><i class="fa fa-check"></i><b>C</b> Queueing Theory</a>
<ul>
<li class="chapter" data-level="C.1" data-path="appqts1.html"><a href="appqts1.html"><i class="fa fa-check"></i><b>C.1</b> Single Line Queueing Stations</a>
<ul>
<li class="chapter" data-level="C.1.1" data-path="appqts1.html"><a href="appqts1.html#queueing-notation"><i class="fa fa-check"></i><b>C.1.1</b> Queueing Notation</a></li>
<li class="chapter" data-level="C.1.2" data-path="appqts1.html"><a href="appqts1.html#littles-formula"><i class="fa fa-check"></i><b>C.1.2</b> Littleâ€™s Formula</a></li>
<li class="chapter" data-level="C.1.3" data-path="appqts1.html"><a href="appqts1.html#appqts1sb1"><i class="fa fa-check"></i><b>C.1.3</b> Deriving Formulas for Markovian Single Queue Systems</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="appqts1sb2.html"><a href="appqts1sb2.html"><i class="fa fa-check"></i><b>C.2</b> Examples and Applications of Queueing Analysis</a>
<ul>
<li class="chapter" data-level="C.2.1" data-path="appqts1sb2.html"><a href="appqts1sb2.html#infinite-queue-examples"><i class="fa fa-check"></i><b>C.2.1</b> Infinite Queue Examples</a></li>
<li class="chapter" data-level="C.2.2" data-path="appqts1sb2.html"><a href="appqts1sb2.html#finite-queue-examples"><i class="fa fa-check"></i><b>C.2.2</b> Finite Queue Examples</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="appqts1sb3.html"><a href="appqts1sb3.html"><i class="fa fa-check"></i><b>C.3</b> Non-Markovian Queues and Approximations</a></li>
<li class="chapter" data-level="C.4" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html"><i class="fa fa-check"></i><b>C.4</b> Summary of Queueing Formulas</a>
<ul>
<li class="chapter" data-level="C.4.1" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1-queue"><i class="fa fa-check"></i><b>C.4.1</b> M/M/1 Queue</a></li>
<li class="chapter" data-level="C.4.2" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmc-queue"><i class="fa fa-check"></i><b>C.4.2</b> M/M/c Queue</a></li>
<li class="chapter" data-level="C.4.3" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmck-queue"><i class="fa fa-check"></i><b>C.4.3</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="C.4.4" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mgcc-queue"><i class="fa fa-check"></i><b>C.4.4</b> M/G/c/c Queue</a></li>
<li class="chapter" data-level="C.4.5" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1k-queue"><i class="fa fa-check"></i><b>C.4.5</b> M/M/1/k Queue</a></li>
<li class="chapter" data-level="C.4.6" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmck-queue-1"><i class="fa fa-check"></i><b>C.4.6</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="C.4.7" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1kk-queue"><i class="fa fa-check"></i><b>C.4.7</b> M/M/1/k/k Queue</a></li>
<li class="chapter" data-level="C.4.8" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmckk-queue"><i class="fa fa-check"></i><b>C.4.8</b> M/M/c/k/k Queue</a></li>
</ul></li>
<li class="chapter" data-level="C.5" data-path="exercises-11.html"><a href="exercises-11.html"><i class="fa fa-check"></i><b>C.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="appUtilities.html"><a href="appUtilities.html"><i class="fa fa-check"></i><b>D</b> KSL Utility Packages</a>
<ul>
<li class="chapter" data-level="D.1" data-path="the-outputdirectory-class-and-ksl-object.html"><a href="the-outputdirectory-class-and-ksl-object.html"><i class="fa fa-check"></i><b>D.1</b> The <code>OutputDirectory</code> Class and <code>KSL</code> Object</a></li>
<li class="chapter" data-level="D.2" data-path="logging-options.html"><a href="logging-options.html"><i class="fa fa-check"></i><b>D.2</b> Logging Options</a></li>
<li class="chapter" data-level="D.3" data-path="the-kslfileutil-object.html"><a href="the-kslfileutil-object.html"><i class="fa fa-check"></i><b>D.3</b> The <code>KSLFileUtil</code> Object</a></li>
<li class="chapter" data-level="D.4" data-path="appDCSVEtc.html"><a href="appDCSVEtc.html"><i class="fa fa-check"></i><b>D.4</b> CSV, Excel, and Tabular Data Files</a></li>
<li class="chapter" data-level="D.5" data-path="dfUtil.html"><a href="dfUtil.html"><i class="fa fa-check"></i><b>D.5</b> The <code>DataFrameUtil</code> Object</a></li>
<li class="chapter" data-level="D.6" data-path="ksl-database-utilities.html"><a href="ksl-database-utilities.html"><i class="fa fa-check"></i><b>D.6</b> KSL Database Utilities</a></li>
<li class="chapter" data-level="D.7" data-path="appUtilitiesArrays.html"><a href="appUtilitiesArrays.html"><i class="fa fa-check"></i><b>D.7</b> Array Utilities</a></li>
<li class="chapter" data-level="D.8" data-path="appPlotting.html"><a href="appPlotting.html"><i class="fa fa-check"></i><b>D.8</b> KSL Plotting Utilities</a></li>
<li class="chapter" data-level="D.9" data-path="appExpDesign.html"><a href="appExpDesign.html"><i class="fa fa-check"></i><b>D.9</b> Experimental Design Utilities</a></li>
<li class="chapter" data-level="D.10" data-path="appUtilitiesMisc.html"><a href="appUtilitiesMisc.html"><i class="fa fa-check"></i><b>D.10</b> Miscellaneous Utilities</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>E</b> Distributions</a>
<ul>
<li class="chapter" data-level="E.1" data-path="appDiscreteDistributions.html"><a href="appDiscreteDistributions.html"><i class="fa fa-check"></i><b>E.1</b> Discrete Distrbutions</a></li>
<li class="chapter" data-level="E.2" data-path="appContinuousDistributions.html"><a href="appContinuousDistributions.html"><i class="fa fa-check"></i><b>E.2</b> Continuous Distrbutions</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="appStatTables.html"><a href="appStatTables.html"><i class="fa fa-check"></i><b>F</b> Statistical Tables</a></li>
<li class="chapter" data-level="G" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>G</b> References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Simulation Modeling using the Kotlin Simulation Library (KSL)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="enhancing-the-drive-through-pharmacy-model" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Enhancing the Drive Through Pharmacy Model<a href="enhancing-the-drive-through-pharmacy-model.html#enhancing-the-drive-through-pharmacy-model" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we re-implement the drive through pharmacy model to illustrate a few more KSL constructs.</p>
<div class="example">
<p><span id="exm:ch4ex5" class="example"><strong>Example 4.5  (Enhance Drive Through Pharmacy) </strong></span>Consider again the drive through pharmacy situation. Assume that customers arrive
at a drive through pharmacy window according to a Poisson distribution
with a mean of 10 per hour. The time that it takes the pharmacist to
serve the customer is random and data has indicated that the time is
well modeled with an exponential distribution with a mean of 3 minutes.
Customers who arrive to the pharmacy are served in the order of arrival
and enough space is available within the parking area of the adjacent
grocery store to accommodate any waiting customers. For this situation, we
are interested in estimating the following performance measures:</p>
<ol style="list-style-type: lower-alpha">
<li>Expected time spent waiting in the queue.</li>
<li>Probability of having 0, 1, 2, 3, etc. in the queue upon arrival.</li>
<li>The utilization of the pharmacist.</li>
<li>The number of times that the pharmacist attempted to serve a customer.</li>
<li>A histogram for the total time spent in the system.</li>
</ol>
</div>
<p>The solution to this situation will involve five new KSL constructs.</p>
<ul>
<li><code>SResource</code> - To model the pharmacist as a resource and automatically collect resource statistics.</li>
<li><code>Queue</code> - To model the customer waiting line.</li>
<li><code>QObject</code> - To model the customers and facilitate statistical collection on waiting time in the queue.</li>
<li><code>IntegerFrequencyResponse</code> - To collect statistics on the number of customers waiting when another customer arrives.</li>
<li><code>HistogramResponse</code> - To collect a histogram on the system times of the customers.</li>
<li><code>EventGenerator</code> - To model the arrival pattern of the customers.</li>
</ul>
<p>The purpose is to cover the basics of these classes for future modeling. The <code>SResource</code> class represents a <em>simple</em> resource that has a unchangeable capacity. The <code>Queue</code> and <code>QObject</code> classes facilitate the holding of entities within waiting lines or queues, while the <code>EventGenerator</code> class codifies the basics of generating events according to a repetitive pattern. We will start by expanding on the concept of a resource.</p>
<div id="modeling-a-simple-resource" class="section level3 hasAnchor" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Modeling a Simple Resource<a href="enhancing-the-drive-through-pharmacy-model.html#modeling-a-simple-resource" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As we saw in the drive through pharmacy example, when the customer arrives they need the pharmacist in order to proceed. As noted in the activity diagram depicted in Figure <a href="introDEDSdedsKSL.html#fig:DTPActivityDiagram">4.9</a>, we denoted the pharmacist as a resource (circle) in the diagram. A resource is something that is needed by the objects <em>(or entities)</em> that experience the systemâ€™s activities. In the pharmacy example, the resource (pharmacist) was required to start the service activity, denoted with a arrow with the word â€œseizeâ€ in the activity diagram, pointing from the resource to the start of the activity. After the activity is completed, there is a corresponding arrow labeled â€œreleaseâ€ pointing from the end of the activity back to the resource. This arrow denotes the returning of the used resource units back to the pool of available units.</p>
<p>For the purposes of this situation, we are going to represent the concept of a simple resource with the aptly named <code>SResource</code> class (for simple resource). Letâ€™s take a look at how the KSL represents a simple resource.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:SResource"></span>
<img src="figures2/ch4/SResource.png" alt="A Simple Resource Class" width="80%" height="80%" />
<p class="caption">
Figure 4.11: A Simple Resource Class
</p>
</div>
<p>A resource has a capacity that represents the maximum number of units that it can have available at any time. When a resource is seized some amount of units become busy (or allocated). When the units are no longer needed, they are released. If we let <span class="math inline">\(A(t)\)</span> be the number of available units, <span class="math inline">\(B(t)\)</span> be the number of busy units and <span class="math inline">\(c\)</span> be the capacity of the resource, we have that <span class="math inline">\(c = A(t) + B(t)\)</span> or <span class="math inline">\(A(t) = c - B(t)\)</span>. A resource is considered busy if <span class="math inline">\(B(t) &gt; 0\)</span>. That is, a resource is busy if some units are allocated. A resource is considered idle if no units are busy. That is, <span class="math inline">\(B(t) = 0\)</span>, which implies that <span class="math inline">\(A(t) = c\)</span>.</p>
<p>If the number of available units of a resource are unable to meet the number of units required by a â€œcustomerâ€, then we need to decide what to do. To simplify this modeling, we are going to assume two things 1) customers only request 1 unit of the resource at a time, and 2) if the request cannot be immediately supplied the customer will wait in an associated queue. These latter two assumptions are essentially what we have previously assumed in the modeling of the pharmacy situation. Modeling often requires the use of simplifying assumptions.</p>
<p>The <code>SResource</code> class of Figure <a href="enhancing-the-drive-through-pharmacy-model.html#fig:SResource">4.11</a> has functions <code>seize()</code> and <code>release()</code> which take (seize) and return (release) units of the resource. It also has properties (<code>busy</code> and <code>idle</code>) that indicate if the resource is busy or idle, respectively. In addition, the property <code>numBusyUnits</code> represents <span class="math inline">\(B(t)\)</span> and the property <code>numAvailableUnits</code> represents <span class="math inline">\(A(t)\)</span>. For convenience, the <code>hasAvailableUnits</code> property indicates if the resource has units that can be seized. Finally, the number of times the resource is seized and released are tabulated. The main performance measures are time weighted response variables for tabulating the time-average number of busy units and the time-average instantaneous utilization of the resource. Instantaneous utilization, <span class="math inline">\(U(t)\)</span> is governed by tracking <span class="math inline">\(U(t) = B(t)/c\)</span>.</p>
</div>
<div id="modeling-a-queue-with-statistical-collection" class="section level3 hasAnchor" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Modeling a Queue with Statistical Collection<a href="enhancing-the-drive-through-pharmacy-model.html#modeling-a-queue-with-statistical-collection" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>Queue</code> class, is used to model waiting lines. The <code>Queue</code> class is a sub-class
of <code>ModelElement</code> that is able to hold instances of the class <code>QObject</code> and
will <em>automatically</em> collect statistics on the number in the queue and the
time spent in the queue.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:QOverview"></span>
<img src="figures2/ch4/QueueOverview.png" alt="Overview of Classes Related to Queue and QObject"  />
<p class="caption">
Figure 4.12: Overview of Classes Related to Queue and QObject
</p>
</div>
<p>Figure <a href="enhancing-the-drive-through-pharmacy-model.html#fig:QOverview">4.12</a> illustrates the classes involved when using the <code>Queue</code> and <code>QObject</code> classes. The first thing to note is that <code>QObject</code> is an inner class of <code>ModelElement.</code> This permits subclasses of <code>ModelElement</code> to create instances of <code>QObject</code> that have access to all the architecture of the model but are not model elements. That is, instances of <code>QObject</code> are transitory and are not added to the model element hierarchy that has been previously described. Users create <code>QObject</code> instances, use them to model elements of interest in the system that may experience waiting and then allow the Kotlin garbage collector to deallocate the memory associated with the instances. In Figure <a href="enhancing-the-drive-through-pharmacy-model.html#fig:QOverview">4.12</a>, we also see the class <code>Queue&lt;T: ModelElement.QObject</code> is a sub-class of <code>ModelElement</code> that is parameterized by sub-types of <code>QObject.</code> Thus, users can develop sub-classes fo <code>QObject</code> and still use <code>Queue</code> to hold and collect statistics on those object instances. As noted in the figure, <code>Queue</code> also implements iterable. The last item to notice from Figure <a href="enhancing-the-drive-through-pharmacy-model.html#fig:QOverview">4.12</a> is that queues can be governed by four basic queue disciplines: FIFO, LIFO, random, and ranked. In the case of a ranked queue, the queue is ordered by the priority property of <code>QObject.</code> The KSL permits the changing of the queue discipline during the simulation. The default queue discipline is FIFO.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:QandQObject"></span>
<img src="figures2/ch4/QueueAndQObject.png" alt="Properties and Methods of Queue and QObject" width="70%" height="70%" />
<p class="caption">
Figure 4.13: Properties and Methods of Queue and QObject
</p>
</div>
<p>Figure <a href="enhancing-the-drive-through-pharmacy-model.html#fig:QandQObject">4.13</a> presents the properties and methods of the <code>Queue</code> and <code>QObject</code> classes. Here we can see that the <code>Queue</code> class has some standard methods for inserting and removing <code>QObject</code> instances. For the purposes of this chapter, the most noteworthy of these are:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb134-1"><a href="enhancing-the-drive-through-pharmacy-model.html#cb134-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">enqueue</span><span class="op">(</span><span class="va">qObject</span><span class="op">:</span> <span class="dt">T</span><span class="op">,</span> <span class="va">priority</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> qObject<span class="op">.</span>priority<span class="op">,</span> <span class="va">obj</span><span class="op">:</span> <span class="dt">Any</span><span class="op">?</span> <span class="op">=</span> qObject<span class="op">.</span>attachedObject<span class="op">)</span></span>
<span id="cb134-2"><a href="enhancing-the-drive-through-pharmacy-model.html#cb134-2" tabindex="-1"></a></span>
<span id="cb134-3"><a href="enhancing-the-drive-through-pharmacy-model.html#cb134-3" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">peekNext</span><span class="op">():</span> <span class="dt">T</span><span class="op">?</span> </span>
<span id="cb134-4"><a href="enhancing-the-drive-through-pharmacy-model.html#cb134-4" tabindex="-1"></a></span>
<span id="cb134-5"><a href="enhancing-the-drive-through-pharmacy-model.html#cb134-5" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">removeNext</span><span class="op">():</span> <span class="dt">T</span><span class="op">?</span> </span></code></pre></div>
<p>The <code>enqueue</code> method places <code>QObject</code> instances into the queue using the supplied priority. It also allows the user to attach an instance of <code>Any</code> to the <code>QObject</code> instance. The <code>peekNext</code> method provides a reference to the next <code>QObject</code> to be removed according the specified queue discipline and the <code>removeNext</code> method will remove the next <code>QObject</code> instance. During the enqueue and removal processes statistics are tabulated on the number of items in the queue and how much time the items spent in the queue. These responses are available via the <code>timeInQ</code> and <code>numInQ</code> properties. We will see how to use these classes within the revised pharmacy model. Before proceeding with reviewing the implementation, let us examine the <code>EventGenerator</code> class.</p>
</div>
<div id="modeling-a-repeating-event-pattern" class="section level3 hasAnchor" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Modeling a Repeating Event Pattern<a href="enhancing-the-drive-through-pharmacy-model.html#modeling-a-repeating-event-pattern" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>EventGenerator</code> class allows for the periodic generation of events
similar to that achieved by â€œCREATEâ€ modules in other simulation languages.
This class works in conjunction with the <code>GeneratorActionIfc</code>
interface, which is used to listen and react to the events that are
generated by this class. Users of the class can supply an instance of an
<code>GeneratorActionIfc</code> to provide the actions that take place when
the event occurs. Alternatively, if no <code>GeneratorActionIfc</code> is
supplied, by default the <code>generator(event: KSLEvent)</code> method of this class
will be called when the event occurs. Thus, sub-classes can simply
override this method to provide behavior for when the event occurs. If
no instance of an <code>GeneratorActionIfc</code> instance is supplied and the
<code>generate()</code> method is not overridden, then the events will still occur;
however, no meaningful actions will take place. The key input parameters
to the <code>EventGenerator</code> include:</p>
<dl>
<dt>time until the first event</dt>
<dd>
<p>This parameter is specified with an object that implements the
<code>RandomIfc.</code> It should be used to represent a positive real value that
represents the time after time 0.0 for the first event to occur. If
this parameter is not supplied, then the first event occurs at time
0.0. This parameter is specified by the <code>initialTimeUntilFirstEvent</code> property.</p>
</dd>
<dt>time between events</dt>
<dd>
<p>This parameter is specified with an object that implements the
<code>RandomIfc.</code> It should be used to represent a positive real value that
represents the time between events. If this parameter is not
supplied, then the time between events is positive infinity. This parameter is specified by the <code>initialTimeBetweenEvents</code> property.</p>
</dd>
<dt>time until last event</dt>
<dd>
<p>This parameter is specified with an object that implements the
<code>RandomIfc.</code> It should be used to represent a positive real value that
represents the time that the generator should stop generating. When
the generator is created, this variable is used to set the ending
time of the generator. Each time an event is to be scheduled the
ending time is checked. If the time of the next event is past this
time, then the generator is turned off and the event will not be
scheduled. The default is positive infinity. This parameter is specified by the <code>initialEndingTime</code> property.</p>
</dd>
<dt>maximum number of events</dt>
<dd>
<p>A value of type long that supplies the maximum number of events to
generate. Each time an event is to be scheduled, the maximum number
of events is checked. If the maximum has been reached, then the
generator is turned off. The default is <code>Long.MAX_VALUE</code>. This
parameter cannot be <code>Long.MAX_VALUE</code> when the time until next always
returns a value of 0.0. This is specified by the <code>initialMaximumNumberOfEvents</code> property.</p>
</dd>
<dt>the generator action</dt>
<dd>
<p>This parameter can be used to supply an instance of
<code>GeneratorActionIfc</code> interface to supply logic to occur when
the event occurs.</p>
</dd>
</dl>
<p>The most common use case for an <code>EventGenerator</code> is very similar to a
compound Poisson process. The <code>EventGenerator</code> is setup to run
with a time between events until the simulation completes; however,
there are a number of other possibilities that are facilitated through
various methods associated with the <code>EventGenerator</code> class. The first
possibility is to sub-class the <code>EventGenerator</code> to make a custom
generator for objects of a specific class. To facilitate this the user
need only over ride the generate() method that is part of the
<code>EventGenerator</code> class. For example, you could design classes to create
customers, parts, trucks, demands, etc.</p>
<p>In addition to customization through sub-classes, there are a number of
useful methods that are available for controlling the <code>EventGenerator.</code></p>
<dl>
<dt><code>turnOffGenerator()</code></dt>
<dd>
<p>This method allows an <code>EventGenerator</code> to be turned off. The next
scheduled generation event will not occur. This method will cancel a
previously scheduled generation event if one exists. No future
events will be scheduled after turning off the generator. Once the
generator has been turned off, it cannot be restarted until the next
replication.</p>
</dd>
<dt><code>turnOnGenerator(t: GetValueIfc)</code></dt>
<dd>
<p>If the generator was not started upon initialization at the
beginning of a replication, then this method can be used to start
the generator. The generator will be started <span class="math inline">\(t\)</span> time units after
the call. If this method is used when the generator is already
started it does nothing. If this method is used after the generator
is done it does nothing. If this method is used after the generator
has been suspended it does nothing. In other words, if the generator
is already on, this method does nothing.</p>
</dd>
<dt><code>suspend()</code></dt>
<dd>
<p>This method suspends the event generation pattern. The generator is
still on, but the generation of events is suspended. The next
scheduled generation event is canceled.</p>
</dd>
<dt><code>resume()</code></dt>
<dd>
<p>If the generator is suspended then this method causes the event
generator to proceed with the event generation pattern by scheduling
a new event according to the time between event distribution.</p>
</dd>
<dt><code>suspended</code></dt>
<dd>
<p>Checks if the generator is suspended.</p>
</dd>
<dt><code>done</code></dt>
<dd>
<p>Checks if the generator has been turned off. The generator can be
turned off via the <code>turnOffGenerator()</code> method or it may turn off when
it has reached its time until last event or if the maximum number of
events is reached. As previously noted, once a generator has been
turned off, it cannot be turned on again within the same
replication.</p>
</dd>
</dl>
<p>In considering these methods, a generator can turn itself off (as an
action) within or caused by the code within its <code>generate()</code>method or in
the supplied <code>GeneratorActionIfc</code> interface. It might also
<code>suspend()</code> itself in a similar manner. Of course, a class that has a
reference to the generator may also turn it off or suspend it. To resume
a suspended event generator, it is necessary to schedule an event whose
action invokes the <code>resume()</code> method. Obviously, this can be within a
sub-class of <code>EventGenerator</code> or within another class that has a reference
to the event generator.</p>
</div>
<div id="collecting-more-detailed-statistics" class="section level3 hasAnchor" number="4.5.4">
<h3><span class="header-section-number">4.5.4</span> Collecting More Detailed Statistics<a href="enhancing-the-drive-through-pharmacy-model.html#collecting-more-detailed-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Example <a href="enhancing-the-drive-through-pharmacy-model.html#exm:ch4ex5">4.5</a> also has requirements to collect the probability associated with the number of customers in the queue when a new customer arrives and for collecting a histogram for the time spent in the system for the customers. These requirements will be implemented using the <code>IntegerFrequencyResponse</code> and <code>HistogramResponse</code> classes. The <code>IntegerFrequencyResponse</code> and <code>HistogramResponse</code> classes are implementations of the <code>IntegerFrequency</code> and <code>Histogram</code> classes described in Section <a href="kslStatistics.html#histFreq">3.1.2</a>. The <code>HistogramResponse</code> class tabulates counts and frequencies of observed data over a set of contiguous intervals. The <code>IntegerFrequencyResponse</code> class will also tabulate count frequencies when the values are only integers. Both of these classes are designed to be used withing a KSL discrete-event simulation. One item to note is that both classes will collect statistics from within a warm up period (see Section <a href="simoainfhorizon.html#simoainfhorizoninitialbias">5.6.1</a>). In fact, these classes report statistics based on observations from every replication of the simulation.</p>
</div>
<div id="implementing-the-enhanced-pharmacy-model" class="section level3 hasAnchor" number="4.5.5">
<h3><span class="header-section-number">4.5.5</span> Implementing the Enhanced Pharmacy Model<a href="enhancing-the-drive-through-pharmacy-model.html#implementing-the-enhanced-pharmacy-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we are ready to review the revised implementation of the drive through pharmacy model which puts the previously described classes into action. Only portions of the code are illustrated here. For full details see the example files in the <code>ksl.examples.book.chapter4</code> package. To declare an instance of the <code>SResource</code> class, the following pattern is recommended:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb135-1"><a href="enhancing-the-drive-through-pharmacy-model.html#cb135-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myPharmacists</span><span class="op">:</span> SResource <span class="op">=</span> SResource<span class="op">(</span><span class="kw">this</span><span class="op">,</span> numServers<span class="op">,</span> <span class="st">&quot;</span><span class="ss">${</span><span class="kw">this</span><span class="op">.</span>name<span class="ss">}</span><span class="st">:Pharmacists&quot;</span><span class="op">)</span></span>
<span id="cb135-2"><a href="enhancing-the-drive-through-pharmacy-model.html#cb135-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">resource</span><span class="op">:</span> SResourceCIfc</span>
<span id="cb135-3"><a href="enhancing-the-drive-through-pharmacy-model.html#cb135-3" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> myPharmacists</span></code></pre></div>
<p>Notice that the name of the parent model element is used as a prefix for the name of the resource to ensure that the name for the pharmacist is unique. Also note that exposure to useful components of <code>SResource</code> are made possible via the <code>SResourceCIfc</code> interface. Through this interface the initial capacity can be changed, the state of the resource can be accessed, and access to the statistical collection of the number busy and utilization are available.</p>
<p>To collect the histogram and integer frequency statistics, we can use the following declarations.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb136-1"><a href="enhancing-the-drive-through-pharmacy-model.html#cb136-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">mySysTime</span><span class="op">:</span> Response <span class="op">=</span> Response<span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="st">&quot;</span><span class="ss">${</span><span class="kw">this</span><span class="op">.</span>name<span class="ss">}</span><span class="st">:SystemTime&quot;</span><span class="op">)</span></span>
<span id="cb136-2"><a href="enhancing-the-drive-through-pharmacy-model.html#cb136-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">systemTime</span><span class="op">:</span> ResponseCIfc</span>
<span id="cb136-3"><a href="enhancing-the-drive-through-pharmacy-model.html#cb136-3" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> mySysTime</span>
<span id="cb136-4"><a href="enhancing-the-drive-through-pharmacy-model.html#cb136-4" tabindex="-1"></a>        </span>
<span id="cb136-5"><a href="enhancing-the-drive-through-pharmacy-model.html#cb136-5" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">mySysTimeHistogram</span><span class="op">:</span> HistogramResponse <span class="op">=</span> HistogramResponse<span class="op">(</span>mySysTime<span class="op">)</span></span>
<span id="cb136-6"><a href="enhancing-the-drive-through-pharmacy-model.html#cb136-6" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">systemTimeHistogram</span><span class="op">:</span> HistogramIfc</span>
<span id="cb136-7"><a href="enhancing-the-drive-through-pharmacy-model.html#cb136-7" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> mySysTimeHistogram<span class="op">.</span>histogram</span>
<span id="cb136-8"><a href="enhancing-the-drive-through-pharmacy-model.html#cb136-8" tabindex="-1"></a></span>
<span id="cb136-9"><a href="enhancing-the-drive-through-pharmacy-model.html#cb136-9" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myInQ</span> <span class="op">=</span> IntegerFrequencyResponse<span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="st">&quot;</span><span class="ss">${</span><span class="kw">this</span><span class="op">.</span>name<span class="ss">}</span><span class="st">:NQUponArrival&quot;</span><span class="op">)</span></span></code></pre></div>
<p>The <code>HistogramResponse</code> class requires an instance of the <code>Response</code> class. In this case, we supply a reference the response that is used to collect the system times for the customers. The reference is used internally to observe the response. The instance of the <code>IntegerFrequencyResponse</code> class will be used within the arrival logic to observe the number of customers in the queue when the customer arrives.</p>
<p>To declare an instance of the Queue class, we use the following code.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb137-1"><a href="enhancing-the-drive-through-pharmacy-model.html#cb137-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myWaitingQ</span><span class="op">:</span> Queue<span class="op">&lt;</span>QObject<span class="op">&gt;</span> <span class="op">=</span> Queue<span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="st">&quot;</span><span class="ss">${</span><span class="kw">this</span><span class="op">.</span>name<span class="ss">}</span><span class="st">:PharmacyQ&quot;</span><span class="op">)</span></span>
<span id="cb137-2"><a href="enhancing-the-drive-through-pharmacy-model.html#cb137-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">waitingQ</span><span class="op">:</span> QueueCIfc<span class="op">&lt;</span>QObject<span class="op">&gt;</span></span>
<span id="cb137-3"><a href="enhancing-the-drive-through-pharmacy-model.html#cb137-3" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> myWaitingQ</span></code></pre></div>
<p>Notice how we also declare a public property that exposes part of the queue functionality, especially related to getting access to the statistical responses.</p>
<p>We can create and use an instance of <code>EventGenerator</code> with the following code. We see that the event generator uses a reference to the functional interface <code>GeneratorActionIfc.</code> This is accomplished with the <code>this::arrival</code> syntax, which provides a reference to the <code>arrival</code> function shown in the code.</p>
<p>In addition, the time between arrivals random variable is supplied for both the time until the first event and the time between events. The <code>initialize()</code> method of the <code>EventGenerator</code> class ensures that the first event is scheduled automatically at the start of the simulation. In addition, the <code>EventGenerator</code> class continues rescheduling the arrivals according to the time between arrival pattern. As previously noted, this process can be suspended, resumed, and turned off if needed. An event generator can also be specified not to automatically start at time 0.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb138-1"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">endServiceEvent</span> <span class="op">=</span> <span class="kw">this</span><span class="op">::</span>endOfService</span>
<span id="cb138-2"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-2" tabindex="-1"></a></span>
<span id="cb138-3"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-3" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myArrivalGenerator</span><span class="op">:</span> EventGenerator <span class="op">=</span> EventGenerator<span class="op">(</span></span>
<span id="cb138-4"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-4" tabindex="-1"></a>        <span class="kw">this</span><span class="op">,</span> <span class="kw">this</span><span class="op">::</span>arrival<span class="op">,</span> myArrivalRV<span class="op">,</span> myArrivalRV<span class="op">)</span></span>
<span id="cb138-5"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-5" tabindex="-1"></a></span>
<span id="cb138-6"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-6" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">fun</span> <span class="fu">arrival</span><span class="op">(</span><span class="va">generator</span><span class="op">:</span> <span class="dt">EventGenerator</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb138-7"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-7" tabindex="-1"></a>        myNS<span class="op">.</span>increment<span class="op">()</span> <span class="co">// new customer arrived</span></span>
<span id="cb138-8"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-8" tabindex="-1"></a>        myInQ<span class="op">.</span>value <span class="op">=</span> myWaitingQ<span class="op">.</span>numInQ<span class="op">.</span>value<span class="op">.</span>toInt<span class="op">()</span></span>
<span id="cb138-9"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-9" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">arrivingCustomer</span> <span class="op">=</span> QObject<span class="op">()</span></span>
<span id="cb138-10"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-10" tabindex="-1"></a>        myWaitingQ<span class="op">.</span>enqueue<span class="op">(</span>arrivingCustomer<span class="op">)</span> <span class="co">// enqueue the newly arriving customer</span></span>
<span id="cb138-11"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-11" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>myPharmacists<span class="op">.</span>hasAvailableUnits<span class="op">)</span> <span class="op">{</span></span>
<span id="cb138-12"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-12" tabindex="-1"></a>            myPharmacists<span class="op">.</span>seize<span class="op">()</span></span>
<span id="cb138-13"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-13" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">customer</span><span class="op">:</span> QObject<span class="op">?</span> <span class="op">=</span> myWaitingQ<span class="op">.</span>removeNext<span class="op">()</span> <span class="co">//remove the next customer</span></span>
<span id="cb138-14"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-14" tabindex="-1"></a>            <span class="co">// schedule end of service, include the customer as the event&#39;s message</span></span>
<span id="cb138-15"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-15" tabindex="-1"></a>            schedule<span class="op">(</span>endServiceEvent<span class="op">,</span> myServiceRV<span class="op">,</span> customer<span class="op">)</span></span>
<span id="cb138-16"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-16" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb138-17"><a href="enhancing-the-drive-through-pharmacy-model.html#cb138-17" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>In the code for arrivals, we also see the use of the <code>Queue</code> class (via the variable <code>myWaitingQ</code>) and the <code>QObject</code> class. On line 7 of the code, we see <code>val arrivingCustomer = QObject()</code> which creates an instance of <code>QObject</code> that represents the arriving customer. Then, using the <code>enqueue</code> method the customer is placed within the queue. This action is performed regardless of whether the customer has to wait to ensure that zero wait times are collected. Notice that on line 6, the <code>IntegerFrequencyResponse</code> instance is used to observe the number of customers in the queue upon arrival.</p>
<p>Then, in lines 9-14, we see that the number busy is checked against the number of pharmacists by using the <code>hasAvailableUnits</code> property of the <code>SResource</code> instance. If there are available pharmacists, then a unit of the pharmacist resource is seized, the next customer is removed from the queue, and the customerâ€™s end of service action is scheduled. Notice how the <code>schedule</code> method is different from the previous implementation. In this implementation, the customer is attached to the <code>KSLEvent</code> instance and is held in the calendar with the event until the event is removed from the calendar and its execution commences. Letâ€™s take a look at the revised end of service action.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb139-1"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">fun</span> <span class="fu">endOfService</span><span class="op">(</span><span class="va">event</span><span class="op">:</span> <span class="dt">KSLEvent</span>&lt;<span class="va">QObject</span>&gt;<span class="op">)</span> <span class="op">{</span></span>
<span id="cb139-2"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-2" tabindex="-1"></a>        myPharmacists<span class="op">.</span>release<span class="op">()</span></span>
<span id="cb139-3"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-3" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(!</span>myWaitingQ<span class="op">.</span>isEmpty<span class="op">)</span> <span class="op">{</span> <span class="co">// queue is not empty</span></span>
<span id="cb139-4"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-4" tabindex="-1"></a>            myPharmacists<span class="op">.</span>seize<span class="op">()</span></span>
<span id="cb139-5"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-5" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">customer</span><span class="op">:</span> QObject<span class="op">?</span> <span class="op">=</span> myWaitingQ<span class="op">.</span>removeNext<span class="op">()</span> <span class="co">//remove the next customer</span></span>
<span id="cb139-6"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-6" tabindex="-1"></a>            <span class="co">// schedule end of service</span></span>
<span id="cb139-7"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-7" tabindex="-1"></a>            schedule<span class="op">(</span>endServiceEvent<span class="op">,</span> myServiceRV<span class="op">,</span> customer<span class="op">)</span></span>
<span id="cb139-8"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-8" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb139-9"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-9" tabindex="-1"></a>        departSystem<span class="op">(</span>event<span class="op">.</span>message<span class="op">!!)</span></span>
<span id="cb139-10"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-10" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb139-11"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-11" tabindex="-1"></a></span>
<span id="cb139-12"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-12" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">fun</span> <span class="fu">departSystem</span><span class="op">(</span><span class="va">departingCustomer</span><span class="op">:</span> <span class="dt">QObject</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb139-13"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-13" tabindex="-1"></a>        mySysTime<span class="op">.</span>value <span class="op">=</span> <span class="op">(</span>time <span class="op">-</span> departingCustomer<span class="op">.</span>createTime<span class="op">)</span></span>
<span id="cb139-14"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-14" tabindex="-1"></a>        myNS<span class="op">.</span>decrement<span class="op">()</span> <span class="co">// customer left system</span></span>
<span id="cb139-15"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-15" tabindex="-1"></a>        myNumCustomers<span class="op">.</span>increment<span class="op">()</span></span>
<span id="cb139-16"><a href="enhancing-the-drive-through-pharmacy-model.html#cb139-16" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>Here we see the same basic logic as in the previous example, except in this case we can use the resource and the queue. First, a unit of the pharmacist is released. Then, the queue is checked to see if it is empty, if not, a unit of the pharmacist is seized and the next customer is removed. Then, the customerâ€™s service is scheduled. We always handle the departing customer by grabbing it from the message attached to the event via the <code>event.message</code> property. This departing customer is sent to a private method that collects statistics on the customer. Notice two items. First, it is perfectly okay to call other methods from within the event routines. In fact, this is encouraged and can help organize your code.</p>
<p>Secondly, we are passing along the instance of <code>QObject</code> until it is no longer needed. In the <code>departingSystem</code> method, we get the current simulation time via the <code>time</code> property that is available to all model elements. This property represents the current simulation time. We then subtract off the time that the <code>QObject</code> was created by using the <code>createTime</code> property of the departing customer. This is assigned to the value property of an instance of <code>Response</code> called <code>mySystemTime.</code> This causes the system time of every departing customer to be collected and statistics reported. The process of collecting statistics on <code>QObject</code> instances is extremely common and works if you understand how to pass the <code>QObject</code> instance along via the <code>KSLEvent</code> instances.</p>
<p>There is another little tidbit that is occurring in the reference coded snippet. Earlier in the arrivals code snippet, you might not have noticed the following line of code:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb140-1"><a href="enhancing-the-drive-through-pharmacy-model.html#cb140-1" tabindex="-1"></a><span class="kw">private</span> <span class="kw">val</span> <span class="va">endServiceEvent</span> <span class="op">=</span> <span class="kw">this</span><span class="op">::</span>endOfService</span></code></pre></div>
<p>For convenience, this line of code is capturing a <code>functional</code> reference to the <code>endOfService</code> method. The <code>EventActionIfc</code> interface is actually a functional interface, which allows functional references that contain the same signature to be used without having to implement the interface. This feature of Kotlin allows the functional reference to <code>private fun endOfService(event: KSLEvent&lt;QObject&gt;)</code> to serve as a parameter to the <code>schedule()</code> method. This alleviates the need to implement an inner class that extends the <code>EventActionIfc</code> interface. A similar strategy was used for the implementation of <code>GeneratorActionIfc</code> for use in the event generator, except in that case we did not declare a variable to hold the reference to the function. The style that you employ can be based on your own personal preferences.</p>
<p>The results of running the simulation match the previously reported results.</p>
<pre><code>Half-Width Statistical Summary Report - Confidence Level (95.000)% 

Name                                   Count          Average      Half-Width 
---------------------------------------------------------------------------- 
Pharmacy:Pharmacists:NumBusy            30         0.5035          0.0060 
Pharmacy:Pharmacists:Util               30         0.5035          0.0060 
Pharmacy:NumInSystem                    30         1.0060          0.0271 
Pharmacy:SystemTime                     30         6.0001          0.1441 
Pharmacy:PharmacyQ:NumInQ               30         0.5025          0.0222 
Pharmacy:PharmacyQ:TimeInQ              30         2.9961          0.1235 
SysTime &gt;= 4 minutes                    30         0.5136          0.0071 
Pharmacy:Pharmacists:SeizeCount         30      2513.4000         17.6653 
Pharmacy:NumServed                      30      2513.2667         17.6883 
----------------------------------------------------------------------------</code></pre>
<p>In the results, we see the system time and the queueing time reported. The response called <code>Pharmacy:Pharmacists:SeizeCount</code> reports the number of times that the pharmacist resource was seized. Notice that its value is very close to the number of customers served. The difference is due to the fact that seizing occurs before the service time and the number served is collected when the customer departs. Notice also that the use of the <code>SResource</code> class causes statistics for the number busy and the utilization to be reported. The statistics are exactly the same in this situation because there is only one pharmacist.</p>
<p>We also see a statistic called <code>SysTime &gt; 4.0 minutes.</code> This was captured by using an <code>IndicatorResponse,</code> which is a subclass of <code>Response</code> that allows the user to specify a function that results in boolean expression and an instance of a <code>Response</code> to observe. The expression is collected as a 1.0 for true and 0.0 for false. In this example, we are observing the response called <code>mySysTime.</code></p>
<div class="sourceCode" id="cb142"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb142-1"><a href="enhancing-the-drive-through-pharmacy-model.html#cb142-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">mySTGT4</span><span class="op">:</span> IndicatorResponse <span class="op">=</span> IndicatorResponse<span class="op">({</span> x <span class="op">-&gt;</span> x <span class="op">&gt;=</span> <span class="fl">4.0</span> <span class="op">},</span> mySysTime<span class="op">,</span> <span class="st">&quot;SysTime &gt; 4.0 minutes&quot;</span><span class="op">)</span></span></code></pre></div>
<p>This allow a probability to be estimated. In this case, we estimated the probability that a customerâ€™s system time was more than 4.0 minutes.</p>
<p>In addition, the call to the <code>print()</code> function will provide the histogram and integer frequency results in the console.</p>
<pre><code>Pharmacy:SystemTime:Histogram
   binNum           binLabel binLowerLimit binUpperLimit binCount cumCount proportion cumProportion
 0      1   1 [ 0.00, 4.00)            0.0           4.0  48589.0  48589.0   0.485448      0.485448
 1      2   2 [ 4.00, 8.00)            4.0           8.0  24974.0  73563.0   0.249513      0.734961
 2      3   3 [ 8.00,12.00)            8.0          12.0  12711.0  86274.0   0.126994      0.861956
 3      4   4 [12.00,16.00)           12.0          16.0   6658.0  92932.0   0.066519      0.928475
 4      5   5 [16.00,20.00)           16.0          20.0   3441.0  96373.0   0.034379      0.962854
 5      6   6 [20.00,24.00)           20.0          24.0   1911.0  98284.0   0.019093      0.981946
 6      7   7 [24.00,28.00)           24.0          28.0    985.0  99269.0   0.009841      0.991787
 7      8   8 [28.00,32.00)           28.0          32.0    458.0  99727.0   0.004576      0.996363
 8      9   9 [32.00,36.00)           32.0          36.0    221.0  99948.0   0.002208      0.998571
 9     10  10 [36.00,40.00)           36.0          40.0    143.0 100091.0   0.001429      1.000000</code></pre>
<p>The integer frequency tabulation shows the number of customers in queue upon the arrival of a new customer. We can see that there is about a 0.75 chance that a customer arrives to an empty queue.</p>
<pre><code>Pharmacy:NQUponArrival
    cellLabel value   count cum_count proportion cumProportion
  0  label: 0     0 74944.0   74944.0   0.747243      0.747243
  1  label: 1     1 12615.0   87559.0   0.125780      0.873023
  2  label: 2     2  6303.0   93862.0   0.062845      0.935869
  3  label: 3     3  3178.0   97040.0   0.031687      0.967555
  4  label: 4     4  1581.0   98621.0   0.015764      0.983319
  5  label: 5     5   765.0   99386.0   0.007628      0.990947
  6  label: 6     6   417.0   99803.0   0.004158      0.995104
  7  label: 7     7   235.0  100038.0   0.002343      0.997448
  8  label: 8     8   136.0  100174.0   0.001356      0.998804
  9  label: 9     9    72.0  100246.0   0.000718      0.999521
 10 label: 10    10    27.0  100273.0   0.000269      0.999791
 11 label: 11    11    13.0  100286.0   0.000130      0.999920
 12 label: 12    12     5.0  100291.0   0.000050      0.999970
 13 label: 13    13     3.0  100294.0   0.000030      1.000000</code></pre>
<p>The <code>IntegerFrequencyResponse</code> and <code>HistogramResponse</code> also facilitate the plotting of their results. See the documentation for further details.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introDEDSdedsKSL.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="DTPExpanded.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
