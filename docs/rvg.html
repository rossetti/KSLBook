<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.2 Random Variate Generation | Simulation Modeling using the Kotlin Simulation Library (KSL)</title>
  <meta name="description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="2.2 Random Variate Generation | Simulation Modeling using the Kotlin Simulation Library (KSL)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.2 Random Variate Generation | Simulation Modeling using the Kotlin Simulation Library (KSL)" />
  
  <meta name="twitter:description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  

<meta name="author" content="Manuel D. Rossetti" />


<meta name="date" content="2024-06-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ch2generator.html"/>
<link rel="next" href="probModels.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Simulation Modeling using the Kotlin Simulation Library (KSL)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="release-history.html"><a href="release-history.html"><i class="fa fa-check"></i>Release History</a></li>
<li class="chapter" data-level="" data-path="ksl-project-page.html"><a href="ksl-project-page.html"><i class="fa fa-check"></i>KSL Project Page</a></li>
<li class="chapter" data-level="" data-path="book-support-files.html"><a href="book-support-files.html"><i class="fa fa-check"></i>Book Support Files</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="intended-audience.html"><a href="intended-audience.html"><i class="fa fa-check"></i>Intended Audience</a></li>
<li class="chapter" data-level="" data-path="organization-of-the-book.html"><a href="organization-of-the-book.html"><i class="fa fa-check"></i>Organization of the Book</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="ch1.html"><a href="ch1.html"><i class="fa fa-check"></i><b>1</b> Simulation Modeling</a>
<ul>
<li class="chapter" data-level="1.1" data-path="simulation-modeling.html"><a href="simulation-modeling.html"><i class="fa fa-check"></i><b>1.1</b> Simulation Modeling</a></li>
<li class="chapter" data-level="1.2" data-path="why-simulate.html"><a href="why-simulate.html"><i class="fa fa-check"></i><b>1.2</b> Why Simulate?</a></li>
<li class="chapter" data-level="1.3" data-path="types-of-systems-and-simulation-models.html"><a href="types-of-systems-and-simulation-models.html"><i class="fa fa-check"></i><b>1.3</b> Types of Systems and Simulation Models</a></li>
<li class="chapter" data-level="1.4" data-path="simulation-descriptive-or-prescriptive-modeling.html"><a href="simulation-descriptive-or-prescriptive-modeling.html"><i class="fa fa-check"></i><b>1.4</b> Simulation: Descriptive or Prescriptive Modeling?</a></li>
<li class="chapter" data-level="1.5" data-path="randomness-in-simulation.html"><a href="randomness-in-simulation.html"><i class="fa fa-check"></i><b>1.5</b> Randomness in Simulation</a></li>
<li class="chapter" data-level="1.6" data-path="simulation-languages.html"><a href="simulation-languages.html"><i class="fa fa-check"></i><b>1.6</b> Simulation Languages</a></li>
<li class="chapter" data-level="1.7" data-path="ch1:sec:simMeth.html"><a href="ch1:sec:simMeth.html"><i class="fa fa-check"></i><b>1.7</b> Simulation Methodology</a></li>
<li class="chapter" data-level="1.8" data-path="overview-of-the-kotlin-simulation-library.html"><a href="overview-of-the-kotlin-simulation-library.html"><i class="fa fa-check"></i><b>1.8</b> Overview of the Kotlin Simulation Library</a></li>
<li class="chapter" data-level="1.9" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>1.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ch2rng.html"><a href="ch2rng.html"><i class="fa fa-check"></i><b>2</b> Modeling Randomness</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ch2generator.html"><a href="ch2generator.html"><i class="fa fa-check"></i><b>2.1</b> Random Number Generator</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="ch2generator.html"><a href="ch2generator.html#ch2randompkg"><i class="fa fa-check"></i><b>2.1.1</b> Random Package</a></li>
<li class="chapter" data-level="2.1.2" data-path="ch2generator.html"><a href="ch2generator.html#ch2creatingStreams"><i class="fa fa-check"></i><b>2.1.2</b> Creating and Using Streams</a></li>
<li class="chapter" data-level="2.1.3" data-path="ch2generator.html"><a href="ch2generator.html#ch2crn"><i class="fa fa-check"></i><b>2.1.3</b> Common Random Numbers</a></li>
<li class="chapter" data-level="2.1.4" data-path="ch2generator.html"><a href="ch2generator.html#ch2antitheticStreams"><i class="fa fa-check"></i><b>2.1.4</b> Creating and Using Antithetic Streams</a></li>
<li class="chapter" data-level="2.1.5" data-path="ch2generator.html"><a href="ch2generator.html#ch2rnFAQ"><i class="fa fa-check"></i><b>2.1.5</b> Frequently Asked Questions about Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rvg.html"><a href="rvg.html"><i class="fa fa-check"></i><b>2.2</b> Random Variate Generation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rvg.html"><a href="rvg.html#basic-random-variate-generation"><i class="fa fa-check"></i><b>2.2.1</b> Basic Random Variate Generation</a></li>
<li class="chapter" data-level="2.2.2" data-path="rvg.html"><a href="rvg.html#rvg_dists"><i class="fa fa-check"></i><b>2.2.2</b> Continuous and Discrete Random Variables</a></li>
<li class="chapter" data-level="2.2.3" data-path="rvg.html"><a href="rvg.html#rvguse"><i class="fa fa-check"></i><b>2.2.3</b> Creating and Using Random Variables</a></li>
<li class="chapter" data-level="2.2.4" data-path="rvg.html"><a href="rvg.html#functions-of-random-variables"><i class="fa fa-check"></i><b>2.2.4</b> Functions of Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="probModels.html"><a href="probModels.html"><i class="fa fa-check"></i><b>2.3</b> Probability Distribution Models</a></li>
<li class="chapter" data-level="2.4" data-path="distFitting.html"><a href="distFitting.html"><i class="fa fa-check"></i><b>2.4</b> Distribution Fitting Using the KSL</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="distFitting.html"><a href="distFitting.html#estimating-distribution-parameters"><i class="fa fa-check"></i><b>2.4.1</b> Estimating Distribution Parameters</a></li>
<li class="chapter" data-level="2.4.2" data-path="distFitting.html"><a href="distFitting.html#continuous-distribution-recommendation-framework"><i class="fa fa-check"></i><b>2.4.2</b> Continuous Distribution Recommendation Framework</a></li>
<li class="chapter" data-level="2.4.3" data-path="distFitting.html"><a href="distFitting.html#discrete-distribution-framework"><i class="fa fa-check"></i><b>2.4.3</b> Discrete Distribution Framework</a></li>
<li class="chapter" data-level="2.4.4" data-path="distFitting.html"><a href="distFitting.html#pdfmexamples"><i class="fa fa-check"></i><b>2.4.4</b> Illustrative Examples from Appendix @ref(appidm)</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>2.5</b> Summary</a></li>
<li class="chapter" data-level="2.6" data-path="exercises-1.html"><a href="exercises-1.html"><i class="fa fa-check"></i><b>2.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mcm.html"><a href="mcm.html"><i class="fa fa-check"></i><b>3</b> Monte Carlo Methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="kslStatistics.html"><a href="kslStatistics.html"><i class="fa fa-check"></i><b>3.1</b> Collecting Statistics</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="kslStatistics.html"><a href="kslStatistics.html#creating-and-using-a-statistic"><i class="fa fa-check"></i><b>3.1.1</b> Creating and Using a Statistic</a></li>
<li class="chapter" data-level="3.1.2" data-path="kslStatistics.html"><a href="kslStatistics.html#histFreq"><i class="fa fa-check"></i><b>3.1.2</b> Histograms and Frequencies</a></li>
<li class="chapter" data-level="3.1.3" data-path="kslStatistics.html"><a href="kslStatistics.html#ch3batchStats"><i class="fa fa-check"></i><b>3.1.3</b> Batch Statistics</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ssMC.html"><a href="ssMC.html"><i class="fa fa-check"></i><b>3.2</b> Simple Monte Carlo Integration</a></li>
<li class="chapter" data-level="3.3" data-path="ch3StatReview.html"><a href="ch3StatReview.html"><i class="fa fa-check"></i><b>3.3</b> Review of Statistical Concepts</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="ch3StatReview.html"><a href="ch3StatReview.html#point-estimates-and-confidence-intervals"><i class="fa fa-check"></i><b>3.3.1</b> Point Estimates and Confidence Intervals</a></li>
<li class="chapter" data-level="3.3.2" data-path="ch3StatReview.html"><a href="ch3StatReview.html#ch3SampleSize"><i class="fa fa-check"></i><b>3.3.2</b> Sample Size Determination</a></li>
<li class="chapter" data-level="3.3.3" data-path="ch3StatReview.html"><a href="ch3StatReview.html#determining-the-sample-size-for-a-monte-carlo-simulation-experiment"><i class="fa fa-check"></i><b>3.3.3</b> Determining the Sample Size for a Monte Carlo Simulation Experiment</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="craps.html"><a href="craps.html"><i class="fa fa-check"></i><b>3.4</b> Simulating the Game of Craps</a></li>
<li class="chapter" data-level="3.5" data-path="the-news-vendor-problem.html"><a href="the-news-vendor-problem.html"><i class="fa fa-check"></i><b>3.5</b> The News Vendor Problem</a></li>
<li class="chapter" data-level="3.6" data-path="ch3InsProcess.html"><a href="ch3InsProcess.html"><i class="fa fa-check"></i><b>3.6</b> A Simple Inspection Process</a></li>
<li class="chapter" data-level="3.7" data-path="ch3SAN.html"><a href="ch3SAN.html"><i class="fa fa-check"></i><b>3.7</b> Stochastic Activity Networks</a></li>
<li class="chapter" data-level="3.8" data-path="mcmExperiments.html"><a href="mcmExperiments.html"><i class="fa fa-check"></i><b>3.8</b> Monte-Carlo Experiments</a></li>
<li class="chapter" data-level="3.9" data-path="summary-1.html"><a href="summary-1.html"><i class="fa fa-check"></i><b>3.9</b> Summary</a></li>
<li class="chapter" data-level="3.10" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i><b>3.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introDEDS.html"><a href="introDEDS.html"><i class="fa fa-check"></i><b>4</b> Introduction to Discrete Event Modeling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introDEDSdeds.html"><a href="introDEDSdeds.html"><i class="fa fa-check"></i><b>4.1</b> Discrete-Event Dynamic Systems</a></li>
<li class="chapter" data-level="4.2" data-path="HowDEDSClockWorks.html"><a href="HowDEDSClockWorks.html"><i class="fa fa-check"></i><b>4.2</b> How the Discrete-Event Clock Works</a></li>
<li class="chapter" data-level="4.3" data-path="QHandExample.html"><a href="QHandExample.html"><i class="fa fa-check"></i><b>4.3</b> Simulating a Queueing System By Hand</a></li>
<li class="chapter" data-level="4.4" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html"><i class="fa fa-check"></i><b>4.4</b> Modeling DEDS in the KSL</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#event-scheduling"><i class="fa fa-check"></i><b>4.4.1</b> Event Scheduling</a></li>
<li class="chapter" data-level="4.4.2" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSschedExamples"><i class="fa fa-check"></i><b>4.4.2</b> Simple Event Scheduling Examples</a></li>
<li class="chapter" data-level="4.4.3" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSUpDown"><i class="fa fa-check"></i><b>4.4.3</b> Up and Down Component Example</a></li>
<li class="chapter" data-level="4.4.4" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSPharmacy"><i class="fa fa-check"></i><b>4.4.4</b> Modeling a Simple Queueing System</a></li>
<li class="chapter" data-level="4.4.5" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#more-details-about-the-pharmacy-model-implementation"><i class="fa fa-check"></i><b>4.4.5</b> More Details About the Pharmacy Model Implementation</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html"><i class="fa fa-check"></i><b>4.5</b> Enhancing the Drive Through Pharmacy Model</a></li>
<li class="chapter" data-level="4.6" data-path="introDEDSSummary.html"><a href="introDEDSSummary.html"><i class="fa fa-check"></i><b>4.6</b> Summary</a></li>
<li class="chapter" data-level="4.7" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i><b>4.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simoa.html"><a href="simoa.html"><i class="fa fa-check"></i><b>5</b> Analyzing and Accessing Simulation Output</a>
<ul>
<li class="chapter" data-level="5.1" data-path="simoadatatypes.html"><a href="simoadatatypes.html"><i class="fa fa-check"></i><b>5.1</b> Types of Statistical Variables</a></li>
<li class="chapter" data-level="5.2" data-path="simoasimtypes.html"><a href="simoasimtypes.html"><i class="fa fa-check"></i><b>5.2</b> Types of Simulation With Respect To Output Analysis</a></li>
<li class="chapter" data-level="5.3" data-path="simoafinhorizon.html"><a href="simoafinhorizon.html"><i class="fa fa-check"></i><b>5.3</b> Analysis of Finite Horizon Simulations</a></li>
<li class="chapter" data-level="5.4" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html"><i class="fa fa-check"></i><b>5.4</b> Capturing Output for a Simple Finite Horizon Simulation</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#simoaCapture"><i class="fa fa-check"></i><b>5.4.1</b> KSL Functionality for Capturing Statistical Results</a></li>
<li class="chapter" data-level="5.4.2" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#additional-remarks"><i class="fa fa-check"></i><b>5.4.2</b> Additional Remarks</a></li>
<li class="chapter" data-level="5.4.3" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#querying-the-ksl-database"><i class="fa fa-check"></i><b>5.4.3</b> Querying the KSL Database</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="simoaseqsampling.html"><a href="simoaseqsampling.html"><i class="fa fa-check"></i><b>5.5</b> Sequential Sampling for Finite Horizon Simulations</a></li>
<li class="chapter" data-level="5.6" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html"><i class="fa fa-check"></i><b>5.6</b> Analysis of Infinite Horizon Simulations</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizoninitialbias"><i class="fa fa-check"></i><b>5.6.1</b> Assessing the Effect of Initial Conditions</a></li>
<li class="chapter" data-level="5.6.2" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonrepDeletion"><i class="fa fa-check"></i><b>5.6.2</b> Performing the Method of Replication-Deletion</a></li>
<li class="chapter" data-level="5.6.3" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonbatchmeans"><i class="fa fa-check"></i><b>5.6.3</b> The Method of Batch Means</a></li>
<li class="chapter" data-level="5.6.4" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonjslbatching"><i class="fa fa-check"></i><b>5.6.4</b> Performing the Method of Batch Means</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html"><i class="fa fa-check"></i><b>5.7</b> Comparing System Configurations</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#simoacomparingSystems:two"><i class="fa fa-check"></i><b>5.7.1</b> Comparing Two Systems</a></li>
<li class="chapter" data-level="5.7.2" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#simoacomparingSystemsMCB"><i class="fa fa-check"></i><b>5.7.2</b> Concepts for Comparing Systems</a></li>
<li class="chapter" data-level="5.7.3" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#multiple-comparison-with-the-best-procedures-mcb"><i class="fa fa-check"></i><b>5.7.3</b> Multiple Comparison with the Best Procedures (MCB)</a></li>
<li class="chapter" data-level="5.7.4" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#ch5Screening"><i class="fa fa-check"></i><b>5.7.4</b> Screening Procedures</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html"><i class="fa fa-check"></i><b>5.8</b> Simulating Many Scenarios</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#controlAntns"><i class="fa fa-check"></i><b>5.8.1</b> Control Annotations</a></li>
<li class="chapter" data-level="5.8.2" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#random-variable-parameters"><i class="fa fa-check"></i><b>5.8.2</b> Random Variable Parameters</a></li>
<li class="chapter" data-level="5.8.3" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#kslScenarios"><i class="fa fa-check"></i><b>5.8.3</b> Setting Up and Running Multiple Scenarios</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="simoasummary.html"><a href="simoasummary.html"><i class="fa fa-check"></i><b>5.9</b> Summary</a></li>
<li class="chapter" data-level="5.10" data-path="exercises-4.html"><a href="exercises-4.html"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="processview.html"><a href="processview.html"><i class="fa fa-check"></i><b>6</b> Process View Modeling Using the KSL</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ch6Entities.html"><a href="ch6Entities.html"><i class="fa fa-check"></i><b>6.1</b> What are Entities?</a></li>
<li class="chapter" data-level="6.2" data-path="pvIntro.html"><a href="pvIntro.html"><i class="fa fa-check"></i><b>6.2</b> The Process View</a></li>
<li class="chapter" data-level="6.3" data-path="understanding-ksl-processes-and-entities.html"><a href="understanding-ksl-processes-and-entities.html"><i class="fa fa-check"></i><b>6.3</b> Understanding KSL Processes and Entities</a></li>
<li class="chapter" data-level="6.4" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html"><i class="fa fa-check"></i><b>6.4</b> Examples of Process Modeling</a></li>
<li class="chapter" data-level="6.5" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html"><i class="fa fa-check"></i><b>6.5</b> Modeling a STEM Career Mixer</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html#conceptualizing-the-system"><i class="fa fa-check"></i><b>6.5.1</b> Conceptualizing the System</a></li>
<li class="chapter" data-level="6.5.2" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html#implementing-the-stem-mixer-model"><i class="fa fa-check"></i><b>6.5.2</b> Implementing the STEM Mixer Model</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="the-tie-dye-t-shirt-model.html"><a href="the-tie-dye-t-shirt-model.html"><i class="fa fa-check"></i><b>6.6</b> The Tie-Dye T-Shirt Model</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="the-tie-dye-t-shirt-model.html"><a href="the-tie-dye-t-shirt-model.html#ch4:TieDyeTShirtsSub1"><i class="fa fa-check"></i><b>6.6.1</b> Implementing the Tie-Dye T-Shirt Model</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="summary-2.html"><a href="summary-2.html"><i class="fa fa-check"></i><b>6.7</b> Summary</a></li>
<li class="chapter" data-level="6.8" data-path="exercises-5.html"><a href="exercises-5.html"><i class="fa fa-check"></i><b>6.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ch7AdvModeling.html"><a href="ch7AdvModeling.html"><i class="fa fa-check"></i><b>7</b> Advanced Event and Process View Modeling</a>
<ul>
<li class="chapter" data-level="7.1" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html"><i class="fa fa-check"></i><b>7.1</b> Modeling with Processes and Resources</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#modeling-space-with-resources"><i class="fa fa-check"></i><b>7.1.1</b> Modeling Space with Resources</a></li>
<li class="chapter" data-level="7.1.2" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#resource-pools"><i class="fa fa-check"></i><b>7.1.2</b> Resource Pools</a></li>
<li class="chapter" data-level="7.1.3" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#computer-test-and-repair-shop-example"><i class="fa fa-check"></i><b>7.1.3</b> Computer Test and Repair Shop Example</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html"><i class="fa fa-check"></i><b>7.2</b> Modeling Non-Stationary Systems</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#ch7secNSPP"><i class="fa fa-check"></i><b>7.2.1</b> Non-Stationary Arrival Processes</a></li>
<li class="chapter" data-level="7.2.2" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#modeling-resources-under-non-stationary-conditions"><i class="fa fa-check"></i><b>7.2.2</b> Modeling Resources Under Non-Stationary Conditions</a></li>
<li class="chapter" data-level="7.2.3" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#enhancing-the-stem-career-mixer-model"><i class="fa fa-check"></i><b>7.2.3</b> Enhancing the STEM Career Mixer Model</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html"><i class="fa fa-check"></i><b>7.3</b> Examples of Advanced Event Models</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html#ch6s1sb4sub3"><i class="fa fa-check"></i><b>7.3.1</b> Modeling Balking and Reneging</a></li>
<li class="chapter" data-level="7.3.2" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html#rqModel"><i class="fa fa-check"></i><b>7.3.2</b> Modeling a Reorder Point, Reorder Quantity Inventory Policy</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="summary-3.html"><a href="summary-3.html"><i class="fa fa-check"></i><b>7.4</b> Summary</a></li>
<li class="chapter" data-level="7.5" data-path="exercises-6.html"><a href="exercises-6.html"><i class="fa fa-check"></i><b>7.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ch9AdvMC.html"><a href="ch9AdvMC.html"><i class="fa fa-check"></i><b>8</b> Advanced Monte Carlo Methods</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ch9BootStrapping.html"><a href="ch9BootStrapping.html"><i class="fa fa-check"></i><b>8.1</b> Bootstrap Methods</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="ch9BootStrapping.html"><a href="ch9BootStrapping.html#bootstrapping-using-the-ksl"><i class="fa fa-check"></i><b>8.1.1</b> Bootstrapping Using the KSL</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="ch9VRTs.html"><a href="ch9VRTs.html"><i class="fa fa-check"></i><b>8.2</b> Variance Reduction Techniques</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="ch9VRTs.html"><a href="ch9VRTs.html#common-random-numbers-crn"><i class="fa fa-check"></i><b>8.2.1</b> Common Random Numbers (CRN)</a></li>
<li class="chapter" data-level="8.2.2" data-path="ch9VRTs.html"><a href="ch9VRTs.html#antithetic-variates-av"><i class="fa fa-check"></i><b>8.2.2</b> Antithetic Variates (AV)</a></li>
<li class="chapter" data-level="8.2.3" data-path="ch9VRTs.html"><a href="ch9VRTs.html#indirect-estimation"><i class="fa fa-check"></i><b>8.2.3</b> Indirect Estimation</a></li>
<li class="chapter" data-level="8.2.4" data-path="ch9VRTs.html"><a href="ch9VRTs.html#control-variates-cv"><i class="fa fa-check"></i><b>8.2.4</b> Control Variates (CV)</a></li>
<li class="chapter" data-level="8.2.5" data-path="ch9VRTs.html"><a href="ch9VRTs.html#stratified-and-post-stratified-sampling"><i class="fa fa-check"></i><b>8.2.5</b> Stratified and Post Stratified Sampling</a></li>
<li class="chapter" data-level="8.2.6" data-path="ch9VRTs.html"><a href="ch9VRTs.html#conditional-expectation-ce"><i class="fa fa-check"></i><b>8.2.6</b> Conditional Expectation (CE)</a></li>
<li class="chapter" data-level="8.2.7" data-path="ch9VRTs.html"><a href="ch9VRTs.html#importance-sampling-is"><i class="fa fa-check"></i><b>8.2.7</b> Importance Sampling (IS)</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html"><i class="fa fa-check"></i><b>8.3</b> Generating Multi-Variate and Correlated Random Variates</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#generating-from-a-bivariate-normal-distribution"><i class="fa fa-check"></i><b>8.3.1</b> Generating from a Bivariate Normal Distribution</a></li>
<li class="chapter" data-level="8.3.2" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#copulas-and-multi-variate-generation-methods"><i class="fa fa-check"></i><b>8.3.2</b> Copulas and Multi-variate Generation Methods</a></li>
<li class="chapter" data-level="8.3.3" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#autocorrelated-generation"><i class="fa fa-check"></i><b>8.3.3</b> Autocorrelated Generation</a></li>
<li class="chapter" data-level="8.3.4" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#ch9MCMC"><i class="fa fa-check"></i><b>8.3.4</b> Introduction to Markov Chain Monte Carlo Methods</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="summary-4.html"><a href="summary-4.html"><i class="fa fa-check"></i><b>8.4</b> Summary</a></li>
<li class="chapter" data-level="8.5" data-path="exercises-7.html"><a href="exercises-7.html"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appRNRV.html"><a href="appRNRV.html"><i class="fa fa-check"></i><b>A</b> Generating Pseudo-Random Numbers and Random Variates</a>
<ul>
<li class="chapter" data-level="A.1" data-path="appRNRVPRN.html"><a href="appRNRVPRN.html"><i class="fa fa-check"></i><b>A.1</b> Pseudo Random Numbers</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="appRNRVPRN.html"><a href="appRNRVPRN.html#appRNRVRNGs"><i class="fa fa-check"></i><b>A.1.1</b> Random Number Generators</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="appRNRVs.html"><a href="appRNRVs.html"><i class="fa fa-check"></i><b>A.2</b> Generating Random Variates from Distributions</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="appRNRVs.html"><a href="appRNRVs.html#inverse-transform-method"><i class="fa fa-check"></i><b>A.2.1</b> Inverse Transform Method</a></li>
<li class="chapter" data-level="A.2.2" data-path="appRNRVs.html"><a href="appRNRVs.html#convolution"><i class="fa fa-check"></i><b>A.2.2</b> Convolution</a></li>
<li class="chapter" data-level="A.2.3" data-path="appRNRVs.html"><a href="appRNRVs.html#acceptancerejection"><i class="fa fa-check"></i><b>A.2.3</b> Acceptance/Rejection</a></li>
<li class="chapter" data-level="A.2.4" data-path="appRNRVs.html"><a href="appRNRVs.html#AppRNRVsubsecMTSRV"><i class="fa fa-check"></i><b>A.2.4</b> Mixture Distributions, Truncated Distributions, and Shifted Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="summary-5.html"><a href="summary-5.html"><i class="fa fa-check"></i><b>A.3</b> Summary</a></li>
<li class="chapter" data-level="A.4" data-path="exercises-8.html"><a href="exercises-8.html"><i class="fa fa-check"></i><b>A.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appidm.html"><a href="appidm.html"><i class="fa fa-check"></i><b>B</b> Probability Distribution Modeling</a>
<ul>
<li class="chapter" data-level="B.1" data-path="appidmsecrvPD.html"><a href="appidmsecrvPD.html"><i class="fa fa-check"></i><b>B.1</b> Random Variables and Probability Distributions</a></li>
<li class="chapter" data-level="B.2" data-path="appidmsecMDD.html"><a href="appidmsecMDD.html"><i class="fa fa-check"></i><b>B.2</b> Modeling with Discrete Distributions</a></li>
<li class="chapter" data-level="B.3" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html"><i class="fa fa-check"></i><b>B.3</b> Fitting Discrete Distributions</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#AppDisFitPoissonFit"><i class="fa fa-check"></i><b>B.3.1</b> Fitting a Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.2" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#visualizing-the-data"><i class="fa fa-check"></i><b>B.3.2</b> Visualizing the Data</a></li>
<li class="chapter" data-level="B.3.3" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#estimating-the-rate-parameter-for-the-poisson-distribution"><i class="fa fa-check"></i><b>B.3.3</b> Estimating the Rate Parameter for the Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.4" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#chi-squared-goodness-of-fit-test-for-poisson-distribution"><i class="fa fa-check"></i><b>B.3.4</b> Chi-Squared Goodness of Fit Test for Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.5" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#subsubchisqGOF"><i class="fa fa-check"></i><b>B.3.5</b> Chi-Squared Goodness of Fit Test</a></li>
<li class="chapter" data-level="B.3.6" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#using-the-fitdistrplus-r-package-on-discrete-data"><i class="fa fa-check"></i><b>B.3.6</b> Using the fitdistrplus R Package on Discrete Data</a></li>
<li class="chapter" data-level="B.3.7" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#fitting-a-discrete-empirical-distribution"><i class="fa fa-check"></i><b>B.3.7</b> Fitting a Discrete Empirical Distribution</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="appidmsecMCD.html"><a href="appidmsecMCD.html"><i class="fa fa-check"></i><b>B.4</b> Modeling with Continuous Distributions</a></li>
<li class="chapter" data-level="B.5" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html"><i class="fa fa-check"></i><b>B.5</b> Fitting Continuous Distributions</a>
<ul>
<li class="chapter" data-level="B.5.1" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecvisualizedata"><i class="fa fa-check"></i><b>B.5.1</b> Visualizing the Data</a></li>
<li class="chapter" data-level="B.5.2" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecstatsdata"><i class="fa fa-check"></i><b>B.5.2</b> Statistically Summarize the Data</a></li>
<li class="chapter" data-level="B.5.3" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsechypothDist"><i class="fa fa-check"></i><b>B.5.3</b> Hypothesizing and Testing a Distribution</a></li>
<li class="chapter" data-level="B.5.4" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#kolmogorov-smirnov-test"><i class="fa fa-check"></i><b>B.5.4</b> Kolmogorov-Smirnov Test</a></li>
<li class="chapter" data-level="B.5.5" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecvisFit"><i class="fa fa-check"></i><b>B.5.5</b> Visualizing the Fit</a></li>
<li class="chapter" data-level="B.5.6" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidms2sb3"><i class="fa fa-check"></i><b>B.5.6</b> Using the Input Analyzer</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html"><i class="fa fa-check"></i><b>B.6</b> Testing Uniform (0,1) Pseudo-Random Numbers</a>
<ul>
<li class="chapter" data-level="B.6.1" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#chi-squared-goodness-of-fit-tests-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.1</b> Chi-Squared Goodness of Fit Tests for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="B.6.2" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#higher-dimensional-chi-squared-test"><i class="fa fa-check"></i><b>B.6.2</b> Higher Dimensional Chi-Squared Test</a></li>
<li class="chapter" data-level="B.6.3" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#kolmogorov-smirnov-test-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.3</b> Kolmogorov-Smirnov Test for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="B.6.4" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#testing-for-independence-and-patterns-in-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.4</b> Testing for Independence and Patterns in Pseudo-Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="B.7" data-path="appdistfitidms2sb4.html"><a href="appdistfitidms2sb4.html"><i class="fa fa-check"></i><b>B.7</b> Additional Distribution Modeling Concepts</a></li>
<li class="chapter" data-level="B.8" data-path="appidmSummary.html"><a href="appidmSummary.html"><i class="fa fa-check"></i><b>B.8</b> Summary</a></li>
<li class="chapter" data-level="B.9" data-path="exercises-9.html"><a href="exercises-9.html"><i class="fa fa-check"></i><b>B.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="appqtAndInvT.html"><a href="appqtAndInvT.html"><i class="fa fa-check"></i><b>C</b> Queueing Theory</a>
<ul>
<li class="chapter" data-level="C.1" data-path="appqts1.html"><a href="appqts1.html"><i class="fa fa-check"></i><b>C.1</b> Single Line Queueing Stations</a>
<ul>
<li class="chapter" data-level="C.1.1" data-path="appqts1.html"><a href="appqts1.html#queueing-notation"><i class="fa fa-check"></i><b>C.1.1</b> Queueing Notation</a></li>
<li class="chapter" data-level="C.1.2" data-path="appqts1.html"><a href="appqts1.html#littles-formula"><i class="fa fa-check"></i><b>C.1.2</b> Little’s Formula</a></li>
<li class="chapter" data-level="C.1.3" data-path="appqts1.html"><a href="appqts1.html#appqts1sb1"><i class="fa fa-check"></i><b>C.1.3</b> Deriving Formulas for Markovian Single Queue Systems</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="appqts1sb2.html"><a href="appqts1sb2.html"><i class="fa fa-check"></i><b>C.2</b> Examples and Applications of Queueing Analysis</a>
<ul>
<li class="chapter" data-level="C.2.1" data-path="appqts1sb2.html"><a href="appqts1sb2.html#infinite-queue-examples"><i class="fa fa-check"></i><b>C.2.1</b> Infinite Queue Examples</a></li>
<li class="chapter" data-level="C.2.2" data-path="appqts1sb2.html"><a href="appqts1sb2.html#finite-queue-examples"><i class="fa fa-check"></i><b>C.2.2</b> Finite Queue Examples</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="appqts1sb3.html"><a href="appqts1sb3.html"><i class="fa fa-check"></i><b>C.3</b> Non-Markovian Queues and Approximations</a></li>
<li class="chapter" data-level="C.4" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html"><i class="fa fa-check"></i><b>C.4</b> Summary of Queueing Formulas</a>
<ul>
<li class="chapter" data-level="C.4.1" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1-queue"><i class="fa fa-check"></i><b>C.4.1</b> M/M/1 Queue</a></li>
<li class="chapter" data-level="C.4.2" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmc-queue"><i class="fa fa-check"></i><b>C.4.2</b> M/M/c Queue</a></li>
<li class="chapter" data-level="C.4.3" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmck-queue"><i class="fa fa-check"></i><b>C.4.3</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="C.4.4" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mgcc-queue"><i class="fa fa-check"></i><b>C.4.4</b> M/G/c/c Queue</a></li>
<li class="chapter" data-level="C.4.5" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1k-queue"><i class="fa fa-check"></i><b>C.4.5</b> M/M/1/k Queue</a></li>
<li class="chapter" data-level="C.4.6" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmck-queue-1"><i class="fa fa-check"></i><b>C.4.6</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="C.4.7" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1kk-queue"><i class="fa fa-check"></i><b>C.4.7</b> M/M/1/k/k Queue</a></li>
<li class="chapter" data-level="C.4.8" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmckk-queue"><i class="fa fa-check"></i><b>C.4.8</b> M/M/c/k/k Queue</a></li>
</ul></li>
<li class="chapter" data-level="C.5" data-path="exercises-10.html"><a href="exercises-10.html"><i class="fa fa-check"></i><b>C.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="appUtilities.html"><a href="appUtilities.html"><i class="fa fa-check"></i><b>D</b> KSL Utility Packages</a>
<ul>
<li class="chapter" data-level="D.1" data-path="the-outputdirectory-class-and-ksl-object.html"><a href="the-outputdirectory-class-and-ksl-object.html"><i class="fa fa-check"></i><b>D.1</b> The <code>OutputDirectory</code> Class and <code>KSL</code> Object</a></li>
<li class="chapter" data-level="D.2" data-path="logging-options.html"><a href="logging-options.html"><i class="fa fa-check"></i><b>D.2</b> Logging Options</a></li>
<li class="chapter" data-level="D.3" data-path="the-kslfileutil-object.html"><a href="the-kslfileutil-object.html"><i class="fa fa-check"></i><b>D.3</b> The <code>KSLFileUtil</code> Object</a></li>
<li class="chapter" data-level="D.4" data-path="appDCSVEtc.html"><a href="appDCSVEtc.html"><i class="fa fa-check"></i><b>D.4</b> CSV, Excel, and Tabular Data Files</a></li>
<li class="chapter" data-level="D.5" data-path="dfUtil.html"><a href="dfUtil.html"><i class="fa fa-check"></i><b>D.5</b> The <code>DataFrameUtil</code> Object</a></li>
<li class="chapter" data-level="D.6" data-path="ksl-database-utilities.html"><a href="ksl-database-utilities.html"><i class="fa fa-check"></i><b>D.6</b> KSL Database Utilities</a></li>
<li class="chapter" data-level="D.7" data-path="appUtilitiesArrays.html"><a href="appUtilitiesArrays.html"><i class="fa fa-check"></i><b>D.7</b> Array Utilities</a></li>
<li class="chapter" data-level="D.8" data-path="appPlotting.html"><a href="appPlotting.html"><i class="fa fa-check"></i><b>D.8</b> KSL Plotting Utilities</a></li>
<li class="chapter" data-level="D.9" data-path="appExpDesign.html"><a href="appExpDesign.html"><i class="fa fa-check"></i><b>D.9</b> Experimental Design Utilities</a></li>
<li class="chapter" data-level="D.10" data-path="appUtilitiesMisc.html"><a href="appUtilitiesMisc.html"><i class="fa fa-check"></i><b>D.10</b> Miscellaneous Utilities</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>E</b> Distributions</a>
<ul>
<li class="chapter" data-level="E.1" data-path="appDiscreteDistributions.html"><a href="appDiscreteDistributions.html"><i class="fa fa-check"></i><b>E.1</b> Discrete Distrbutions</a></li>
<li class="chapter" data-level="E.2" data-path="appContinuousDistributions.html"><a href="appContinuousDistributions.html"><i class="fa fa-check"></i><b>E.2</b> Continuous Distrbutions</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="appStatTables.html"><a href="appStatTables.html"><i class="fa fa-check"></i><b>F</b> Statistical Tables</a></li>
<li class="chapter" data-level="G" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>G</b> References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Simulation Modeling using the Kotlin Simulation Library (KSL)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rvg" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Random Variate Generation<a href="rvg.html#rvg" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section will overview how to generate random variates using the KSL. A random variate is an observation of a random variable from some probability distribution. Appendix <a href="appRNRV.html#appRNRV">A</a> describes four basic methods for generating random variates:</p>
<ul>
<li>inverse transform</li>
<li>convolution</li>
<li>acceptance/rejection</li>
<li>mixture distributions</li>
</ul>
<p>The KSL provides classes that facilitate these methods (and others).</p>
<div id="basic-random-variate-generation" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Basic Random Variate Generation<a href="rvg.html#basic-random-variate-generation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this section, we provide a couple of examples of generating random variates from “first principles”. The examples follow closely those presented in Appendix <a href="appRNRV.html#appRNRV">A</a>.</p>
<div class="example">
<p><span id="exm:ch2ex7" class="example"><strong>Example 2.7  (Generating Exponential Random Variates) </strong></span>Consider a random variable, <span class="math inline">\(X\)</span>, that represents the time until failure for a machine tool. Suppose <span class="math inline">\(X\)</span> is exponentially distributed with an expected value of <span class="math inline">\(1.\overline{33}\)</span>. Generate a random variate for the time until the first failure using a uniformly distributed value of <span class="math inline">\(u = 0.7\)</span>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb13-1"><a href="rvg.html#cb13-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb13-2"><a href="rvg.html#cb13-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">u</span> <span class="op">=</span> <span class="fl">0.7</span></span>
<span id="cb13-3"><a href="rvg.html#cb13-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">mean</span> <span class="op">=</span> <span class="fl">1.333333</span></span>
<span id="cb13-4"><a href="rvg.html#cb13-4" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> rExpo<span class="op">(</span>mean<span class="op">,</span> u<span class="op">)</span></span>
<span id="cb13-5"><a href="rvg.html#cb13-5" tabindex="-1"></a>    println<span class="op">(</span><span class="st">&quot;Generated X = </span><span class="ss">$x</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb13-6"><a href="rvg.html#cb13-6" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb13-7"><a href="rvg.html#cb13-7" tabindex="-1"></a></span>
<span id="cb13-8"><a href="rvg.html#cb13-8" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">rExpo</span><span class="op">(</span><span class="va">mean</span><span class="op">:</span> <span class="dt">Double</span><span class="op">,</span> <span class="va">u</span><span class="op">:</span> <span class="dt">Double</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Double</span> <span class="op">{</span></span>
<span id="cb13-9"><a href="rvg.html#cb13-9" tabindex="-1"></a>    <span class="kw">return</span> <span class="op">-</span>mean<span class="op">*</span>ln<span class="op">(</span><span class="fl">1.0</span> <span class="op">-</span> u<span class="op">)</span></span>
<span id="cb13-10"><a href="rvg.html#cb13-10" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>The function <code>rExpo</code> implements the inverse CDF function for the exponential distribution for any mean and any value of <span class="math inline">\(u\)</span>. By calling the function with the appropriate parameters, we can easily generate exponential random variates. Just as in Example <a href="appRNRVs.html#exm:ExpInvCDF">A.2</a> of Appendix <a href="appRNRV.html#appRNRV">A</a> the result is 1.6053. In this example, the value of <span class="math inline">\(u\)</span> was given; however, it could have easily been generated using a <code>RNStream</code> and the <code>randU01()</code> function.</p>
<p>This next example illustrates how to generate negative binomial random variates via convolution.</p>
<div class="example">
<p><span id="exm:ch2ex8" class="example"><strong>Example 2.8  (Negative Binomial Variates Via Convolution) </strong></span>Use the following pseudo-random numbers <span class="math inline">\(u_{1} = 0.35\)</span>, <span class="math inline">\(u_{2} = 0.64\)</span>,
<span class="math inline">\(u_{3} = 0.14\)</span>, generate a random variate from a shifted negative binomial distribution
having parameters <span class="math inline">\(r=3\)</span> and <span class="math inline">\(p= 0.3\)</span>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb14-1"><a href="rvg.html#cb14-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb14-2"><a href="rvg.html#cb14-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">u1</span> <span class="op">=</span> <span class="fl">0.35</span></span>
<span id="cb14-3"><a href="rvg.html#cb14-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">u2</span> <span class="op">=</span> <span class="fl">0.64</span></span>
<span id="cb14-4"><a href="rvg.html#cb14-4" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">u3</span> <span class="op">=</span> <span class="fl">0.14</span></span>
<span id="cb14-5"><a href="rvg.html#cb14-5" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">p</span> <span class="op">=</span> <span class="fl">0.3</span></span>
<span id="cb14-6"><a href="rvg.html#cb14-6" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">x1</span> <span class="op">=</span> rGeom<span class="op">(</span>p<span class="op">,</span> u1<span class="op">)</span></span>
<span id="cb14-7"><a href="rvg.html#cb14-7" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">x2</span> <span class="op">=</span> rGeom<span class="op">(</span>p<span class="op">,</span> u2<span class="op">)</span></span>
<span id="cb14-8"><a href="rvg.html#cb14-8" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">x3</span> <span class="op">=</span> rGeom<span class="op">(</span>p<span class="op">,</span> u3<span class="op">)</span></span>
<span id="cb14-9"><a href="rvg.html#cb14-9" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> x1 <span class="op">+</span> x2 <span class="op">+</span> x3</span>
<span id="cb14-10"><a href="rvg.html#cb14-10" tabindex="-1"></a>    println<span class="op">(</span><span class="st">&quot;Generated X = </span><span class="ss">$x</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb14-11"><a href="rvg.html#cb14-11" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb14-12"><a href="rvg.html#cb14-12" tabindex="-1"></a></span>
<span id="cb14-13"><a href="rvg.html#cb14-13" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">rGeom</span><span class="op">(</span><span class="va">p</span><span class="op">:</span> <span class="dt">Double</span><span class="op">,</span> <span class="va">u</span><span class="op">:</span> <span class="dt">Double</span><span class="op">):</span> <span class="dt">Double</span> <span class="op">{</span></span>
<span id="cb14-14"><a href="rvg.html#cb14-14" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">n</span> <span class="op">=</span> ln<span class="op">(</span><span class="fl">1.0</span> <span class="op">-</span> u<span class="op">)</span></span>
<span id="cb14-15"><a href="rvg.html#cb14-15" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">d</span> <span class="op">=</span> ln<span class="op">(</span><span class="fl">1.0</span> <span class="op">-</span> p<span class="op">)</span></span>
<span id="cb14-16"><a href="rvg.html#cb14-16" tabindex="-1"></a>    <span class="kw">return</span> <span class="fl">1.0</span> <span class="op">+</span> floor<span class="op">(</span>n <span class="op">/</span> d<span class="op">)</span></span>
<span id="cb14-17"><a href="rvg.html#cb14-17" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>Recall from Appendix <a href="appRNRV.html#appRNRV">A</a> that we refer to the geometric distribution as the shifted
geometric distribution, when <span class="math inline">\(X_{i}\sim Shifted\ Geometric(p)\)</span> with range <span class="math inline">\(\{1, 2, 3, \dots\}\)</span>, and
<span class="math inline">\(X_{i}\)</span> can be generated via inverse transform with:</p>
<p><span class="math display">\[X_{i} = 1 + \left\lfloor \frac{ln(1 - U_{i})}{ln(1 - p)} \right\rfloor\]</span>
Note also that the shifted negative binomial distribution is just the sum of shifted geometric random variables. The code implements a function to generate a shifted geometric random variate. Because we need a shifted negative binomial with <span class="math inline">\(r=3\)</span> and <span class="math inline">\(p=0.3\)</span>, the function is used three times to generate three shifted geometric random variates with <span class="math inline">\(p=0.3\)</span>. The observed values are summed to generate the shifted negative binomial. Just as in Example <a href="appRNRVs.html#exm:GenNB">A.6</a> of Appendix <a href="appRNRV.html#appRNRV">A</a> the result is 6.0.</p>
<p>As we will see in the next section, the concepts of Appendix <a href="appRNRV.html#appRNRV">A</a> have been generalized and implemented within the <code>ksl.utilities.random</code> package for various common random variables.</p>
</div>
<div id="rvg_dists" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Continuous and Discrete Random Variables<a href="rvg.html#rvg_dists" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The KSL has the capability to generate random variates from both
discrete and continuous distributions. The <code>ksl.utilities.random.rvariable</code> package supports this functionality. The package has a set of interfaces
that define the behavior associated with random variables. Concrete
sub-classes of specific random variables are created by sub-classing
<code>RVariable.</code> As shown in Figure <a href="rvg.html#fig:RVariableIfc">2.3</a>, every random variable has
access to an object that implements the <code>RNStreamIfc</code> interface. This
gives it the ability to generate pseudo-random numbers and to control
the streams. The <code>GetValueIfc</code> interface is the key interface because in
this context it returns a random value from the random variable. For
example, if <code>d</code> is a reference to an instance of a sub-class of type
<code>RVariable</code>, then <code>d.value</code> generates a random value.</p>
<div class="figure"><span style="display:block;" id="fig:RVariableIfc"></span>
<img src="figures/RVariableIfc.png" alt="Random Variable Interfaces"  />
<p class="caption">
Figure 2.3: Random Variable Interfaces
</p>
</div>
<p>The names and parameters (based on common naming conventions) associated with the continuous random variables are as follows:</p>
<ul>
<li><code>BetaRV(alpha1, alpha2)</code></li>
<li><code>ChiSquaredRV(degreesOfFreedom)</code></li>
<li><code>ExponentialRV(mean)</code></li>
<li><code>GammaRV(shape, scale)</code></li>
<li><code>GeneralizedBetaRV(alpha1, alpha2, min, max)</code></li>
<li><code>JohnsonBRV(alpha1, alpha2, min, max)</code></li>
<li><code>LaplaceRV(mean scale)</code></li>
<li><code>LogLogisticRV(shape, scale)</code></li>
<li><code>LognormalRV(mean, variance)</code></li>
<li><code>NormalRV(mean, variance)</code></li>
<li><code>PearsonType5RV(shape, scale)</code></li>
<li><code>PearsonType6RV(alpha1, alpha2, beta)</code></li>
<li><code>StudentTRV(degreesOfFreedom)</code></li>
<li><code>TriangularRV(min, mode, max)</code></li>
<li><code>UniformRV(min, max)</code></li>
<li><code>WeibullRV(shape, scale)</code></li>
</ul>
<p>The names of the discrete random variables are as follows:</p>
<ul>
<li><code>BernoulliRV(probOfSuccess)</code></li>
<li><code>BinomialRV(pSucces, numTrials)</code></li>
<li><code>ConstantRV(constVal)</code> a degenerate probability mass on a single value that cannot be changed</li>
<li><code>DEmpiricalRV(values, cdf)</code> values is an array of numbers and cdf is an array representing the cumulative distribution function over the values</li>
<li><code>DUniformRV(min, max)</code></li>
<li><code>GeometricRV(probOfSucces)</code> with range is 0 to infinity</li>
<li><code>NegativeBinomialRV(probOfSuccess, numSuccess)</code> with range is 0 to infinity. The number of failures before the <span class="math inline">\(r^{th}\)</span> success.</li>
<li><code>PoissonRV(mean)</code></li>
<li><code>ShiftedGeometricRV(probOfSucces)</code> range is 1 to infinity</li>
<li><code>VConstantRV(constVal)</code> a degenerate probability mass on a single value that can be changed</li>
</ul>
<p>All classes that represent random variables also have optional parameters to provide a stream and a name. If the stream is not provided, then the next stream from the default provider is allocated to the new instance of the random variable. Thus, all random variables are automatically constructed such that they use different underlying streams, unless the programming specifically assigns streams.</p>
<p>As you can see, the name of the distribution followed by the letters RV designate the class names. Implementations of these classes extend the <code>RVarable</code> class, which implements the <code>RVariableIfc</code> interface. Users simply create and instance of the class and then use it to get a sequence of values that have the named probability distribution. In order to implement a new random variable (i.e. some random variable
that is not already implemented) you can extend the class
<code>RVariable.</code> This provides a basic template for what is expected
in the implementation. However, it implies that you need to implement
all of the required interfaces. The key method to implement is the
protected <code>generate()</code> method, which should return the generated random
value according to some algorithm.</p>
<p>In almost all cases, the KSL utilizes the inverse transform algorithm for generating random variates. Thus, there is a one to one mapping of the underlying pseudo-random number and the resulting random variate. Even in the case of distributions that do not have closed form inverse cumulative distribution functions, the KSL utilizes numerical methods to approximate the function whenever feasible. For example, the KSL uses a rational function approximation, see <span class="citation">(<a href="#ref-cody1969">Cody 1969</a>)</span>, to
implement the inverse cumulative distribution function for the standard
normal distribution. The inversion for the gamma distribution is based
on Algorithm AS 91 for inverting the chi-squared distribution and
exploiting its relationship with the gamma. The beta distribution also
uses numerical methods to compute the cumulative distribution function
as well as bi-section search to determine the inverse for cumulative
distribution function.</p>
<p>The KSL implements the <code>BernoulliRV,</code> <code>DUniformRV,</code> <code>GeometricRV,</code>
<code>NegativeBinomialRV,</code> and <code>ShiftedGeometricRV</code> classes using the methods
described in Chapter 2 of <span class="citation">Rossetti (<a href="#ref-Rossetti2015">2015</a>)</span>. While more efficient methods may be available, the
<code>PoissonRV</code> and <code>BinomialRV</code> distributions are implemented by searching the
probability mass functions. Both search methods use an approximation to
get close to the value of the inverse and then search up or down through
the cumulative distribution function. Because of this both distributions
use numerically stable methods to compute the cumulative distribution
function values. The <code>DEmpiricalRV</code> class also searches through the
cumulative distribution function.</p>
<p>The following sections will overview the generation algorithms and provide examples for using some of these distributions.</p>
</div>
<div id="rvguse" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Creating and Using Random Variables<a href="rvg.html#rvguse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This section presents how to create and use random variables via KSL constructs. The basic approach is to create an instance of a specific type of random variable and use the instance to generate observations.</p>
<div class="example">
<p><span id="exm:ch2ex9" class="example"><strong>Example 2.9  (Generating Normal Random Variates) </strong></span>The following example code illustrates how to create a normal random variable and how to generate values using the <code>value</code> property.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb15-1"><a href="rvg.html#cb15-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb15-2"><a href="rvg.html#cb15-2" tabindex="-1"></a>    <span class="co">// create a normal mean = 20.0, variance = 4.0 random variable</span></span>
<span id="cb15-3"><a href="rvg.html#cb15-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">n</span> <span class="op">=</span> NormalRV<span class="op">(</span><span class="fl">20.0</span><span class="op">,</span> <span class="fl">4.0</span><span class="op">)</span></span>
<span id="cb15-4"><a href="rvg.html#cb15-4" tabindex="-1"></a>    print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3s %15s %n&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;Values&quot;</span><span class="op">))</span></span>
<span id="cb15-5"><a href="rvg.html#cb15-5" tabindex="-1"></a>    <span class="co">// generate some values</span></span>
<span id="cb15-6"><a href="rvg.html#cb15-6" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb15-7"><a href="rvg.html#cb15-7" tabindex="-1"></a>        <span class="co">// the value property returns a generated value</span></span>
<span id="cb15-8"><a href="rvg.html#cb15-8" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> n<span class="op">.</span>value</span>
<span id="cb15-9"><a href="rvg.html#cb15-9" tabindex="-1"></a>        print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3d %15f %n&quot;</span><span class="op">,</span> i<span class="op">,</span> x<span class="op">))</span></span>
<span id="cb15-10"><a href="rvg.html#cb15-10" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb15-11"><a href="rvg.html#cb15-11" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>The resulting output is what you would expect.</p>
<pre><code>  n          Values 
  1       21.216624 
  2       23.639128 
  3       25.335884 
  4       17.599163 
  5       23.858350 </code></pre>
<p>Alternatively, the user can use the <code>sample()</code> method to generate an array of values that can be later processed. The <code>SampleIfc</code> interface has the following useful functions:</p>
<ul>
<li><code>sample()</code> returns a new value</li>
<li><code>sample(sampleSize: Int)</code> returns an array of values</li>
<li><code>sampleInto(values: DoubleArray)</code> fills an array with values</li>
<li><code>sampleAsRows(sampleSize: Int, nRows: Int = 1)</code> makes a 2-D array with samples in the rows</li>
<li><code>sampleAsColumns(sampleSize: Int, nRows: Int = 1)</code> makes a 2-D array with samples in the columns</li>
<li><code>sampleInto(matrix: Array&lt;DoubleArray&gt;)</code> fills a 2-D array with samples</li>
</ul>
<p>The following code illustrates how to use the <code>sample()</code> function with a triangular distribution.</p>
<div class="example">
<p><span id="exm:ch2ex10" class="example"><strong>Example 2.10  (Using the sample() function) </strong></span>The following example code illustrates how to create a triangular random variable and how to generate values using the <code>sample()</code> function.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb17-1"><a href="rvg.html#cb17-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb17-2"><a href="rvg.html#cb17-2" tabindex="-1"></a>    <span class="co">// create a triangular random variable with min = 2.0, mode = 5.0, max = 10.0</span></span>
<span id="cb17-3"><a href="rvg.html#cb17-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">t</span> <span class="op">=</span> TriangularRV<span class="op">(</span><span class="fl">2.0</span><span class="op">,</span> <span class="fl">5.0</span><span class="op">,</span> <span class="fl">10.0</span><span class="op">)</span></span>
<span id="cb17-4"><a href="rvg.html#cb17-4" tabindex="-1"></a>    <span class="co">// sample 5 values</span></span>
<span id="cb17-5"><a href="rvg.html#cb17-5" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">sample</span> <span class="op">=</span> t<span class="op">.</span>sample<span class="op">(</span><span class="dv">5</span><span class="op">)</span></span>
<span id="cb17-6"><a href="rvg.html#cb17-6" tabindex="-1"></a>    print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3s %15s %n&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;Values&quot;</span><span class="op">))</span></span>
<span id="cb17-7"><a href="rvg.html#cb17-7" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> sample<span class="op">.</span>indices<span class="op">)</span> <span class="op">{</span></span>
<span id="cb17-8"><a href="rvg.html#cb17-8" tabindex="-1"></a>        print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3d %15f %n&quot;</span><span class="op">,</span> i <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> sample<span class="op">[</span>i<span class="op">]))</span></span>
<span id="cb17-9"><a href="rvg.html#cb17-9" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb17-10"><a href="rvg.html#cb17-10" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>Again, the output is what we would expect.</p>
<pre><code>  n          Values 
  1        6.704608 
  2        8.826753 
  3        9.609315 
  4        3.661241 
  5        8.963572</code></pre>
<div class="infobox note">
<p><strong>NOTE!</strong>
The <code>SampleIfc</code> interface provides functionality to generate arrays of observations. The KSL provides extensive functionality for working with arrays within its utilities. This functionality is briefly discussed in Section <a href="appUtilitiesArrays.html#appUtilitiesArrays">D.7</a> of Appendix <a href="appUtilities.html#appUtilities">D</a>.</p>
</div>
<p>It is important to note that the full range of functionality related to stream control is also available for random variables. That is, the underlying stream can be reset to its start, can be advanced to the next substream, can generate antithetic variates, etc. Each new instance of a random variable is supplied with its own <em>unique</em> stream that is not shared with another other random variable instances. Since the underlying random number generator has an enormous number of streams, approximately <span class="math inline">\(1.8 \times 10^{19}\)</span>, it is very unlikely that the user will not create so many streams as to start reusing them. However, the streams that are used by random variable instances can be supplied directly so that they may be shared.</p>
<div class="example">
<p><span id="exm:ch2ex11" class="example"><strong>Example 2.11  (Specifying a Stream) </strong></span>The following code example illustrates how to assign a specific stream by passing a specific stream instance into the constructor of the random variable.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb19-1"><a href="rvg.html#cb19-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb19-2"><a href="rvg.html#cb19-2" tabindex="-1"></a>    <span class="co">// get stream 3</span></span>
<span id="cb19-3"><a href="rvg.html#cb19-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">stream</span> <span class="op">=</span> KSLRandom<span class="op">.</span>rnStream<span class="op">(</span><span class="dv">3</span><span class="op">)</span></span>
<span id="cb19-4"><a href="rvg.html#cb19-4" tabindex="-1"></a>    <span class="co">// create a normal mean = 20.0, variance = 4.0, with the stream</span></span>
<span id="cb19-5"><a href="rvg.html#cb19-5" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">n</span> <span class="op">=</span> NormalRV<span class="op">(</span><span class="fl">20.0</span><span class="op">,</span> <span class="fl">4.0</span><span class="op">,</span> stream<span class="op">)</span></span>
<span id="cb19-6"><a href="rvg.html#cb19-6" tabindex="-1"></a>    print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3s %15s %n&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;Values&quot;</span><span class="op">))</span></span>
<span id="cb19-7"><a href="rvg.html#cb19-7" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb19-8"><a href="rvg.html#cb19-8" tabindex="-1"></a>        <span class="co">// value property returns generated values</span></span>
<span id="cb19-9"><a href="rvg.html#cb19-9" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> n<span class="op">.</span>value</span>
<span id="cb19-10"><a href="rvg.html#cb19-10" tabindex="-1"></a>        print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3d %15f %n&quot;</span><span class="op">,</span> i<span class="op">,</span> x<span class="op">))</span></span>
<span id="cb19-11"><a href="rvg.html#cb19-11" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb19-12"><a href="rvg.html#cb19-12" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>The previous example used <code>KSLRandom</code> to get stream 3 and then provided the stream when constructing the instance of the normal random variable. This process can be simplified by directly providing the stream number to the constructor of the random variable.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb20-1"><a href="rvg.html#cb20-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb20-2"><a href="rvg.html#cb20-2" tabindex="-1"></a>    <span class="co">// create a normal mean = 20.0, variance = 4.0, with the stream 3</span></span>
<span id="cb20-3"><a href="rvg.html#cb20-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">n</span> <span class="op">=</span> NormalRV<span class="op">(</span><span class="fl">20.0</span><span class="op">,</span> <span class="fl">4.0</span><span class="op">,</span> <span class="dv">3</span><span class="op">)</span></span>
<span id="cb20-4"><a href="rvg.html#cb20-4" tabindex="-1"></a>    print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3s %15s %n&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;Values&quot;</span><span class="op">))</span></span>
<span id="cb20-5"><a href="rvg.html#cb20-5" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb20-6"><a href="rvg.html#cb20-6" tabindex="-1"></a>        <span class="co">// value property returns generated values</span></span>
<span id="cb20-7"><a href="rvg.html#cb20-7" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> n<span class="op">.</span>value</span>
<span id="cb20-8"><a href="rvg.html#cb20-8" tabindex="-1"></a>        print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3d %15f %n&quot;</span><span class="op">,</span> i<span class="op">,</span> x<span class="op">))</span></span>
<span id="cb20-9"><a href="rvg.html#cb20-9" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb20-10"><a href="rvg.html#cb20-10" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>A discrete empirical random variable requires the specification of the values and their probabilities.
This requires a little more setup. The user must supply the set of values that can be generated as well as an array holding the cumulative distribution probability across the values. The following code illustrates how to do this.</p>
<div class="example">
<p><span id="exm:ch2ex12" class="example"><strong>Example 2.12  (Using a DEmpirical Random Variable) </strong></span>The values are provided via an array and the probabilities must be specified in the form of the cumulative probabilities, such that the last element is 1.0.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb21-1"><a href="rvg.html#cb21-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb21-2"><a href="rvg.html#cb21-2" tabindex="-1"></a>    <span class="co">// values is the set of possible values</span></span>
<span id="cb21-3"><a href="rvg.html#cb21-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">values</span> <span class="op">=</span> doubleArrayOf<span class="op">(</span><span class="fl">1.0</span><span class="op">,</span> <span class="fl">2.0</span><span class="op">,</span> <span class="fl">3.0</span><span class="op">,</span> <span class="fl">4.0</span><span class="op">)</span></span>
<span id="cb21-4"><a href="rvg.html#cb21-4" tabindex="-1"></a>    <span class="co">// cdf is the cumulative distribution function over the values</span></span>
<span id="cb21-5"><a href="rvg.html#cb21-5" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">cdf</span> <span class="op">=</span> doubleArrayOf<span class="op">(</span><span class="fl">1.0</span> <span class="op">/</span> <span class="fl">6.0</span><span class="op">,</span> <span class="fl">3.0</span> <span class="op">/</span> <span class="fl">6.0</span><span class="op">,</span> <span class="fl">5.0</span> <span class="op">/</span> <span class="fl">6.0</span><span class="op">,</span> <span class="fl">1.0</span><span class="op">)</span></span>
<span id="cb21-6"><a href="rvg.html#cb21-6" tabindex="-1"></a>    <span class="co">//create a discrete empirical random variable</span></span>
<span id="cb21-7"><a href="rvg.html#cb21-7" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">n1</span> <span class="op">=</span> DEmpiricalRV<span class="op">(</span>values<span class="op">,</span> cdf<span class="op">)</span></span>
<span id="cb21-8"><a href="rvg.html#cb21-8" tabindex="-1"></a>    println<span class="op">(</span>n1<span class="op">)</span></span>
<span id="cb21-9"><a href="rvg.html#cb21-9" tabindex="-1"></a>    print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3s %15s %n&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;Values&quot;</span><span class="op">))</span></span>
<span id="cb21-10"><a href="rvg.html#cb21-10" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-11"><a href="rvg.html#cb21-11" tabindex="-1"></a>        print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3d %15f %n&quot;</span><span class="op">,</span> i<span class="op">,</span> n1<span class="op">.</span>value<span class="op">))</span></span>
<span id="cb21-12"><a href="rvg.html#cb21-12" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-13"><a href="rvg.html#cb21-13" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>The results are as follows:</p>
<pre><code>DEmpiricalRV(values=[1.0, 2.0, 3.0, 4.0], cdf=[0.16666666666666666, 0.5, 0.8333333333333334, 1.0])
  n          Values 
  1        3.000000 
  2        4.000000 
  3        4.000000 
  4        1.000000 
  5        4.000000</code></pre>
<p>Section <a href="appRNRVs.html#AppRNRVsubsecMTSRV">A.2.4</a> of Appendix <a href="appRNRV.html#appRNRV">A</a> defines mixture and truncated distributions. The following provides examples of how to create and use random variables from these distributions. The examples follow those presented in Section <a href="appRNRVs.html#AppRNRVsubsecMTSRV">A.2.4</a>.</p>
<div class="example">
<p><span id="exm:ch2ex13" class="example"><strong>Example 2.13  (Mixture Distribution) </strong></span>Suppose the time that it takes to pay with a credit card, <span class="math inline">\(X_{1}\)</span>, is exponentially
distributed with a mean of <span class="math inline">\(1.5\)</span> minutes and the time that it takes to
pay with cash, <span class="math inline">\(X_{2}\)</span>, is exponentially distributed with a mean of
<span class="math inline">\(1.1\)</span> minutes. In addition, suppose that the chance that a person pays
with credit is 70%. Then, the overall distribution representing the
payment service time, <span class="math inline">\(X\)</span>, has an hyper-exponential distribution with
parameters <span class="math inline">\(\omega_{1} = 0.7\)</span>, <span class="math inline">\(\omega_{2} = 0.3\)</span>,
<span class="math inline">\(\lambda_{1} = 1/1.5\)</span>, and <span class="math inline">\(\lambda_{2} = 1/1.1\)</span>. Generate 5 random variates from this distribution.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb23-1"><a href="rvg.html#cb23-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb23-2"><a href="rvg.html#cb23-2" tabindex="-1"></a>    <span class="co">// rvs is the list of random variables for the mixture</span></span>
<span id="cb23-3"><a href="rvg.html#cb23-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">rvs</span> <span class="op">=</span> listOf<span class="op">(</span>ExponentialRV<span class="op">(</span><span class="fl">1.5</span><span class="op">),</span> ExponentialRV<span class="op">(</span><span class="fl">1.1</span><span class="op">))</span></span>
<span id="cb23-4"><a href="rvg.html#cb23-4" tabindex="-1"></a>    <span class="co">// cdf is the cumulative distribution function over the random variables</span></span>
<span id="cb23-5"><a href="rvg.html#cb23-5" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">cdf</span> <span class="op">=</span> doubleArrayOf<span class="op">(</span><span class="fl">0.7</span><span class="op">,</span> <span class="fl">1.0</span><span class="op">)</span></span>
<span id="cb23-6"><a href="rvg.html#cb23-6" tabindex="-1"></a>    <span class="co">//create a mixture random variable</span></span>
<span id="cb23-7"><a href="rvg.html#cb23-7" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">he</span> <span class="op">=</span> MixtureRV<span class="op">(</span>rvs<span class="op">,</span> cdf<span class="op">)</span></span>
<span id="cb23-8"><a href="rvg.html#cb23-8" tabindex="-1"></a>    print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3s %15s %n&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;Values&quot;</span><span class="op">))</span></span>
<span id="cb23-9"><a href="rvg.html#cb23-9" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb23-10"><a href="rvg.html#cb23-10" tabindex="-1"></a>        print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3d %15f %n&quot;</span><span class="op">,</span> i<span class="op">,</span> he<span class="op">.</span>value<span class="op">))</span></span>
<span id="cb23-11"><a href="rvg.html#cb23-11" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb23-12"><a href="rvg.html#cb23-12" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<pre><code>  n          Values 
  1        0.110657 
  2        1.955744 
  3        1.196017 
  4        5.053994 
  5        8.352880 </code></pre>
</div>
<p>The <code>MixtureRV</code> class requires a list of random variables and a specification of the probability associated with each random variable in the form of a cumulative distribution function. In the provided code sample, a list is created holding the two exponential random variables. Since the distribution associated with the credit card payment is first in the list, the probability of 0.7 is specified first in the <code>cdf</code> array.</p>
<p>The next example illustrates how to generate from a truncated distribution. A <em>truncated distribution</em> is a distribution derived from another distribution for which the range of the random variable is restricted.
Suppose we have a random variable, <span class="math inline">\(X\)</span> with PDF, <span class="math inline">\(f(x)\)</span> and CDF <span class="math inline">\(F(x)\)</span>. Suppose that we
want to constrain <span class="math inline">\(f(x)\)</span> over interval <span class="math inline">\([a, b]\)</span>, where <span class="math inline">\(a&lt;b\)</span> and the
interval <span class="math inline">\([a, b]\)</span> is a subset of the original support of <span class="math inline">\(f(x)\)</span>. Note
that it is possible that <span class="math inline">\(a = -\infty\)</span> or <span class="math inline">\(b = +\infty\)</span>. This leads to a random variable from a truncated distribution <span class="math inline">\(F^{*}(x)\)</span> having CDF:</p>
<p><span class="math display">\[
F^{*}(x) =
\begin{cases}
0 &amp; \text{if} \; x &lt; a \\
\frac{F(x) - F(a)}{F(b) - F(a)} &amp;   a \leq x \leq b\\
0 &amp; \text{if} \; b &lt; x\\
\end{cases}
\]</span></p>
<p>This leads to a straight forward algorithm for generating from
<span class="math inline">\(F^{*}(x)\)</span> as follows:</p>
<div class="line-block">1. Generate <span class="math inline">\(u \sim U(0,1)\)</span><br />
2. <span class="math inline">\(W = F(a) + (F(b) - F(a))u\)</span><br />
3. <span class="math inline">\(X = F^{-1}(W)\)</span><br />
4. return <span class="math inline">\(X\)</span></div>
<p>To implement this algorithm, we need the original CDF <span class="math inline">\(F(x)\)</span>, its range, and the truncated range <span class="math inline">\([a,b]\)</span>.</p>
<div class="example">
<p><span id="exm:ch2ex14" class="example"><strong>Example 2.14  (Truncated Distribution) </strong></span>Suppose <span class="math inline">\(X\)</span> represents the distance between two cracks in highway. Suppose that <span class="math inline">\(X\)</span>
has an exponential distribution with a mean of 10 meters. Generate 5 random distance values
restricted between 3 and 6 meters.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb25-1"><a href="rvg.html#cb25-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb25-2"><a href="rvg.html#cb25-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">cdf</span> <span class="op">=</span> Exponential<span class="op">(</span>mean <span class="op">=</span> <span class="fl">10.0</span><span class="op">)</span></span>
<span id="cb25-3"><a href="rvg.html#cb25-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">rv</span> <span class="op">=</span> TruncatedRV<span class="op">(</span>cdf<span class="op">,</span> Interval<span class="op">(</span><span class="fl">0.0</span><span class="op">,</span> <span class="kw">Double</span><span class="op">.</span>POSITIVE_INFINITY<span class="op">),</span> Interval<span class="op">(</span><span class="fl">3.0</span><span class="op">,</span> <span class="fl">6.0</span><span class="op">))</span></span>
<span id="cb25-4"><a href="rvg.html#cb25-4" tabindex="-1"></a>    print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3s %15s %n&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;Values&quot;</span><span class="op">))</span></span>
<span id="cb25-5"><a href="rvg.html#cb25-5" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb25-6"><a href="rvg.html#cb25-6" tabindex="-1"></a>        print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3d %15f %n&quot;</span><span class="op">,</span> i<span class="op">,</span> rv<span class="op">.</span>value<span class="op">))</span></span>
<span id="cb25-7"><a href="rvg.html#cb25-7" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb25-8"><a href="rvg.html#cb25-8" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>The exponential distribution has range <span class="math inline">\([0,+\infty]\)</span>. In this situation, we are truncating the distribution over the range <span class="math inline">\([a=3, b=6]\)</span>. The <code>TruncatedRV</code> class implements the aforementioned algorithm. The class requires an invertible CDF, the original range of the CDF, and the truncated range. In the code, an instance of an exponential distribution (see Section <a href="probModels.html#probModels">2.3</a>) is created to provide the cumulative distribution function, <span class="math inline">\(F(x)\)</span>. This allows the implementation to compute <span class="math inline">\(F(a)\)</span> and <span class="math inline">\(F(b)\)</span>. Then, instances of the <code>Interval</code> class are used to define the original range and the truncated range. As we can see from the following results, the values are limited to the range of <span class="math inline">\([3,6]\)</span>.</p>
<pre><code>  n          Values 
  1        5.092609 
  2        5.880323 
  3        5.986659 
  4        3.302560 
  5        5.906485 </code></pre>
<p>Appendix <a href="appRNRV.html#appRNRV">A</a> also defines a shifted random variable. Suppose <span class="math inline">\(X\)</span> has a given
distribution <span class="math inline">\(f(x)\)</span>, then the distribution of <span class="math inline">\(X + \delta\)</span> is termed the
shifted distribution and is specified by <span class="math inline">\(g(x)=f(x - \delta)\)</span>. It is
easy to generate from a shifted distribution, simply generate <span class="math inline">\(X\)</span>
according to <span class="math inline">\(F(x)\)</span> and then add <span class="math inline">\(\delta\)</span>. The KSL implements this idea via the <code>ShiftedRV</code> class. The following example from Appendix <a href="appRNRV.html#appRNRV">A</a> illustrates how simple it is to use a shifted random variable.</p>
<div class="example">
<p><span id="exm:ch2ex15" class="example"><strong>Example 2.15  (Shifted Random Variable) </strong></span>Suppose <span class="math inline">\(X\)</span> represents
the time to setup a machine for production. From past time studies, we
know that it cannot take any less than 5.5 minutes to prepare for the
setup and that the time after the 5.5 minutes is random with a Weibull
distribution with shape parameter <span class="math inline">\(\alpha = 3\)</span> and scale parameter
<span class="math inline">\(\beta = 5\)</span>. Generate 5 random observations of the setup time.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb27-1"><a href="rvg.html#cb27-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb27-2"><a href="rvg.html#cb27-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">w</span> <span class="op">=</span> WeibullRV<span class="op">(</span>shape <span class="op">=</span> <span class="fl">3.0</span><span class="op">,</span> scale <span class="op">=</span> <span class="fl">5.0</span><span class="op">)</span></span>
<span id="cb27-3"><a href="rvg.html#cb27-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">rv</span> <span class="op">=</span> ShiftedRV<span class="op">(</span><span class="fl">5.0</span><span class="op">,</span> w<span class="op">)</span></span>
<span id="cb27-4"><a href="rvg.html#cb27-4" tabindex="-1"></a>    print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3s %15s %n&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;Values&quot;</span><span class="op">))</span></span>
<span id="cb27-5"><a href="rvg.html#cb27-5" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb27-6"><a href="rvg.html#cb27-6" tabindex="-1"></a>        print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;%3d %15f %n&quot;</span><span class="op">,</span> i<span class="op">,</span> rv<span class="op">.</span>value<span class="op">))</span></span>
<span id="cb27-7"><a href="rvg.html#cb27-7" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb27-8"><a href="rvg.html#cb27-8" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>Notice that the <code>ShiftedRV</code> class requires the shift parameter and the random variable that is to be shifted.</p>
<p>This next example is a bit more complex. Recall from Appendix <a href="appRNRV.html#appRNRV">A</a> that the acceptance/rejection algorithm is a general purpose method for generating from any probability distribution, <span class="math inline">\(f(x)\)</span>. The method requires a majorizing function, <span class="math inline">\(g(x)\)</span>, such that <span class="math inline">\(g(x) \geq f(x)\)</span> for <span class="math inline">\(-\infty &lt; x &lt; +\infty\)</span>. From the majorizing function, we compute its area:</p>
<p><span class="math display">\[
c = \int\limits_{-\infty}^{+\infty} g(x) dx
\]</span></p>
<p>We then define <span class="math inline">\(c\)</span> as the majorizing constant. Using the majorizing constant and majorizing function, we can define a proposal distribution, <span class="math inline">\(w(x)\)</span>, where <span class="math inline">\(w(x)\)</span> is defined as <span class="math inline">\(w(x) = g(x)/c\)</span>. To summarize, the acceptance/rejection algorithm requires three things:</p>
<ul>
<li><span class="math inline">\(f(x)\)</span> The PDF from which random variates need to be generated.</li>
<li><span class="math inline">\(w(x)\)</span> The proposal distribution to generate possible variates for acceptance or rejection.</li>
<li><span class="math inline">\(c\)</span> The majorizing constant (or area under the majorizing function) to be used in the acceptance/rejection test.</li>
</ul>
<p>The <code>AcceptanceRejectionRV</code> class implements the acceptance/rejection algorithm given these three components. Let’s explore these concepts via an example.</p>
<div class="example">
<p><span id="exm:ch2ex16" class="example"><strong>Example 2.16  (Acceptance-Rejection Random Variable) </strong></span>Consider the following PDF over the range <span class="math inline">\(\left[-1,1\right]\)</span>. Generate 1000 random variates from this distribution.
<span class="math display">\[
f(x) =
\begin{cases}
\frac{3}{4}\left( 1 - x^2 \right) &amp;     -1 \leq x \leq 1\\
0 &amp; \text{otherwise}\\
\end{cases}
\]</span></p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:Ch2ARExampleFig"></span>
<img src="figures2/AppRNRV/ARExampleFig.jpg" alt="Plot of f(x)" width="50%" height="50%" />
<p class="caption">
Figure 2.4: Plot of f(x)
</p>
</div>
</div>
<p>As discussed in Example <a href="appRNRVs.html#exm:ARExampleRV">A.8</a> of Appendix <a href="appRNRV.html#appRNRV">A</a>, we can use <span class="math inline">\(g(x) = 3/4\)</span> as the majorizing function, which results in <span class="math inline">\(c=3/2\)</span>, and <span class="math inline">\(w(x)\)</span></p>
<p><span class="math display">\[
w(x) =
\begin{cases}
\frac{1}{2} &amp;   -1 \leq x \leq 1\\
0 &amp; \text{otherwise}\\
\end{cases}
\]</span>
Notice that, <span class="math inline">\(w(x)\)</span> results in random variables, <span class="math inline">\(W\)</span>, where <span class="math inline">\(W \sim U(-1,1)\)</span>. Thus, the proposal distribution is simply a uniform distribution over the range from -1 to 1. The following KSL code implements these concepts. The proposal distribution, <span class="math inline">\(w(x)\)</span> is provided via an instance of the <code>Uniform</code> distribution class. Probability distributions are discussed in Section <a href="probModels.html#probModels">2.3</a>. The <code>AcceptanceRejection</code> class then is created and used to generate 1000 observations.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb28-1"><a href="rvg.html#cb28-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb28-2"><a href="rvg.html#cb28-2" tabindex="-1"></a>    <span class="co">// proposal distribution</span></span>
<span id="cb28-3"><a href="rvg.html#cb28-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">wx</span> <span class="op">=</span> Uniform<span class="op">(-</span><span class="fl">1.0</span><span class="op">,</span> <span class="fl">1.0</span><span class="op">)</span></span>
<span id="cb28-4"><a href="rvg.html#cb28-4" tabindex="-1"></a>    <span class="co">// majorizing constant, if g(x) is majorizing function, then g(x) = w(x)*c</span></span>
<span id="cb28-5"><a href="rvg.html#cb28-5" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">c</span> <span class="op">=</span> <span class="fl">3.0</span> <span class="op">/</span> <span class="fl">2.0</span></span>
<span id="cb28-6"><a href="rvg.html#cb28-6" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">rv</span> <span class="op">=</span> AcceptanceRejectionRV<span class="op">(</span>wx<span class="op">,</span> c<span class="op">,</span> fOfx<span class="op">)</span></span>
<span id="cb28-7"><a href="rvg.html#cb28-7" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">h</span> <span class="op">=</span> Histogram<span class="op">.</span>create<span class="op">(-</span><span class="fl">1.0</span><span class="op">,</span> <span class="fl">1.0</span><span class="op">,</span> <span class="dv">100</span><span class="op">)</span></span>
<span id="cb28-8"><a href="rvg.html#cb28-8" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..1000</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb28-9"><a href="rvg.html#cb28-9" tabindex="-1"></a>        h<span class="op">.</span>collect<span class="op">(</span>rv<span class="op">.</span>value<span class="op">)</span></span>
<span id="cb28-10"><a href="rvg.html#cb28-10" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb28-11"><a href="rvg.html#cb28-11" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">hp</span> <span class="op">=</span> h<span class="op">.</span>histogramPlot<span class="op">()</span></span>
<span id="cb28-12"><a href="rvg.html#cb28-12" tabindex="-1"></a>    hp<span class="op">.</span>showInBrowser<span class="op">()</span></span>
<span id="cb28-13"><a href="rvg.html#cb28-13" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb28-14"><a href="rvg.html#cb28-14" tabindex="-1"></a></span>
<span id="cb28-15"><a href="rvg.html#cb28-15" tabindex="-1"></a><span class="kw">object</span> fOfx <span class="op">:</span> <span class="dt">PDFIfc</span> <span class="op">{</span></span>
<span id="cb28-16"><a href="rvg.html#cb28-16" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">pdf</span><span class="op">(</span><span class="va">x</span><span class="op">:</span> <span class="dt">Double</span><span class="op">):</span> <span class="dt">Double</span> <span class="op">{</span></span>
<span id="cb28-17"><a href="rvg.html#cb28-17" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">((</span>x <span class="op">&lt;</span> <span class="op">-</span><span class="fl">1.0</span><span class="op">)</span> <span class="op">||</span> <span class="op">(</span>x <span class="op">&gt;</span> <span class="dv">1</span><span class="op">))</span></span>
<span id="cb28-18"><a href="rvg.html#cb28-18" tabindex="-1"></a>            <span class="kw">return</span> <span class="fl">0.0</span></span>
<span id="cb28-19"><a href="rvg.html#cb28-19" tabindex="-1"></a>        <span class="kw">return</span> <span class="op">(</span><span class="fl">0.75</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1.0</span> <span class="op">-</span> x <span class="op">*</span> x<span class="op">))</span></span>
<span id="cb28-20"><a href="rvg.html#cb28-20" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb28-21"><a href="rvg.html#cb28-21" tabindex="-1"></a></span>
<span id="cb28-22"><a href="rvg.html#cb28-22" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">domain</span><span class="op">():</span> <span class="dt">Interval</span> <span class="op">{</span></span>
<span id="cb28-23"><a href="rvg.html#cb28-23" tabindex="-1"></a>        <span class="kw">return</span> Interval<span class="op">(-</span><span class="fl">1.0</span><span class="op">,</span> <span class="fl">1.0</span><span class="op">)</span></span>
<span id="cb28-24"><a href="rvg.html#cb28-24" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb28-25"><a href="rvg.html#cb28-25" tabindex="-1"></a></span>
<span id="cb28-26"><a href="rvg.html#cb28-26" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Notice that the implementation requires an implementation of the PDF from which random variates are to be generated, <span class="math inline">\(f(x)\)</span>. The <code>fOfx</code> <em>object</em> is used to implement the function and its domain. The code also illustrates how to create a histogram of the observations. Histograms are discussed further in Section <a href="kslStatistics.html#histFreq">3.1.2</a> of Chapter <a href="mcm.html#mcm">3</a>.</p>
<p>In what follows, we briefly describe some additional functionality of the KSL for generating random variates and for applying randomness to arrays and lists.</p>
<p>The preferred method for generating random values from random
variables is to create instance of the appropriate random variable
class; however, the KSL also provide a set of functions for generating random
values within the <code>KSLRandom</code> object. For all the previously listed random variables, there is a
corresponding function that will generate a random value. For
example, the function <code>rNormal()</code> of the <code>KSLRandom</code> object will generate a normally distributed
value. Each function is named with an "r" in front of the distribution
name. By using an import of <code>KSLRandom</code> functions the user can more conveniently call these methods. The following code example illustrates how to do this.</p>
<div class="example">
<p><span id="exm:ch2ex17" class="example"><strong>Example 2.17  (Using KSLRandom Functions) </strong></span>The functions require the specification of the parameters of the distribution for each invokation.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb29-1"><a href="rvg.html#cb29-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb29-2"><a href="rvg.html#cb29-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">v</span> <span class="op">=</span> rUniform<span class="op">(</span><span class="fl">10.0</span><span class="op">,</span> <span class="fl">15.0</span><span class="op">)</span> <span class="co">// generate a U(10, 15) value</span></span>
<span id="cb29-3"><a href="rvg.html#cb29-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> rNormal<span class="op">(</span><span class="fl">5.0</span><span class="op">,</span> <span class="fl">2.0</span><span class="op">)</span> <span class="co">// generate a Normal(mu=5.0, var= 2.0) value</span></span>
<span id="cb29-4"><a href="rvg.html#cb29-4" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">n</span> <span class="op">=</span> rPoisson<span class="op">(</span><span class="fl">4.0</span><span class="op">).</span>toDouble<span class="op">()</span> <span class="co">//generate from a Poisson(mu=4.0) value</span></span>
<span id="cb29-5"><a href="rvg.html#cb29-5" tabindex="-1"></a>    print<span class="op">(</span><span class="kw">String</span><span class="op">.</span>format<span class="op">(</span><span class="st">&quot;v = %f, x = %f, n = %f %n&quot;</span><span class="op">,</span> v<span class="op">,</span> x<span class="op">,</span> n<span class="op">))</span></span>
<span id="cb29-6"><a href="rvg.html#cb29-6" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>In addition to random values through these functions, the
<code>KSLRandom</code> object provides a set of methods for randomly selecting from
arrays and lists and for creating permutations of arrays and lists. In
addition, there is a set of methods for sampling from arrays and lists
without replacement.The following code provide examples of using these methods.</p>
<div class="example">
<p><span id="exm:ch2ex18" class="example"><strong>Example 2.18  (Random Lists) </strong></span>The <code>randomlySelect()</code> function can be used to randomly select, with equal probability from a Kotlin list. An extension function has been defined to allow this to be done directly from the list.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb30-1"><a href="rvg.html#cb30-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb30-2"><a href="rvg.html#cb30-2" tabindex="-1"></a>    <span class="co">// create a list</span></span>
<span id="cb30-3"><a href="rvg.html#cb30-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">strings</span> <span class="op">=</span> listOf<span class="op">(</span><span class="st">&quot;A&quot;</span><span class="op">,</span> <span class="st">&quot;B&quot;</span><span class="op">,</span> <span class="st">&quot;C&quot;</span><span class="op">,</span> <span class="st">&quot;D&quot;</span><span class="op">)</span></span>
<span id="cb30-4"><a href="rvg.html#cb30-4" tabindex="-1"></a>    <span class="co">// randomly pick from the list, with equal probability</span></span>
<span id="cb30-5"><a href="rvg.html#cb30-5" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb30-6"><a href="rvg.html#cb30-6" tabindex="-1"></a>        println<span class="op">(</span>KSLRandom<span class="op">.</span>randomlySelect<span class="op">(</span>strings<span class="op">))</span></span>
<span id="cb30-7"><a href="rvg.html#cb30-7" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb30-8"><a href="rvg.html#cb30-8" tabindex="-1"></a>    println<span class="op">()</span></span>
<span id="cb30-9"><a href="rvg.html#cb30-9" tabindex="-1"></a>    <span class="co">// use the extension function</span></span>
<span id="cb30-10"><a href="rvg.html#cb30-10" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb30-11"><a href="rvg.html#cb30-11" tabindex="-1"></a>        println<span class="op">(</span>strings<span class="op">.</span>randomlySelect<span class="op">())</span></span>
<span id="cb30-12"><a href="rvg.html#cb30-12" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb30-13"><a href="rvg.html#cb30-13" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>It is also possible to specify a distribution in the form of a CDF array over the items in the list to permit sampling that is not equally likely. There are also extension functions declared on arrays for directly performing this form of random selection.</p>
<p>This next example illustrates how to define a population of values (<code>DPopulation</code>) and use it to perform sampling operations such as random samples and permutations. Similar functionality is also demonstrated by directly using the functions of the <code>KSLRandom</code> object</p>
<div class="example">
<p><span id="exm:ch2ex19" class="example"><strong>Example 2.19  (Random Permuation) </strong></span>This example defines a population over the integer from 1 to 10 and permutes the population. It also illustrates how to sample from the population and permute a mutable list.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb31-1"><a href="rvg.html#cb31-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb31-2"><a href="rvg.html#cb31-2" tabindex="-1"></a>    <span class="co">// create an array to hold a population of values</span></span>
<span id="cb31-3"><a href="rvg.html#cb31-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">y</span> <span class="op">=</span> DoubleArray<span class="op">(</span><span class="dv">10</span><span class="op">)</span></span>
<span id="cb31-4"><a href="rvg.html#cb31-4" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="fl">0..9</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb31-5"><a href="rvg.html#cb31-5" tabindex="-1"></a>        y<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>i <span class="op">+</span> <span class="dv">1</span><span class="op">).</span>toDouble<span class="op">()</span></span>
<span id="cb31-6"><a href="rvg.html#cb31-6" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb31-7"><a href="rvg.html#cb31-7" tabindex="-1"></a></span>
<span id="cb31-8"><a href="rvg.html#cb31-8" tabindex="-1"></a>    <span class="co">// create the population</span></span>
<span id="cb31-9"><a href="rvg.html#cb31-9" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">p</span> <span class="op">=</span> DPopulation<span class="op">(</span>y<span class="op">)</span></span>
<span id="cb31-10"><a href="rvg.html#cb31-10" tabindex="-1"></a>    println<span class="op">(</span>p<span class="op">.</span>contentToString<span class="op">())</span></span>
<span id="cb31-11"><a href="rvg.html#cb31-11" tabindex="-1"></a></span>
<span id="cb31-12"><a href="rvg.html#cb31-12" tabindex="-1"></a>    println<span class="op">(</span><span class="st">&quot;Print the permuted population&quot;</span><span class="op">)</span></span>
<span id="cb31-13"><a href="rvg.html#cb31-13" tabindex="-1"></a>    <span class="co">// permute the population</span></span>
<span id="cb31-14"><a href="rvg.html#cb31-14" tabindex="-1"></a>    p<span class="op">.</span>permute<span class="op">()</span></span>
<span id="cb31-15"><a href="rvg.html#cb31-15" tabindex="-1"></a>    println<span class="op">(</span>p<span class="op">.</span>contentToString<span class="op">())</span></span>
<span id="cb31-16"><a href="rvg.html#cb31-16" tabindex="-1"></a></span>
<span id="cb31-17"><a href="rvg.html#cb31-17" tabindex="-1"></a>    <span class="co">// directly permute the array using KSLRandom</span></span>
<span id="cb31-18"><a href="rvg.html#cb31-18" tabindex="-1"></a>    println<span class="op">(</span><span class="st">&quot;Permuting y&quot;</span><span class="op">)</span></span>
<span id="cb31-19"><a href="rvg.html#cb31-19" tabindex="-1"></a>    KSLRandom<span class="op">.</span>permute<span class="op">(</span>y<span class="op">)</span></span>
<span id="cb31-20"><a href="rvg.html#cb31-20" tabindex="-1"></a>    println<span class="op">(</span>y<span class="op">.</span>contentToString<span class="op">())</span></span>
<span id="cb31-21"><a href="rvg.html#cb31-21" tabindex="-1"></a></span>
<span id="cb31-22"><a href="rvg.html#cb31-22" tabindex="-1"></a>    <span class="co">// sample from the population</span></span>
<span id="cb31-23"><a href="rvg.html#cb31-23" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> p<span class="op">.</span>sample<span class="op">(</span><span class="dv">5</span><span class="op">)</span></span>
<span id="cb31-24"><a href="rvg.html#cb31-24" tabindex="-1"></a>    println<span class="op">(</span><span class="st">&quot;Sampling 5 from the population&quot;</span><span class="op">)</span></span>
<span id="cb31-25"><a href="rvg.html#cb31-25" tabindex="-1"></a>    println<span class="op">(</span>x<span class="op">.</span>contentToString<span class="op">())</span></span>
<span id="cb31-26"><a href="rvg.html#cb31-26" tabindex="-1"></a></span>
<span id="cb31-27"><a href="rvg.html#cb31-27" tabindex="-1"></a>    <span class="co">// create a string list and permute it</span></span>
<span id="cb31-28"><a href="rvg.html#cb31-28" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">strList</span><span class="op">:</span> MutableList<span class="op">&lt;</span><span class="kw">String</span><span class="op">&gt;</span> <span class="op">=</span> ArrayList<span class="op">()</span></span>
<span id="cb31-29"><a href="rvg.html#cb31-29" tabindex="-1"></a>    strList<span class="op">.</span>add<span class="op">(</span><span class="st">&quot;a&quot;</span><span class="op">)</span></span>
<span id="cb31-30"><a href="rvg.html#cb31-30" tabindex="-1"></a>    strList<span class="op">.</span>add<span class="op">(</span><span class="st">&quot;b&quot;</span><span class="op">)</span></span>
<span id="cb31-31"><a href="rvg.html#cb31-31" tabindex="-1"></a>    strList<span class="op">.</span>add<span class="op">(</span><span class="st">&quot;c&quot;</span><span class="op">)</span></span>
<span id="cb31-32"><a href="rvg.html#cb31-32" tabindex="-1"></a>    strList<span class="op">.</span>add<span class="op">(</span><span class="st">&quot;d&quot;</span><span class="op">)</span></span>
<span id="cb31-33"><a href="rvg.html#cb31-33" tabindex="-1"></a>    println<span class="op">(</span><span class="st">&quot;The mutable list&quot;</span><span class="op">)</span></span>
<span id="cb31-34"><a href="rvg.html#cb31-34" tabindex="-1"></a>    println<span class="op">(</span>strList<span class="op">)</span></span>
<span id="cb31-35"><a href="rvg.html#cb31-35" tabindex="-1"></a>    KSLRandom<span class="op">.</span>permute<span class="op">(</span>strList<span class="op">)</span></span>
<span id="cb31-36"><a href="rvg.html#cb31-36" tabindex="-1"></a>    println<span class="op">(</span><span class="st">&quot;The permuted list&quot;</span><span class="op">)</span></span>
<span id="cb31-37"><a href="rvg.html#cb31-37" tabindex="-1"></a>    println<span class="op">(</span>strList<span class="op">)</span></span>
<span id="cb31-38"><a href="rvg.html#cb31-38" tabindex="-1"></a>    println<span class="op">(</span><span class="st">&quot;Permute using extension function&quot;</span><span class="op">)</span></span>
<span id="cb31-39"><a href="rvg.html#cb31-39" tabindex="-1"></a>    strList<span class="op">.</span>permute<span class="op">()</span></span>
<span id="cb31-40"><a href="rvg.html#cb31-40" tabindex="-1"></a>    println<span class="op">(</span>strList<span class="op">)</span></span>
<span id="cb31-41"><a href="rvg.html#cb31-41" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>Output from the permutation examples.</p>
<pre><code>[1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0]
Print the permuted population
[8.0, 10.0, 2.0, 4.0, 3.0, 5.0, 1.0, 6.0, 9.0, 7.0]
Permuting y
[2.0, 4.0, 5.0, 9.0, 6.0, 8.0, 3.0, 1.0, 7.0, 10.0]
Sampling 5 from the population
[2.0, 4.0, 4.0, 9.0, 5.0]
The mutable list
[a, b, c, d]
The permuted list
[c, a, b, d]
Permute using extension function
[b, d, c, a]</code></pre>
</div>
<div id="functions-of-random-variables" class="section level3 hasAnchor" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Functions of Random Variables<a href="rvg.html#functions-of-random-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The KSL also contains an algebra for working with random variables. A well-known property of random variables is that a function of a random variable is also a random variable. That is, let <span class="math inline">\(f(\cdot)\)</span> be an arbitrary function and let <span class="math inline">\(X\)</span> be a random variable. Then, the quantity <span class="math inline">\(Y = f(X)\)</span> is also a random variable. Various properties of <span class="math inline">\(Y\)</span> such as expectation, <span class="math inline">\(E[Y]\)</span> and <span class="math inline">\(Var[Y]\)</span> may be of interest. A classic example of this is the relationship between the normal random variable and the lognormal random variable. If <span class="math inline">\(X \sim N(\mu, \sigma^2)\)</span> then the random variable <span class="math inline">\(Y=e^X\)</span> will be lognormally distributed <span class="math inline">\(LN(\mu_l,\sigma_{l}^{2})\)</span>, where</p>
<p><span class="math display">\[\begin{equation}
E[Y] = \mu_l = e^{\mu + \sigma^{2}/2}
\end{equation}\]</span></p>
<p><span class="math display">\[\begin{equation}
Var[Y] = \sigma_{l}^{2}  = e^{2\mu + \sigma^{2}}\left(e^{\sigma^{2}} - 1\right)
\end{equation}\]</span></p>
<p>Thus, one can define new random variables simply as functions of other random variables.</p>
<p>The interface <code>RVariableIfc</code> and base class <code>RVariable</code> provides the ability to construct new random variables that are functions of other random variables by overriding the <span class="math inline">\((+, -, \times, \div)\)</span> operators and providing extension functions for various math functions. For example, we can defined two random variables and then a third that is the sum of the first two random variables. The random variable that is defined as the sum will generate random variates that represent the sum. Functions, such as <code>sin(),</code> <code>cos()</code> as well as many other standard math functions can be applied to random variables to create new random variables. That is, the KSL provides the ability to create arbitrarily complex random variables that are defined as <em>functions</em> of other random variables. This capability will be illustrated in this section with a couple of examples.</p>
<hr />
<div class="example">
<p><span id="exm:ch2ex20" class="example"><strong>Example 2.20  (Erlang Via Convolution) </strong></span>Suppose we have <span class="math inline">\(k\)</span> independent random variables, <span class="math inline">\(X_i\)</span> each exponentially distributed with mean <span class="math inline">\(\theta\)</span>. Then, the random variable:
<span class="math display">\[\begin{equation}
Y = \sum_{i=i}^{k}X_i
\end{equation}\]</span>
will be an Erlang<span class="math inline">\((k, \theta)\)</span> where <span class="math inline">\(k\)</span> is the shape parameter and <span class="math inline">\(\theta\)</span> is the scale parameter. Set up a KSL model to generate 1000 Erlang random variables with <span class="math inline">\(k = 5\)</span> and <span class="math inline">\(\theta = 10\)</span>.</p>
</div>
<hr />
<p>A possible solution to this problem is to use the KSL to define a new random variable that is the sum of 5 exponential random variables.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb33-1"><a href="rvg.html#cb33-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">(){</span></span>
<span id="cb33-2"><a href="rvg.html#cb33-2" tabindex="-1"></a>    <span class="kw">var</span> <span class="va">erlang</span><span class="op">:</span> RVariableIfc <span class="op">=</span> ExponentialRV<span class="op">(</span><span class="fl">10.0</span><span class="op">)</span></span>
<span id="cb33-3"><a href="rvg.html#cb33-3" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span>i <span class="kw">in</span> <span class="fl">1..4</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb33-4"><a href="rvg.html#cb33-4" tabindex="-1"></a>        erlang <span class="op">=</span> erlang <span class="op">+</span> ExponentialRV<span class="op">(</span><span class="fl">10.0</span><span class="op">)</span></span>
<span id="cb33-5"><a href="rvg.html#cb33-5" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb33-6"><a href="rvg.html#cb33-6" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">sample</span> <span class="op">=</span> erlang<span class="op">.</span>sample<span class="op">(</span><span class="dv">1000</span><span class="op">)</span></span>
<span id="cb33-7"><a href="rvg.html#cb33-7" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">stats</span> <span class="op">=</span> Statistic<span class="op">(</span>sample<span class="op">)</span></span>
<span id="cb33-8"><a href="rvg.html#cb33-8" tabindex="-1"></a>    print<span class="op">(</span>stats<span class="op">)</span></span>
<span id="cb33-9"><a href="rvg.html#cb33-9" tabindex="-1"></a>    sample<span class="op">.</span>writeToFile<span class="op">(</span><span class="st">&quot;erlang.txt&quot;</span><span class="op">)</span></span>
<span id="cb33-10"><a href="rvg.html#cb33-10" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>The first line of this code creates and stores an instance of an exponential random variable with mean 10. The for loop is <strong>not</strong> generating any random variates. It is defining a new random variable that is the sum of 4 additional exponential random variables. The defined random variable is used to generate a sample of size 1000 and using the <code>Statistic</code> class (discussed in the next chapter) a basic statistical summary is computed. Also, using the <code>writeToFile</code> KSL extension function for double arrays, the sample is written to a file. The results as a histogram are also presented. The statistical results are as follows.</p>
<pre><code>ID 30
Name Statistic_1
Number 1000.0
Average 51.11021981152218
Standard Deviation 23.62319194179008
Standard Error 0.7470309213939245
Half-width 1.4659295758838757
Confidence Level 0.95
Confidence Interval [49.6442902356383, 52.576149387406055]
Minimum 5.03168557560841
Maximum 177.85302754920727
Sum 51110.219811522176
Variance 558.0551975186557
Deviation Sum of Squares 557497.1423211371
Last value collected 58.568877001859285
Kurtosis 1.5267730984137933
Skewness 0.9637663719643743
Lag 1 Covariance -13.659309232961249
Lag 1 Correlation -0.024501128698329766
Von Neumann Lag 1 Test Statistic -0.7301901389345133
Number of missing observations 0.0
Lead-Digit Rule(1) -1</code></pre>
<div class="figure"><span style="display:block;" id="fig:ErlangHist"></span>
<img src="02-Chapter2_files/figure-html/ErlangHist-1.svg" alt="Histogram for Erlang Generated Data" width="672" />
<p class="caption">
Figure 2.5: Histogram for Erlang Generated Data
</p>
</div>
<p>Notice that the histogram looks like an Erlang distribution and the estimated results are what we would expect for an Erlang distribution with <span class="math inline">\(k=5\)</span> and <span class="math inline">\(\theta = 10\)</span>.</p>
<p>To illustrate a couple of other examples consider the following code. In this code, the previously noted relationship between normal random variables and lognormal random variables is demonstrated in the first 6 lines of the code.</p>
<div class="example">
<p><span id="exm:ch2ex21" class="example"><strong>Example 2.21  (Functions of Random Variables) </strong></span>This example uses the fact that if <span class="math inline">\(X \sim N(\mu,\sigma^2)\)</span>, then <span class="math inline">\(Y = e^{X} \sim \text{LN}(\mu_l,\sigma_{l}^{2})\)</span>. In addition, the code illustrates how to generate a beta random variable via its relationship with gamma random variables.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb35-1"><a href="rvg.html#cb35-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">(){</span></span>
<span id="cb35-2"><a href="rvg.html#cb35-2" tabindex="-1"></a>    <span class="co">// define a lognormal random variable, y</span></span>
<span id="cb35-3"><a href="rvg.html#cb35-3" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> NormalRV<span class="op">(</span><span class="fl">2.0</span><span class="op">,</span> <span class="fl">5.0</span><span class="op">)</span></span>
<span id="cb35-4"><a href="rvg.html#cb35-4" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">y</span> <span class="op">=</span> exp<span class="op">(</span>x<span class="op">)</span></span>
<span id="cb35-5"><a href="rvg.html#cb35-5" tabindex="-1"></a>    <span class="co">// generate from y</span></span>
<span id="cb35-6"><a href="rvg.html#cb35-6" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">ySample</span> <span class="op">=</span> y<span class="op">.</span>sample<span class="op">(</span><span class="dv">1000</span><span class="op">)</span></span>
<span id="cb35-7"><a href="rvg.html#cb35-7" tabindex="-1"></a>    println<span class="op">(</span>ySample<span class="op">.</span>statistics<span class="op">())</span></span>
<span id="cb35-8"><a href="rvg.html#cb35-8" tabindex="-1"></a>    <span class="co">// define a beta random variable in terms of gamma</span></span>
<span id="cb35-9"><a href="rvg.html#cb35-9" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">alpha1</span> <span class="op">=</span> <span class="fl">2.0</span></span>
<span id="cb35-10"><a href="rvg.html#cb35-10" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">alpha2</span> <span class="op">=</span> <span class="fl">5.0</span></span>
<span id="cb35-11"><a href="rvg.html#cb35-11" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">y1</span> <span class="op">=</span> GammaRV<span class="op">(</span>alpha1<span class="op">,</span> <span class="fl">1.0</span><span class="op">)</span></span>
<span id="cb35-12"><a href="rvg.html#cb35-12" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">y2</span> <span class="op">=</span> GammaRV<span class="op">(</span>alpha2<span class="op">,</span> <span class="fl">1.0</span><span class="op">)</span></span>
<span id="cb35-13"><a href="rvg.html#cb35-13" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">betaRV</span> <span class="op">=</span> y1<span class="op">/(</span>y1<span class="op">+</span>y2<span class="op">)</span></span>
<span id="cb35-14"><a href="rvg.html#cb35-14" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">betaSample</span> <span class="op">=</span> betaRV<span class="op">.</span>sample<span class="op">(</span><span class="dv">500</span><span class="op">)</span></span>
<span id="cb35-15"><a href="rvg.html#cb35-15" tabindex="-1"></a>    println<span class="op">(</span>betaSample<span class="op">.</span>statistics<span class="op">())</span></span>
<span id="cb35-16"><a href="rvg.html#cb35-16" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<p>One method for generating Beta random variables exploits its relationship with the Gamma distribution. If <span class="math inline">\(Y_1 \sim Gamma(\alpha_1, 1)\)</span> and <span class="math inline">\(Y_2 \sim Gamma(\alpha_2, 1)\)</span>, then <span class="math inline">\(X = Y_1/(Y_1 + Y_2)\)</span> has a Beta(<span class="math inline">\(\alpha_1, \alpha_2\)</span>) distribution. In the previous KSL code, we defined two gamma random variables and define the beta random variable using the algebraic expression. This code <em>defines</em> and <em>constructs</em> a new random variable that is function of the previously define random variables. Through this pattern you can define complex random variables and use those random variables anywhere a random variable is needed.</p>
</div>
</div>
<h3><span class="header-section-number">G</span> References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-cody1969" class="csl-entry">
Cody, W. J. 1969. <span>“Rational Chebyshev Approximations for the Error Function.”</span> <em>Mathematics of Computation</em> 23 (107): 631–37.
</div>
<div id="ref-Rossetti2015" class="csl-entry">
———. 2015. <em>Simulation Modeling and Arena</em>. New York, New York: John Wiley &amp; Sons.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ch2generator.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="probModels.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
