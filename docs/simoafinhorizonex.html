<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.4 Capturing Output for a Simple Finite Horizon Simulation | Simulation Modeling using the Kotlin Simulation Library (KSL)</title>
  <meta name="description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="5.4 Capturing Output for a Simple Finite Horizon Simulation | Simulation Modeling using the Kotlin Simulation Library (KSL)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.4 Capturing Output for a Simple Finite Horizon Simulation | Simulation Modeling using the Kotlin Simulation Library (KSL)" />
  
  <meta name="twitter:description" content="A book that illustrates the basics of using the KSL. The output format for this book is bookdown::gitbook." />
  

<meta name="author" content="Manuel D. Rossetti" />


<meta name="date" content="2024-07-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="simoafinhorizon.html"/>
<link rel="next" href="simoaseqsampling.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Simulation Modeling using the Kotlin Simulation Library (KSL)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="release-history.html"><a href="release-history.html"><i class="fa fa-check"></i>Release History</a></li>
<li class="chapter" data-level="" data-path="ksl-project-page.html"><a href="ksl-project-page.html"><i class="fa fa-check"></i>KSL Project Page</a></li>
<li class="chapter" data-level="" data-path="book-support-files.html"><a href="book-support-files.html"><i class="fa fa-check"></i>Book Support Files</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="intended-audience.html"><a href="intended-audience.html"><i class="fa fa-check"></i>Intended Audience</a></li>
<li class="chapter" data-level="" data-path="organization-of-the-book.html"><a href="organization-of-the-book.html"><i class="fa fa-check"></i>Organization of the Book</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="ch1.html"><a href="ch1.html"><i class="fa fa-check"></i><b>1</b> Simulation Modeling</a>
<ul>
<li class="chapter" data-level="1.1" data-path="simulation-modeling.html"><a href="simulation-modeling.html"><i class="fa fa-check"></i><b>1.1</b> Simulation Modeling</a></li>
<li class="chapter" data-level="1.2" data-path="why-simulate.html"><a href="why-simulate.html"><i class="fa fa-check"></i><b>1.2</b> Why Simulate?</a></li>
<li class="chapter" data-level="1.3" data-path="types-of-systems-and-simulation-models.html"><a href="types-of-systems-and-simulation-models.html"><i class="fa fa-check"></i><b>1.3</b> Types of Systems and Simulation Models</a></li>
<li class="chapter" data-level="1.4" data-path="simulation-descriptive-or-prescriptive-modeling.html"><a href="simulation-descriptive-or-prescriptive-modeling.html"><i class="fa fa-check"></i><b>1.4</b> Simulation: Descriptive or Prescriptive Modeling?</a></li>
<li class="chapter" data-level="1.5" data-path="randomness-in-simulation.html"><a href="randomness-in-simulation.html"><i class="fa fa-check"></i><b>1.5</b> Randomness in Simulation</a></li>
<li class="chapter" data-level="1.6" data-path="simulation-languages.html"><a href="simulation-languages.html"><i class="fa fa-check"></i><b>1.6</b> Simulation Languages</a></li>
<li class="chapter" data-level="1.7" data-path="ch1secsimMeth.html"><a href="ch1secsimMeth.html"><i class="fa fa-check"></i><b>1.7</b> Simulation Methodology</a></li>
<li class="chapter" data-level="1.8" data-path="overview-of-the-kotlin-simulation-library.html"><a href="overview-of-the-kotlin-simulation-library.html"><i class="fa fa-check"></i><b>1.8</b> Overview of the Kotlin Simulation Library</a></li>
<li class="chapter" data-level="1.9" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>1.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ch2rng.html"><a href="ch2rng.html"><i class="fa fa-check"></i><b>2</b> Modeling Randomness</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ch2generator.html"><a href="ch2generator.html"><i class="fa fa-check"></i><b>2.1</b> Random Number Generator</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="ch2generator.html"><a href="ch2generator.html#ch2randompkg"><i class="fa fa-check"></i><b>2.1.1</b> Random Package</a></li>
<li class="chapter" data-level="2.1.2" data-path="ch2generator.html"><a href="ch2generator.html#ch2creatingStreams"><i class="fa fa-check"></i><b>2.1.2</b> Creating and Using Streams</a></li>
<li class="chapter" data-level="2.1.3" data-path="ch2generator.html"><a href="ch2generator.html#ch2crn"><i class="fa fa-check"></i><b>2.1.3</b> Common Random Numbers</a></li>
<li class="chapter" data-level="2.1.4" data-path="ch2generator.html"><a href="ch2generator.html#ch2antitheticStreams"><i class="fa fa-check"></i><b>2.1.4</b> Creating and Using Antithetic Streams</a></li>
<li class="chapter" data-level="2.1.5" data-path="ch2generator.html"><a href="ch2generator.html#ch2rnFAQ"><i class="fa fa-check"></i><b>2.1.5</b> Frequently Asked Questions about Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rvg.html"><a href="rvg.html"><i class="fa fa-check"></i><b>2.2</b> Random Variate Generation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rvg.html"><a href="rvg.html#basic-random-variate-generation"><i class="fa fa-check"></i><b>2.2.1</b> Basic Random Variate Generation</a></li>
<li class="chapter" data-level="2.2.2" data-path="rvg.html"><a href="rvg.html#rvg_dists"><i class="fa fa-check"></i><b>2.2.2</b> Continuous and Discrete Random Variables</a></li>
<li class="chapter" data-level="2.2.3" data-path="rvg.html"><a href="rvg.html#rvguse"><i class="fa fa-check"></i><b>2.2.3</b> Creating and Using Random Variables</a></li>
<li class="chapter" data-level="2.2.4" data-path="rvg.html"><a href="rvg.html#functions-of-random-variables"><i class="fa fa-check"></i><b>2.2.4</b> Functions of Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="probModels.html"><a href="probModels.html"><i class="fa fa-check"></i><b>2.3</b> Probability Distribution Models</a></li>
<li class="chapter" data-level="2.4" data-path="distFitting.html"><a href="distFitting.html"><i class="fa fa-check"></i><b>2.4</b> Distribution Fitting Using the KSL</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="distFitting.html"><a href="distFitting.html#estimating-distribution-parameters"><i class="fa fa-check"></i><b>2.4.1</b> Estimating Distribution Parameters</a></li>
<li class="chapter" data-level="2.4.2" data-path="distFitting.html"><a href="distFitting.html#continuous-distribution-recommendation-framework"><i class="fa fa-check"></i><b>2.4.2</b> Continuous Distribution Recommendation Framework</a></li>
<li class="chapter" data-level="2.4.3" data-path="distFitting.html"><a href="distFitting.html#discrete-distribution-framework"><i class="fa fa-check"></i><b>2.4.3</b> Discrete Distribution Framework</a></li>
<li class="chapter" data-level="2.4.4" data-path="distFitting.html"><a href="distFitting.html#pdfmexamples"><i class="fa fa-check"></i><b>2.4.4</b> Illustrative Examples from Appendix @ref(appidm)</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>2.5</b> Summary</a></li>
<li class="chapter" data-level="2.6" data-path="exercises-1.html"><a href="exercises-1.html"><i class="fa fa-check"></i><b>2.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mcm.html"><a href="mcm.html"><i class="fa fa-check"></i><b>3</b> Monte Carlo Methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="kslStatistics.html"><a href="kslStatistics.html"><i class="fa fa-check"></i><b>3.1</b> Collecting Statistics</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="kslStatistics.html"><a href="kslStatistics.html#creating-and-using-a-statistic"><i class="fa fa-check"></i><b>3.1.1</b> Creating and Using a Statistic</a></li>
<li class="chapter" data-level="3.1.2" data-path="kslStatistics.html"><a href="kslStatistics.html#histFreq"><i class="fa fa-check"></i><b>3.1.2</b> Histograms and Frequencies</a></li>
<li class="chapter" data-level="3.1.3" data-path="kslStatistics.html"><a href="kslStatistics.html#ch3batchStats"><i class="fa fa-check"></i><b>3.1.3</b> Batch Statistics</a></li>
<li class="chapter" data-level="3.1.4" data-path="kslStatistics.html"><a href="kslStatistics.html#ch3StatSummary"><i class="fa fa-check"></i><b>3.1.4</b> Statistics Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ssMC.html"><a href="ssMC.html"><i class="fa fa-check"></i><b>3.2</b> Simple Monte Carlo Integration</a></li>
<li class="chapter" data-level="3.3" data-path="ch3StatReview.html"><a href="ch3StatReview.html"><i class="fa fa-check"></i><b>3.3</b> Review of Statistical Concepts</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="ch3StatReview.html"><a href="ch3StatReview.html#point-estimates-and-confidence-intervals"><i class="fa fa-check"></i><b>3.3.1</b> Point Estimates and Confidence Intervals</a></li>
<li class="chapter" data-level="3.3.2" data-path="ch3StatReview.html"><a href="ch3StatReview.html#ch3SampleSize"><i class="fa fa-check"></i><b>3.3.2</b> Sample Size Determination</a></li>
<li class="chapter" data-level="3.3.3" data-path="ch3StatReview.html"><a href="ch3StatReview.html#determining-the-sample-size-for-a-monte-carlo-simulation-experiment"><i class="fa fa-check"></i><b>3.3.3</b> Determining the Sample Size for a Monte Carlo Simulation Experiment</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="craps.html"><a href="craps.html"><i class="fa fa-check"></i><b>3.4</b> Simulating the Game of Craps</a></li>
<li class="chapter" data-level="3.5" data-path="the-news-vendor-problem.html"><a href="the-news-vendor-problem.html"><i class="fa fa-check"></i><b>3.5</b> The News Vendor Problem</a></li>
<li class="chapter" data-level="3.6" data-path="ch3InsProcess.html"><a href="ch3InsProcess.html"><i class="fa fa-check"></i><b>3.6</b> A Simple Inspection Process</a></li>
<li class="chapter" data-level="3.7" data-path="ch3SAN.html"><a href="ch3SAN.html"><i class="fa fa-check"></i><b>3.7</b> Stochastic Activity Networks</a></li>
<li class="chapter" data-level="3.8" data-path="mcmExperiments.html"><a href="mcmExperiments.html"><i class="fa fa-check"></i><b>3.8</b> Monte-Carlo Experiments</a></li>
<li class="chapter" data-level="3.9" data-path="summary-1.html"><a href="summary-1.html"><i class="fa fa-check"></i><b>3.9</b> Summary</a></li>
<li class="chapter" data-level="3.10" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i><b>3.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introDEDS.html"><a href="introDEDS.html"><i class="fa fa-check"></i><b>4</b> Introduction to Discrete Event Modeling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introDEDSdeds.html"><a href="introDEDSdeds.html"><i class="fa fa-check"></i><b>4.1</b> Discrete-Event Dynamic Systems</a></li>
<li class="chapter" data-level="4.2" data-path="HowDEDSClockWorks.html"><a href="HowDEDSClockWorks.html"><i class="fa fa-check"></i><b>4.2</b> How the Discrete-Event Clock Works</a></li>
<li class="chapter" data-level="4.3" data-path="QHandExample.html"><a href="QHandExample.html"><i class="fa fa-check"></i><b>4.3</b> Simulating a Queueing System By Hand</a></li>
<li class="chapter" data-level="4.4" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html"><i class="fa fa-check"></i><b>4.4</b> Modeling DEDS in the KSL</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#event-scheduling"><i class="fa fa-check"></i><b>4.4.1</b> Event Scheduling</a></li>
<li class="chapter" data-level="4.4.2" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSschedExamples"><i class="fa fa-check"></i><b>4.4.2</b> Simple Event Scheduling Examples</a></li>
<li class="chapter" data-level="4.4.3" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSUpDown"><i class="fa fa-check"></i><b>4.4.3</b> Up and Down Component Example</a></li>
<li class="chapter" data-level="4.4.4" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#introDEDSPharmacy"><i class="fa fa-check"></i><b>4.4.4</b> Modeling a Simple Queueing System</a></li>
<li class="chapter" data-level="4.4.5" data-path="introDEDSdedsKSL.html"><a href="introDEDSdedsKSL.html#more-details-about-the-pharmacy-model-implementation"><i class="fa fa-check"></i><b>4.4.5</b> More Details About the Pharmacy Model Implementation</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="enhancing-the-drive-through-pharmacy-model.html"><a href="enhancing-the-drive-through-pharmacy-model.html"><i class="fa fa-check"></i><b>4.5</b> Enhancing the Drive Through Pharmacy Model</a></li>
<li class="chapter" data-level="4.6" data-path="DTPExpanded.html"><a href="DTPExpanded.html"><i class="fa fa-check"></i><b>4.6</b> More Drive Through Fun</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="DTPExpanded.html"><a href="DTPExpanded.html#modeling-a-simple-resource"><i class="fa fa-check"></i><b>4.6.1</b> Modeling a Simple Resource</a></li>
<li class="chapter" data-level="4.6.2" data-path="DTPExpanded.html"><a href="DTPExpanded.html#modeling-a-resource-with-a-waiting-line"><i class="fa fa-check"></i><b>4.6.2</b> Modeling a Resource with a Waiting Line</a></li>
<li class="chapter" data-level="4.6.3" data-path="DTPExpanded.html"><a href="DTPExpanded.html#modeling-the-tandem-queue-of-example-refexmexch4tandemq"><i class="fa fa-check"></i><b>4.6.3</b> Modeling the Tandem Queue of Example @ref(exm:exCh4TandemQ)</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="introDEDSSummary.html"><a href="introDEDSSummary.html"><i class="fa fa-check"></i><b>4.7</b> Summary</a></li>
<li class="chapter" data-level="4.8" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i><b>4.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simoa.html"><a href="simoa.html"><i class="fa fa-check"></i><b>5</b> Analyzing and Accessing Simulation Output</a>
<ul>
<li class="chapter" data-level="5.1" data-path="simoadatatypes.html"><a href="simoadatatypes.html"><i class="fa fa-check"></i><b>5.1</b> Types of Statistical Variables</a></li>
<li class="chapter" data-level="5.2" data-path="simoasimtypes.html"><a href="simoasimtypes.html"><i class="fa fa-check"></i><b>5.2</b> Types of Simulation With Respect To Output Analysis</a></li>
<li class="chapter" data-level="5.3" data-path="simoafinhorizon.html"><a href="simoafinhorizon.html"><i class="fa fa-check"></i><b>5.3</b> Analysis of Finite Horizon Simulations</a></li>
<li class="chapter" data-level="5.4" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html"><i class="fa fa-check"></i><b>5.4</b> Capturing Output for a Simple Finite Horizon Simulation</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#simoaCapture"><i class="fa fa-check"></i><b>5.4.1</b> KSL Functionality for Capturing Statistical Results</a></li>
<li class="chapter" data-level="5.4.2" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#additional-remarks"><i class="fa fa-check"></i><b>5.4.2</b> Additional Remarks</a></li>
<li class="chapter" data-level="5.4.3" data-path="simoafinhorizonex.html"><a href="simoafinhorizonex.html#querying-the-ksl-database"><i class="fa fa-check"></i><b>5.4.3</b> Querying the KSL Database</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="simoaseqsampling.html"><a href="simoaseqsampling.html"><i class="fa fa-check"></i><b>5.5</b> Sequential Sampling for Finite Horizon Simulations</a></li>
<li class="chapter" data-level="5.6" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html"><i class="fa fa-check"></i><b>5.6</b> Analysis of Infinite Horizon Simulations</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizoninitialbias"><i class="fa fa-check"></i><b>5.6.1</b> Assessing the Effect of Initial Conditions</a></li>
<li class="chapter" data-level="5.6.2" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonrepDeletion"><i class="fa fa-check"></i><b>5.6.2</b> Performing the Method of Replication-Deletion</a></li>
<li class="chapter" data-level="5.6.3" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonbatchmeans"><i class="fa fa-check"></i><b>5.6.3</b> The Method of Batch Means</a></li>
<li class="chapter" data-level="5.6.4" data-path="simoainfhorizon.html"><a href="simoainfhorizon.html#simoainfhorizonjslbatching"><i class="fa fa-check"></i><b>5.6.4</b> Performing the Method of Batch Means</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html"><i class="fa fa-check"></i><b>5.7</b> Comparing System Configurations</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#simoacomparingSystems:two"><i class="fa fa-check"></i><b>5.7.1</b> Comparing Two Systems</a></li>
<li class="chapter" data-level="5.7.2" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#simoacomparingSystemsMCB"><i class="fa fa-check"></i><b>5.7.2</b> Concepts for Comparing Systems</a></li>
<li class="chapter" data-level="5.7.3" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#multiple-comparison-with-the-best-procedures-mcb"><i class="fa fa-check"></i><b>5.7.3</b> Multiple Comparison with the Best Procedures (MCB)</a></li>
<li class="chapter" data-level="5.7.4" data-path="simoacomparingSystems.html"><a href="simoacomparingSystems.html#ch5Screening"><i class="fa fa-check"></i><b>5.7.4</b> Screening Procedures</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html"><i class="fa fa-check"></i><b>5.8</b> Simulating Many Scenarios</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#controlAntns"><i class="fa fa-check"></i><b>5.8.1</b> Control Annotations</a></li>
<li class="chapter" data-level="5.8.2" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#rvParameters"><i class="fa fa-check"></i><b>5.8.2</b> Random Variable Parameters</a></li>
<li class="chapter" data-level="5.8.3" data-path="ch5Scenarios.html"><a href="ch5Scenarios.html#kslScenarios"><i class="fa fa-check"></i><b>5.8.3</b> Setting Up and Running Multiple Scenarios</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="simoasummary.html"><a href="simoasummary.html"><i class="fa fa-check"></i><b>5.9</b> Summary</a></li>
<li class="chapter" data-level="5.10" data-path="exercises-4.html"><a href="exercises-4.html"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="processview.html"><a href="processview.html"><i class="fa fa-check"></i><b>6</b> Process View Modeling Using the KSL</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ch6Entities.html"><a href="ch6Entities.html"><i class="fa fa-check"></i><b>6.1</b> What are Entities?</a></li>
<li class="chapter" data-level="6.2" data-path="pvIntro.html"><a href="pvIntro.html"><i class="fa fa-check"></i><b>6.2</b> The Process View</a></li>
<li class="chapter" data-level="6.3" data-path="understanding-ksl-processes-and-entities.html"><a href="understanding-ksl-processes-and-entities.html"><i class="fa fa-check"></i><b>6.3</b> Understanding KSL Processes and Entities</a></li>
<li class="chapter" data-level="6.4" data-path="examples-of-process-modeling.html"><a href="examples-of-process-modeling.html"><i class="fa fa-check"></i><b>6.4</b> Examples of Process Modeling</a></li>
<li class="chapter" data-level="6.5" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html"><i class="fa fa-check"></i><b>6.5</b> Modeling a STEM Career Mixer</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html#conceptualizing-the-system"><i class="fa fa-check"></i><b>6.5.1</b> Conceptualizing the System</a></li>
<li class="chapter" data-level="6.5.2" data-path="modeling-a-stem-career-mixer.html"><a href="modeling-a-stem-career-mixer.html#implementing-the-stem-mixer-model"><i class="fa fa-check"></i><b>6.5.2</b> Implementing the STEM Mixer Model</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="the-tie-dye-t-shirt-model.html"><a href="the-tie-dye-t-shirt-model.html"><i class="fa fa-check"></i><b>6.6</b> The Tie-Dye T-Shirt Model</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="the-tie-dye-t-shirt-model.html"><a href="the-tie-dye-t-shirt-model.html#ch4:TieDyeTShirtsSub1"><i class="fa fa-check"></i><b>6.6.1</b> Implementing the Tie-Dye T-Shirt Model</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="summary-2.html"><a href="summary-2.html"><i class="fa fa-check"></i><b>6.7</b> Summary</a></li>
<li class="chapter" data-level="6.8" data-path="exercises-5.html"><a href="exercises-5.html"><i class="fa fa-check"></i><b>6.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ch7AdvModeling.html"><a href="ch7AdvModeling.html"><i class="fa fa-check"></i><b>7</b> Advanced Event and Process View Modeling</a>
<ul>
<li class="chapter" data-level="7.1" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html"><i class="fa fa-check"></i><b>7.1</b> Modeling with Processes and Resources</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#modeling-space-with-resources"><i class="fa fa-check"></i><b>7.1.1</b> Modeling Space with Resources</a></li>
<li class="chapter" data-level="7.1.2" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#resource-pools"><i class="fa fa-check"></i><b>7.1.2</b> Resource Pools</a></li>
<li class="chapter" data-level="7.1.3" data-path="modeling-with-processes-and-resources.html"><a href="modeling-with-processes-and-resources.html#computer-test-and-repair-shop-example"><i class="fa fa-check"></i><b>7.1.3</b> Computer Test and Repair Shop Example</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html"><i class="fa fa-check"></i><b>7.2</b> Modeling Non-Stationary Systems</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#ch7secNSPP"><i class="fa fa-check"></i><b>7.2.1</b> Non-Stationary Arrival Processes</a></li>
<li class="chapter" data-level="7.2.2" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#modeling-resources-under-non-stationary-conditions"><i class="fa fa-check"></i><b>7.2.2</b> Modeling Resources Under Non-Stationary Conditions</a></li>
<li class="chapter" data-level="7.2.3" data-path="modeling-non-stationary-systems.html"><a href="modeling-non-stationary-systems.html#enhancing-the-stem-career-mixer-model"><i class="fa fa-check"></i><b>7.2.3</b> Enhancing the STEM Career Mixer Model</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html"><i class="fa fa-check"></i><b>7.3</b> Examples of Advanced Event Models</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html#ch6s1sb4sub3"><i class="fa fa-check"></i><b>7.3.1</b> Modeling Balking and Reneging</a></li>
<li class="chapter" data-level="7.3.2" data-path="examples-of-advanced-event-models.html"><a href="examples-of-advanced-event-models.html#rqModel"><i class="fa fa-check"></i><b>7.3.2</b> Modeling a Reorder Point, Reorder Quantity Inventory Policy</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="summary-3.html"><a href="summary-3.html"><i class="fa fa-check"></i><b>7.4</b> Summary</a></li>
<li class="chapter" data-level="7.5" data-path="exercises-6.html"><a href="exercises-6.html"><i class="fa fa-check"></i><b>7.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ch9AdvMC.html"><a href="ch9AdvMC.html"><i class="fa fa-check"></i><b>8</b> Advanced Monte Carlo Methods</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ch9BootStrapping.html"><a href="ch9BootStrapping.html"><i class="fa fa-check"></i><b>8.1</b> Bootstrap Methods</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="ch9BootStrapping.html"><a href="ch9BootStrapping.html#bootstrapping-using-the-ksl"><i class="fa fa-check"></i><b>8.1.1</b> Bootstrapping Using the KSL</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="ch9VRTs.html"><a href="ch9VRTs.html"><i class="fa fa-check"></i><b>8.2</b> Variance Reduction Techniques</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="ch9VRTs.html"><a href="ch9VRTs.html#common-random-numbers-crn"><i class="fa fa-check"></i><b>8.2.1</b> Common Random Numbers (CRN)</a></li>
<li class="chapter" data-level="8.2.2" data-path="ch9VRTs.html"><a href="ch9VRTs.html#antithetic-variates-av"><i class="fa fa-check"></i><b>8.2.2</b> Antithetic Variates (AV)</a></li>
<li class="chapter" data-level="8.2.3" data-path="ch9VRTs.html"><a href="ch9VRTs.html#indirect-estimation"><i class="fa fa-check"></i><b>8.2.3</b> Indirect Estimation</a></li>
<li class="chapter" data-level="8.2.4" data-path="ch9VRTs.html"><a href="ch9VRTs.html#control-variates-cv"><i class="fa fa-check"></i><b>8.2.4</b> Control Variates (CV)</a></li>
<li class="chapter" data-level="8.2.5" data-path="ch9VRTs.html"><a href="ch9VRTs.html#stratified-and-post-stratified-sampling"><i class="fa fa-check"></i><b>8.2.5</b> Stratified and Post Stratified Sampling</a></li>
<li class="chapter" data-level="8.2.6" data-path="ch9VRTs.html"><a href="ch9VRTs.html#conditional-expectation-ce"><i class="fa fa-check"></i><b>8.2.6</b> Conditional Expectation (CE)</a></li>
<li class="chapter" data-level="8.2.7" data-path="ch9VRTs.html"><a href="ch9VRTs.html#importance-sampling-is"><i class="fa fa-check"></i><b>8.2.7</b> Importance Sampling (IS)</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html"><i class="fa fa-check"></i><b>8.3</b> Generating Multi-Variate and Correlated Random Variates</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#generating-from-a-bivariate-normal-distribution"><i class="fa fa-check"></i><b>8.3.1</b> Generating from a Bivariate Normal Distribution</a></li>
<li class="chapter" data-level="8.3.2" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#copulas-and-multi-variate-generation-methods"><i class="fa fa-check"></i><b>8.3.2</b> Copulas and Multi-variate Generation Methods</a></li>
<li class="chapter" data-level="8.3.3" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#autocorrelated-generation"><i class="fa fa-check"></i><b>8.3.3</b> Autocorrelated Generation</a></li>
<li class="chapter" data-level="8.3.4" data-path="ch9GMVRVs.html"><a href="ch9GMVRVs.html#ch9MCMC"><i class="fa fa-check"></i><b>8.3.4</b> Introduction to Markov Chain Monte Carlo Methods</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="summary-4.html"><a href="summary-4.html"><i class="fa fa-check"></i><b>8.4</b> Summary</a></li>
<li class="chapter" data-level="8.5" data-path="exercises-7.html"><a href="exercises-7.html"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appRNRV.html"><a href="appRNRV.html"><i class="fa fa-check"></i><b>A</b> Generating Pseudo-Random Numbers and Random Variates</a>
<ul>
<li class="chapter" data-level="A.1" data-path="appRNRVPRN.html"><a href="appRNRVPRN.html"><i class="fa fa-check"></i><b>A.1</b> Pseudo Random Numbers</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="appRNRVPRN.html"><a href="appRNRVPRN.html#appRNRVRNGs"><i class="fa fa-check"></i><b>A.1.1</b> Random Number Generators</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="appRNRVs.html"><a href="appRNRVs.html"><i class="fa fa-check"></i><b>A.2</b> Generating Random Variates from Distributions</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="appRNRVs.html"><a href="appRNRVs.html#inverse-transform-method"><i class="fa fa-check"></i><b>A.2.1</b> Inverse Transform Method</a></li>
<li class="chapter" data-level="A.2.2" data-path="appRNRVs.html"><a href="appRNRVs.html#convolution"><i class="fa fa-check"></i><b>A.2.2</b> Convolution</a></li>
<li class="chapter" data-level="A.2.3" data-path="appRNRVs.html"><a href="appRNRVs.html#acceptancerejection"><i class="fa fa-check"></i><b>A.2.3</b> Acceptance/Rejection</a></li>
<li class="chapter" data-level="A.2.4" data-path="appRNRVs.html"><a href="appRNRVs.html#AppRNRVsubsecMTSRV"><i class="fa fa-check"></i><b>A.2.4</b> Mixture Distributions, Truncated Distributions, and Shifted Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="summary-5.html"><a href="summary-5.html"><i class="fa fa-check"></i><b>A.3</b> Summary</a></li>
<li class="chapter" data-level="A.4" data-path="exercises-8.html"><a href="exercises-8.html"><i class="fa fa-check"></i><b>A.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appidm.html"><a href="appidm.html"><i class="fa fa-check"></i><b>B</b> Probability Distribution Modeling</a>
<ul>
<li class="chapter" data-level="B.1" data-path="appidmsecrvPD.html"><a href="appidmsecrvPD.html"><i class="fa fa-check"></i><b>B.1</b> Random Variables and Probability Distributions</a></li>
<li class="chapter" data-level="B.2" data-path="appidmsecMDD.html"><a href="appidmsecMDD.html"><i class="fa fa-check"></i><b>B.2</b> Modeling with Discrete Distributions</a></li>
<li class="chapter" data-level="B.3" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html"><i class="fa fa-check"></i><b>B.3</b> Fitting Discrete Distributions</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#AppDisFitPoissonFit"><i class="fa fa-check"></i><b>B.3.1</b> Fitting a Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.2" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#visualizing-the-data"><i class="fa fa-check"></i><b>B.3.2</b> Visualizing the Data</a></li>
<li class="chapter" data-level="B.3.3" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#estimating-the-rate-parameter-for-the-poisson-distribution"><i class="fa fa-check"></i><b>B.3.3</b> Estimating the Rate Parameter for the Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.4" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#chi-squared-goodness-of-fit-test-for-poisson-distribution"><i class="fa fa-check"></i><b>B.3.4</b> Chi-Squared Goodness of Fit Test for Poisson Distribution</a></li>
<li class="chapter" data-level="B.3.5" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#subsubchisqGOF"><i class="fa fa-check"></i><b>B.3.5</b> Chi-Squared Goodness of Fit Test</a></li>
<li class="chapter" data-level="B.3.6" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#using-the-fitdistrplus-r-package-on-discrete-data"><i class="fa fa-check"></i><b>B.3.6</b> Using the fitdistrplus R Package on Discrete Data</a></li>
<li class="chapter" data-level="B.3.7" data-path="appidmsecfitDiscrete.html"><a href="appidmsecfitDiscrete.html#fitting-a-discrete-empirical-distribution"><i class="fa fa-check"></i><b>B.3.7</b> Fitting a Discrete Empirical Distribution</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="appidmsecMCD.html"><a href="appidmsecMCD.html"><i class="fa fa-check"></i><b>B.4</b> Modeling with Continuous Distributions</a></li>
<li class="chapter" data-level="B.5" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html"><i class="fa fa-check"></i><b>B.5</b> Fitting Continuous Distributions</a>
<ul>
<li class="chapter" data-level="B.5.1" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecvisualizedata"><i class="fa fa-check"></i><b>B.5.1</b> Visualizing the Data</a></li>
<li class="chapter" data-level="B.5.2" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecstatsdata"><i class="fa fa-check"></i><b>B.5.2</b> Statistically Summarize the Data</a></li>
<li class="chapter" data-level="B.5.3" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsechypothDist"><i class="fa fa-check"></i><b>B.5.3</b> Hypothesizing and Testing a Distribution</a></li>
<li class="chapter" data-level="B.5.4" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#kolmogorov-smirnov-test"><i class="fa fa-check"></i><b>B.5.4</b> Kolmogorov-Smirnov Test</a></li>
<li class="chapter" data-level="B.5.5" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidmsubsecvisFit"><i class="fa fa-check"></i><b>B.5.5</b> Visualizing the Fit</a></li>
<li class="chapter" data-level="B.5.6" data-path="appidmsecfitContinuous.html"><a href="appidmsecfitContinuous.html#appidms2sb3"><i class="fa fa-check"></i><b>B.5.6</b> Using the Input Analyzer</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html"><i class="fa fa-check"></i><b>B.6</b> Testing Uniform (0,1) Pseudo-Random Numbers</a>
<ul>
<li class="chapter" data-level="B.6.1" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#chi-squared-goodness-of-fit-tests-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.1</b> Chi-Squared Goodness of Fit Tests for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="B.6.2" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#higher-dimensional-chi-squared-test"><i class="fa fa-check"></i><b>B.6.2</b> Higher Dimensional Chi-Squared Test</a></li>
<li class="chapter" data-level="B.6.3" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#kolmogorov-smirnov-test-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.3</b> Kolmogorov-Smirnov Test for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="B.6.4" data-path="appdistfittestU01.html"><a href="appdistfittestU01.html#testing-for-independence-and-patterns-in-pseudo-random-numbers"><i class="fa fa-check"></i><b>B.6.4</b> Testing for Independence and Patterns in Pseudo-Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="B.7" data-path="appdistfitidms2sb4.html"><a href="appdistfitidms2sb4.html"><i class="fa fa-check"></i><b>B.7</b> Additional Distribution Modeling Concepts</a></li>
<li class="chapter" data-level="B.8" data-path="appidmSummary.html"><a href="appidmSummary.html"><i class="fa fa-check"></i><b>B.8</b> Summary</a></li>
<li class="chapter" data-level="B.9" data-path="exercises-9.html"><a href="exercises-9.html"><i class="fa fa-check"></i><b>B.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="appqtAndInvT.html"><a href="appqtAndInvT.html"><i class="fa fa-check"></i><b>C</b> Queueing Theory</a>
<ul>
<li class="chapter" data-level="C.1" data-path="appqts1.html"><a href="appqts1.html"><i class="fa fa-check"></i><b>C.1</b> Single Line Queueing Stations</a>
<ul>
<li class="chapter" data-level="C.1.1" data-path="appqts1.html"><a href="appqts1.html#queueing-notation"><i class="fa fa-check"></i><b>C.1.1</b> Queueing Notation</a></li>
<li class="chapter" data-level="C.1.2" data-path="appqts1.html"><a href="appqts1.html#littles-formula"><i class="fa fa-check"></i><b>C.1.2</b> Little’s Formula</a></li>
<li class="chapter" data-level="C.1.3" data-path="appqts1.html"><a href="appqts1.html#appqts1sb1"><i class="fa fa-check"></i><b>C.1.3</b> Deriving Formulas for Markovian Single Queue Systems</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="appqts1sb2.html"><a href="appqts1sb2.html"><i class="fa fa-check"></i><b>C.2</b> Examples and Applications of Queueing Analysis</a>
<ul>
<li class="chapter" data-level="C.2.1" data-path="appqts1sb2.html"><a href="appqts1sb2.html#infinite-queue-examples"><i class="fa fa-check"></i><b>C.2.1</b> Infinite Queue Examples</a></li>
<li class="chapter" data-level="C.2.2" data-path="appqts1sb2.html"><a href="appqts1sb2.html#finite-queue-examples"><i class="fa fa-check"></i><b>C.2.2</b> Finite Queue Examples</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="appqts1sb3.html"><a href="appqts1sb3.html"><i class="fa fa-check"></i><b>C.3</b> Non-Markovian Queues and Approximations</a></li>
<li class="chapter" data-level="C.4" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html"><i class="fa fa-check"></i><b>C.4</b> Summary of Queueing Formulas</a>
<ul>
<li class="chapter" data-level="C.4.1" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1-queue"><i class="fa fa-check"></i><b>C.4.1</b> M/M/1 Queue</a></li>
<li class="chapter" data-level="C.4.2" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmc-queue"><i class="fa fa-check"></i><b>C.4.2</b> M/M/c Queue</a></li>
<li class="chapter" data-level="C.4.3" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmck-queue"><i class="fa fa-check"></i><b>C.4.3</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="C.4.4" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mgcc-queue"><i class="fa fa-check"></i><b>C.4.4</b> M/G/c/c Queue</a></li>
<li class="chapter" data-level="C.4.5" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1k-queue"><i class="fa fa-check"></i><b>C.4.5</b> M/M/1/k Queue</a></li>
<li class="chapter" data-level="C.4.6" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmck-queue-1"><i class="fa fa-check"></i><b>C.4.6</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="C.4.7" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mm1kk-queue"><i class="fa fa-check"></i><b>C.4.7</b> M/M/1/k/k Queue</a></li>
<li class="chapter" data-level="C.4.8" data-path="appqtsecformulas.html"><a href="appqtsecformulas.html#mmckk-queue"><i class="fa fa-check"></i><b>C.4.8</b> M/M/c/k/k Queue</a></li>
</ul></li>
<li class="chapter" data-level="C.5" data-path="exercises-10.html"><a href="exercises-10.html"><i class="fa fa-check"></i><b>C.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="appUtilities.html"><a href="appUtilities.html"><i class="fa fa-check"></i><b>D</b> KSL Utility Packages</a>
<ul>
<li class="chapter" data-level="D.1" data-path="the-outputdirectory-class-and-ksl-object.html"><a href="the-outputdirectory-class-and-ksl-object.html"><i class="fa fa-check"></i><b>D.1</b> The <code>OutputDirectory</code> Class and <code>KSL</code> Object</a></li>
<li class="chapter" data-level="D.2" data-path="logging-options.html"><a href="logging-options.html"><i class="fa fa-check"></i><b>D.2</b> Logging Options</a></li>
<li class="chapter" data-level="D.3" data-path="the-kslfileutil-object.html"><a href="the-kslfileutil-object.html"><i class="fa fa-check"></i><b>D.3</b> The <code>KSLFileUtil</code> Object</a></li>
<li class="chapter" data-level="D.4" data-path="appDCSVEtc.html"><a href="appDCSVEtc.html"><i class="fa fa-check"></i><b>D.4</b> CSV, Excel, and Tabular Data Files</a></li>
<li class="chapter" data-level="D.5" data-path="dfUtil.html"><a href="dfUtil.html"><i class="fa fa-check"></i><b>D.5</b> The <code>DataFrameUtil</code> Object</a></li>
<li class="chapter" data-level="D.6" data-path="ksl-database-utilities.html"><a href="ksl-database-utilities.html"><i class="fa fa-check"></i><b>D.6</b> KSL Database Utilities</a></li>
<li class="chapter" data-level="D.7" data-path="appUtilitiesArrays.html"><a href="appUtilitiesArrays.html"><i class="fa fa-check"></i><b>D.7</b> Array Utilities</a></li>
<li class="chapter" data-level="D.8" data-path="appPlotting.html"><a href="appPlotting.html"><i class="fa fa-check"></i><b>D.8</b> KSL Plotting Utilities</a></li>
<li class="chapter" data-level="D.9" data-path="appExpDesign.html"><a href="appExpDesign.html"><i class="fa fa-check"></i><b>D.9</b> Experimental Design Utilities</a></li>
<li class="chapter" data-level="D.10" data-path="appUtilitiesMisc.html"><a href="appUtilitiesMisc.html"><i class="fa fa-check"></i><b>D.10</b> Miscellaneous Utilities</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>E</b> Distributions</a>
<ul>
<li class="chapter" data-level="E.1" data-path="appDiscreteDistributions.html"><a href="appDiscreteDistributions.html"><i class="fa fa-check"></i><b>E.1</b> Discrete Distrbutions</a></li>
<li class="chapter" data-level="E.2" data-path="appContinuousDistributions.html"><a href="appContinuousDistributions.html"><i class="fa fa-check"></i><b>E.2</b> Continuous Distrbutions</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="appStatTables.html"><a href="appStatTables.html"><i class="fa fa-check"></i><b>F</b> Statistical Tables</a></li>
<li class="chapter" data-level="G" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>G</b> References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Simulation Modeling using the Kotlin Simulation Library (KSL)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simoafinhorizonex" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Capturing Output for a Simple Finite Horizon Simulation<a href="simoafinhorizonex.html#simoafinhorizonex" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we will build a model for a simple finite horizon simulation with a couple of new modeling issues to handle. However, the primary focus of this section is to illustrate how to capture and report statistical results using the KSL. Let’s start with an outline of the example system to be modeled.</p>
<hr />
<div class="example">
<p><span id="exm:simpleFHS" class="example"><strong>Example 5.1  (Pallet Processing Work Center) </strong></span>A truckload of pallets arrives overnight to a facility. Within the truck there are a random number of pallets. The number of pallets can be modeled with a binomial random variable with mean of 80 and a variance of 16. This translates to parameters <span class="math inline">\(n=100\)</span> and <span class="math inline">\(p=0.8\)</span>. Each individual pallet is unloaded and transported to a work center for processing, one at a time, sequentially until all pallets are delivered. The unloading and transport time is exponentially distributed with a mean of 5 minutes. Once a pallet arrives at the workcenter it requires 1 of 2 workers to be processed. If a worker is available, the pallet is immediately processed by a worker. If no workers are available, the pallet waits in a FIFO line until a worker becomes available. The time to process the pallet involves breaking down and processing each package on the pallet. The time to process an entire pallet can be modeled with a triangular distribution with a minimum time of 8 minutes, a most likely time of 12 minutes, and a maximum time of 15 minutes. The work at the workcenter continues until all pallets are processed for the day. The facility manager is interested in how long the pallets wait at the workcenter and how long it takes for all pallets to be completed on a given day. In addition, the manager is interested in the probability that there is overtime. That is, the chance that the total time to process the pallets is more than 480 minutes.</p>
</div>
<hr />
<p>This example is a finite horizon simulation because there are a finite (but random) number of pallets to be processed such that the simulation will run until all pallets are processed. The system starts with an arrival of a random number of pallets, that are then processed until all pallets are completed. Therefore there is a well defined starting and ending point for the simulation. Although we do no know when the simulation will end, there is a well-specified condition (all pallets processed) that governs the ending of the simulation. Thus, while the time horizon may be random, it is still finite. Conceptually, this modeling situation is very similar to the pharmacy model discussed in Section <a href="introDEDSdedsKSL.html#introDEDSPharmacy">4.4.4</a>. Thus, the implementation of the model will be very similar to the pharmacy model example, but with a couple of minor differences to handle the finite number of pallets that arrive and to capture statistics about the total processing time. The full code is available with the examples. This presentation focuses on new concepts.</p>
<p>As for previous modeling, we define and use random variables to represent the randomness within the model.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb151-1"><a href="simoafinhorizonex.html#cb151-1" tabindex="-1"></a><span class="kw">class</span> PalletWorkCenter<span class="op">(</span></span>
<span id="cb151-2"><a href="simoafinhorizonex.html#cb151-2" tabindex="-1"></a>    <span class="va">parent</span><span class="op">:</span> <span class="dt">ModelElement</span><span class="op">,</span></span>
<span id="cb151-3"><a href="simoafinhorizonex.html#cb151-3" tabindex="-1"></a>    <span class="va">numWorkers</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb151-4"><a href="simoafinhorizonex.html#cb151-4" tabindex="-1"></a>    <span class="va">numPallets</span><span class="op">:</span> <span class="dt">RandomIfc</span> <span class="op">=</span> BinomialRV<span class="op">(</span><span class="fl">0.8</span>, <span class="dv">100</span>, <span class="dv">1</span><span class="op">),</span></span>
<span id="cb151-5"><a href="simoafinhorizonex.html#cb151-5" tabindex="-1"></a>    <span class="va">transportTime</span><span class="op">:</span> <span class="dt">RandomIfc</span> <span class="op">=</span> ExponentialRV<span class="op">(</span><span class="fl">5.0</span>, <span class="dv">2</span><span class="op">),</span></span>
<span id="cb151-6"><a href="simoafinhorizonex.html#cb151-6" tabindex="-1"></a>    <span class="va">processingTime</span><span class="op">:</span> <span class="dt">RandomIfc</span> <span class="op">=</span> TriangularRV<span class="op">(</span><span class="fl">8.0</span>, <span class="fl">12.0</span>, <span class="fl">15.0</span>, <span class="dv">3</span><span class="op">)</span></span>
<span id="cb151-7"><a href="simoafinhorizonex.html#cb151-7" tabindex="-1"></a><span class="op">)</span> <span class="op">:</span></span>
<span id="cb151-8"><a href="simoafinhorizonex.html#cb151-8" tabindex="-1"></a>    <span class="dt">ModelElement</span><span class="op">(</span><span class="va">parent</span><span class="op">,</span> <span class="va">theName</span> <span class="op">=</span> null<span class="op">)</span> <span class="op">{</span></span>
<span id="cb151-9"><a href="simoafinhorizonex.html#cb151-9" tabindex="-1"></a>    </span>
<span id="cb151-10"><a href="simoafinhorizonex.html#cb151-10" tabindex="-1"></a>    init <span class="op">{</span></span>
<span id="cb151-11"><a href="simoafinhorizonex.html#cb151-11" tabindex="-1"></a>        require<span class="op">(</span>numWorkers <span class="op">&gt;=</span> <span class="dv">1</span><span class="op">)</span> <span class="op">{</span> <span class="st">&quot;The number of workers must be &gt;= 1&quot;</span> <span class="op">}</span></span>
<span id="cb151-12"><a href="simoafinhorizonex.html#cb151-12" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb151-13"><a href="simoafinhorizonex.html#cb151-13" tabindex="-1"></a>    </span>
<span id="cb151-14"><a href="simoafinhorizonex.html#cb151-14" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myProcessingTimeRV</span><span class="op">:</span> RandomVariable <span class="op">=</span> RandomVariable<span class="op">(</span><span class="kw">this</span><span class="op">,</span> processingTime<span class="op">)</span></span>
<span id="cb151-15"><a href="simoafinhorizonex.html#cb151-15" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">processingTimeRV</span><span class="op">:</span> RandomSourceCIfc</span>
<span id="cb151-16"><a href="simoafinhorizonex.html#cb151-16" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> myProcessingTimeRV</span>
<span id="cb151-17"><a href="simoafinhorizonex.html#cb151-17" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myTransportTimeRV</span><span class="op">:</span> RandomVariable <span class="op">=</span> RandomVariable<span class="op">(</span>parent<span class="op">,</span> transportTime<span class="op">)</span></span>
<span id="cb151-18"><a href="simoafinhorizonex.html#cb151-18" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">transportTimeRV</span><span class="op">:</span> RandomSourceCIfc</span>
<span id="cb151-19"><a href="simoafinhorizonex.html#cb151-19" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> myTransportTimeRV</span>
<span id="cb151-20"><a href="simoafinhorizonex.html#cb151-20" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myNumPalletsRV</span><span class="op">:</span> RandomVariable <span class="op">=</span> RandomVariable<span class="op">(</span>parent<span class="op">,</span> numPallets<span class="op">)</span></span>
<span id="cb151-21"><a href="simoafinhorizonex.html#cb151-21" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">numPalletsRV</span><span class="op">:</span> RandomSourceCIfc</span>
<span id="cb151-22"><a href="simoafinhorizonex.html#cb151-22" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> myNumPalletsRV</span></code></pre></div>
<p>Notice that we defined the random variables as default parameters of the constructor and assign them to relevant properties within the class body. To capture the total time to process the pallets and the probability of overtime, we define two response variables. Notice that the probability of overtime is implemented as an <code>IndicatorResponse</code> that observes the total processing time.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb152-1"><a href="simoafinhorizonex.html#cb152-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myTotalProcessingTime</span> <span class="op">=</span> Response<span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="st">&quot;Total Processing Time&quot;</span><span class="op">)</span></span>
<span id="cb152-2"><a href="simoafinhorizonex.html#cb152-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">totalProcessingTime</span><span class="op">:</span> ResponseCIfc</span>
<span id="cb152-3"><a href="simoafinhorizonex.html#cb152-3" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> myTotalProcessingTime</span>
<span id="cb152-4"><a href="simoafinhorizonex.html#cb152-4" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">myOverTime</span><span class="op">:</span> IndicatorResponse <span class="op">=</span> IndicatorResponse<span class="op">({</span> x <span class="op">-&gt;</span> x <span class="op">&gt;=</span> <span class="fl">480.0</span> <span class="op">},</span> myTotalProcessingTime<span class="op">,</span> <span class="st">&quot;P{total time &gt; 480 minutes}&quot;</span><span class="op">)</span></span>
<span id="cb152-5"><a href="simoafinhorizonex.html#cb152-5" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">probOfOverTime</span><span class="op">:</span> ResponseCIfc</span>
<span id="cb152-6"><a href="simoafinhorizonex.html#cb152-6" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> myOverTime</span></code></pre></div>
<p>The main logic of arrivals to the work center and completions of the pallets is essentially the same as previously discussed. The main difference here is that there is a finite number of pallets that need to be created. While there are many ways to represent this situation (e.g. use an <code>EventGenerator</code>), this presentation keeps it simple. The first two lines of this code snippet, capture the functional references for the end of service and end of transport event actions. We have seen this kind of code before. Then, a variable, <code>numToProcess,</code> is defined. This variable will hold the randomly generated number of pallets to process and is assigned in the <code>initialize()</code> method. Within the <code>initialize()</code> method, the transport of the first pallet is scheduled with the provided transport time random variable.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb153-1"><a href="simoafinhorizonex.html#cb153-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">endServiceEvent</span> <span class="op">=</span> <span class="kw">this</span><span class="op">::</span>endOfService</span>
<span id="cb153-2"><a href="simoafinhorizonex.html#cb153-2" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">val</span> <span class="va">endTransportEvent</span> <span class="op">=</span> <span class="kw">this</span><span class="op">::</span>endTransport</span>
<span id="cb153-3"><a href="simoafinhorizonex.html#cb153-3" tabindex="-1"></a>    </span>
<span id="cb153-4"><a href="simoafinhorizonex.html#cb153-4" tabindex="-1"></a>    <span class="kw">var</span> <span class="va">numToProcess</span><span class="op">:</span> <span class="kw">Int</span> <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb153-5"><a href="simoafinhorizonex.html#cb153-5" tabindex="-1"></a>    </span>
<span id="cb153-6"><a href="simoafinhorizonex.html#cb153-6" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">initialize</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb153-7"><a href="simoafinhorizonex.html#cb153-7" tabindex="-1"></a>        numToProcess <span class="op">=</span> myNumPalletsRV<span class="op">.</span>value<span class="op">.</span>toInt<span class="op">()</span></span>
<span id="cb153-8"><a href="simoafinhorizonex.html#cb153-8" tabindex="-1"></a>        schedule<span class="op">(</span>endTransportEvent<span class="op">,</span> myTransportTimeRV<span class="op">)</span></span>
<span id="cb153-9"><a href="simoafinhorizonex.html#cb153-9" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb153-10"><a href="simoafinhorizonex.html#cb153-10" tabindex="-1"></a></span>
<span id="cb153-11"><a href="simoafinhorizonex.html#cb153-11" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">fun</span> <span class="fu">endTransport</span><span class="op">(</span><span class="va">event</span><span class="op">:</span> <span class="dt">KSLEvent</span>&lt;<span class="va">Nothing</span>&gt;<span class="op">)</span> <span class="op">{</span></span>
<span id="cb153-12"><a href="simoafinhorizonex.html#cb153-12" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>numToProcess <span class="op">&gt;=</span> <span class="dv">1</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb153-13"><a href="simoafinhorizonex.html#cb153-13" tabindex="-1"></a>            schedule<span class="op">(</span>endTransportEvent<span class="op">,</span> myTransportTimeRV<span class="op">)</span></span>
<span id="cb153-14"><a href="simoafinhorizonex.html#cb153-14" tabindex="-1"></a>            numToProcess <span class="op">=</span> numToProcess <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb153-15"><a href="simoafinhorizonex.html#cb153-15" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb153-16"><a href="simoafinhorizonex.html#cb153-16" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">pallet</span> <span class="op">=</span> QObject<span class="op">()</span></span>
<span id="cb153-17"><a href="simoafinhorizonex.html#cb153-17" tabindex="-1"></a>        arrivalAtWorkCenter<span class="op">(</span>pallet<span class="op">)</span></span>
<span id="cb153-18"><a href="simoafinhorizonex.html#cb153-18" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>The <code>endTransport</code> event action checks to see if there are more pallets to transport and if so schedules the end of the next transport. In addition, it creates a <code>QObject</code> that is sent to the work center for processing via the <code>arrivalAtWorkCenter</code> method. As shown in the following code, the arrival and end of service actions are essentially the same as in the previous pharmacy example.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb154-1"><a href="simoafinhorizonex.html#cb154-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">fun</span> <span class="fu">arrivalAtWorkCenter</span><span class="op">(</span><span class="va">pallet</span><span class="op">:</span> <span class="dt">QObject</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb154-2"><a href="simoafinhorizonex.html#cb154-2" tabindex="-1"></a>        myNS<span class="op">.</span>increment<span class="op">()</span> <span class="co">// new pallet arrived</span></span>
<span id="cb154-3"><a href="simoafinhorizonex.html#cb154-3" tabindex="-1"></a>        myPalletQ<span class="op">.</span>enqueue<span class="op">(</span>pallet<span class="op">)</span> <span class="co">// enqueue the newly arriving pallet</span></span>
<span id="cb154-4"><a href="simoafinhorizonex.html#cb154-4" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>myNumBusy<span class="op">.</span>value <span class="op">&lt;</span> numWorkers<span class="op">)</span> <span class="op">{</span> <span class="co">// server available</span></span>
<span id="cb154-5"><a href="simoafinhorizonex.html#cb154-5" tabindex="-1"></a>            myNumBusy<span class="op">.</span>increment<span class="op">()</span> <span class="co">// make server busy</span></span>
<span id="cb154-6"><a href="simoafinhorizonex.html#cb154-6" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">nextPallet</span><span class="op">:</span> QObject<span class="op">?</span> <span class="op">=</span> myPalletQ<span class="op">.</span>removeNext<span class="op">()</span> <span class="co">//remove the next pallet</span></span>
<span id="cb154-7"><a href="simoafinhorizonex.html#cb154-7" tabindex="-1"></a>            <span class="co">// schedule end of service, include the pallet as the event&#39;s message</span></span>
<span id="cb154-8"><a href="simoafinhorizonex.html#cb154-8" tabindex="-1"></a>            schedule<span class="op">(</span>endServiceEvent<span class="op">,</span> myProcessingTimeRV<span class="op">,</span> nextPallet<span class="op">)</span></span>
<span id="cb154-9"><a href="simoafinhorizonex.html#cb154-9" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb154-10"><a href="simoafinhorizonex.html#cb154-10" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb154-11"><a href="simoafinhorizonex.html#cb154-11" tabindex="-1"></a></span>
<span id="cb154-12"><a href="simoafinhorizonex.html#cb154-12" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">fun</span> <span class="fu">endOfService</span><span class="op">(</span><span class="va">event</span><span class="op">:</span> <span class="dt">KSLEvent</span>&lt;<span class="va">QObject</span>&gt;<span class="op">)</span> <span class="op">{</span></span>
<span id="cb154-13"><a href="simoafinhorizonex.html#cb154-13" tabindex="-1"></a>        myNumBusy<span class="op">.</span>decrement<span class="op">()</span> <span class="co">// pallet is leaving server is freed</span></span>
<span id="cb154-14"><a href="simoafinhorizonex.html#cb154-14" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(!</span>myPalletQ<span class="op">.</span>isEmpty<span class="op">)</span> <span class="op">{</span> <span class="co">// queue is not empty</span></span>
<span id="cb154-15"><a href="simoafinhorizonex.html#cb154-15" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">nextPallet</span><span class="op">:</span> QObject<span class="op">?</span> <span class="op">=</span> myPalletQ<span class="op">.</span>removeNext<span class="op">()</span> <span class="co">//remove the next pallet</span></span>
<span id="cb154-16"><a href="simoafinhorizonex.html#cb154-16" tabindex="-1"></a>            myNumBusy<span class="op">.</span>increment<span class="op">()</span> <span class="co">// make server busy</span></span>
<span id="cb154-17"><a href="simoafinhorizonex.html#cb154-17" tabindex="-1"></a>            <span class="co">// schedule end of service</span></span>
<span id="cb154-18"><a href="simoafinhorizonex.html#cb154-18" tabindex="-1"></a>            schedule<span class="op">(</span>endServiceEvent<span class="op">,</span> myProcessingTimeRV<span class="op">,</span> nextPallet<span class="op">)</span></span>
<span id="cb154-19"><a href="simoafinhorizonex.html#cb154-19" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb154-20"><a href="simoafinhorizonex.html#cb154-20" tabindex="-1"></a>        departSystem<span class="op">(</span>event<span class="op">.</span>message<span class="op">!!)</span></span>
<span id="cb154-21"><a href="simoafinhorizonex.html#cb154-21" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>Finally, we have the statistical collection code. The <code>departSystem</code> method captures the time in the system and the number of pallet processed. Howevever, we see something new within a method called <code>replicationEnded()</code></p>
<div class="sourceCode" id="cb155"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb155-1"><a href="simoafinhorizonex.html#cb155-1" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">fun</span> <span class="fu">departSystem</span><span class="op">(</span><span class="va">completedPallet</span><span class="op">:</span> <span class="dt">QObject</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb155-2"><a href="simoafinhorizonex.html#cb155-2" tabindex="-1"></a>        mySysTime<span class="op">.</span>value <span class="op">=</span> <span class="op">(</span>time <span class="op">-</span> completedPallet<span class="op">.</span>createTime<span class="op">)</span></span>
<span id="cb155-3"><a href="simoafinhorizonex.html#cb155-3" tabindex="-1"></a>        myNS<span class="op">.</span>decrement<span class="op">()</span> <span class="co">// pallet left system</span></span>
<span id="cb155-4"><a href="simoafinhorizonex.html#cb155-4" tabindex="-1"></a>        myNumProcessed<span class="op">.</span>increment<span class="op">()</span></span>
<span id="cb155-5"><a href="simoafinhorizonex.html#cb155-5" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb155-6"><a href="simoafinhorizonex.html#cb155-6" tabindex="-1"></a></span>
<span id="cb155-7"><a href="simoafinhorizonex.html#cb155-7" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">replicationEnded</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb155-8"><a href="simoafinhorizonex.html#cb155-8" tabindex="-1"></a>        myTotalProcessingTime<span class="op">.</span>value <span class="op">=</span> time</span>
<span id="cb155-9"><a href="simoafinhorizonex.html#cb155-9" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>Recall the overview of how the underlying simulation code is processed from Section <a href="introDEDSdedsKSL.html#introDEDSOverview">4.4.2.2</a> of Chapter <a href="introDEDS.html#introDEDS">4</a>. Step 2(e) of that discussion notes that the actions associated with the end of replication logic is automatically executed. Just like the <code>initialize()</code> method every model element has a <code>replicationEnded()</code> method. This method is called automatically for every model element infinitesimally before the end of the simulation replication. Thus, statistical collection can be implemented without the concern that the statistical accumulators will be cleared <em>after</em> the replication. Thus, observations within the <code>replicationEnded()</code> method are still within the replication (i.e. they produce within replication data). In the above code snippet, the <code>Response</code> <code>myTotalProcessingTime</code> is assigned the current simulation time, which happens to be the time at which the processing of the pallets was completed. This occurs because after the appropriate number of transports are scheduled, no further pallets arrive to be processed at the work center. Thus, eventually, there will be no more events to process, and according to Step 2(d) of Section <a href="introDEDSdedsKSL.html#introDEDSOverview">4.4.2.2</a>, this will cause the execution of the current replication to stop and proceed with any end of replication model logic. Thus, this logic captures the total time to process the pallets. In addition, because an <code>IndicatorResponse</code> was also attached to <code>myTotalProcessingTime</code> the collection of the probability of over time will also be captured. The basic results of the model are as follows:</p>
<p><strong>Statistical Summary Report</strong></p>
<table>
<thead>
<tr class="header">
<th align="center">Name</th>
<th align="center">Count</th>
<th align="center">Average</th>
<th align="center">Half-Width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">NumBusyWorkers</td>
<td align="center">10.0</td>
<td align="center">1.9174709267367938</td>
<td align="center">0.04615844720276659</td>
</tr>
<tr class="even">
<td align="center">PalletQ:NumInQ</td>
<td align="center">10.0</td>
<td align="center">7.397061723049351</td>
<td align="center">2.18200524048673</td>
</tr>
<tr class="odd">
<td align="center">PalletQ:TimeInQ</td>
<td align="center">10.0</td>
<td align="center">44.65967086387171</td>
<td align="center">12.756611150942986</td>
</tr>
<tr class="even">
<td align="center">Num Pallets at WC</td>
<td align="center">10.0</td>
<td align="center">9.314532649786145</td>
<td align="center">2.2091925024424928</td>
</tr>
<tr class="odd">
<td align="center">System Time</td>
<td align="center">10.0</td>
<td align="center">56.32044792861602</td>
<td align="center">12.742871337228127</td>
</tr>
<tr class="even">
<td align="center">Total Processing Time</td>
<td align="center">10.0</td>
<td align="center">489.20830013021094</td>
<td align="center">16.326885695752644</td>
</tr>
<tr class="odd">
<td align="center">P{total time &gt; 480 minutes}</td>
<td align="center">10.0</td>
<td align="center">0.6</td>
<td align="center">0.369408717216522</td>
</tr>
<tr class="even">
<td align="center">Num Processed</td>
<td align="center">10.0</td>
<td align="center">80.4</td>
<td align="center">2.5054518188054615</td>
</tr>
</tbody>
</table>
<p>If you are paying attention to the presentation of previous summary statistics, you will notice that the last summary report is presented in a nice tabular format. This output was actually generated by the KSL class <code>SimulationReporter,</code> which can make MarkDown output. This and additional output capturing will be discussed in the next section.</p>
<div id="simoaCapture" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> KSL Functionality for Capturing Statistical Results<a href="simoafinhorizonex.html#simoaCapture" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This section presents a number of methods that can be used to capture and report the results from a KSL model. The following topics will be covered:</p>
<ul>
<li>Automatically capturing within and across replication results to comma separated value files</li>
<li>Capturing replication data via the <code>ReplicationDataCollector</code> class</li>
<li>Tracing a response variable via the <code>ResponseTrace</code> class</li>
<li>Using the <code>SimulationReporter</code> class to output results in MarkDown and adjusting the confidence level of the reports</li>
<li>Capturing all simulation results to a database using the <code>KSLDatabaseObserver</code> class and illustrating how to get results from the database</li>
</ul>
<p>These topics will be discussed within the context of the pallet example of the previous section. The main method for running the pallet example was expanded to illustrate additional data collection functionality. It is unlikely that you will want to capture results both as comma separated value files and using a database, but both approaches are illustrated. If you are familiar with database technologies, then using the database will likely serve most if not all of your needs.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb156-1"><a href="simoafinhorizonex.html#cb156-1" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb156-2"><a href="simoafinhorizonex.html#cb156-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">model</span> <span class="op">=</span> Model<span class="op">(</span><span class="st">&quot;Pallet Processing&quot;</span><span class="op">,</span> autoCSVReports <span class="op">=</span> <span class="kw">true</span><span class="op">)</span></span>
<span id="cb156-3"><a href="simoafinhorizonex.html#cb156-3" tabindex="-1"></a>    model<span class="op">.</span>numberOfReplications <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb156-4"><a href="simoafinhorizonex.html#cb156-4" tabindex="-1"></a>    model<span class="op">.</span>experimentName <span class="op">=</span> <span class="st">&quot;Two Workers&quot;</span></span>
<span id="cb156-5"><a href="simoafinhorizonex.html#cb156-5" tabindex="-1"></a>    <span class="co">// add the model element to the main model</span></span>
<span id="cb156-6"><a href="simoafinhorizonex.html#cb156-6" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">palletWorkCenter</span> <span class="op">=</span> PalletWorkCenter<span class="op">(</span>model<span class="op">)</span></span>
<span id="cb156-7"><a href="simoafinhorizonex.html#cb156-7" tabindex="-1"></a></span>
<span id="cb156-8"><a href="simoafinhorizonex.html#cb156-8" tabindex="-1"></a>    <span class="co">// demonstrate how to capture a trace of a response variable</span></span>
<span id="cb156-9"><a href="simoafinhorizonex.html#cb156-9" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">trace</span> <span class="op">=</span> ResponseTrace<span class="op">(</span>palletWorkCenter<span class="op">.</span>numInSystem<span class="op">)</span></span>
<span id="cb156-10"><a href="simoafinhorizonex.html#cb156-10" tabindex="-1"></a></span>
<span id="cb156-11"><a href="simoafinhorizonex.html#cb156-11" tabindex="-1"></a>    <span class="co">// demonstrate capture of replication data for specific response variables</span></span>
<span id="cb156-12"><a href="simoafinhorizonex.html#cb156-12" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">repData</span> <span class="op">=</span> ReplicationDataCollector<span class="op">(</span>model<span class="op">)</span></span>
<span id="cb156-13"><a href="simoafinhorizonex.html#cb156-13" tabindex="-1"></a>    repData<span class="op">.</span>addResponse<span class="op">(</span>palletWorkCenter<span class="op">.</span>totalProcessingTime<span class="op">)</span></span>
<span id="cb156-14"><a href="simoafinhorizonex.html#cb156-14" tabindex="-1"></a>    repData<span class="op">.</span>addResponse<span class="op">(</span>palletWorkCenter<span class="op">.</span>probOfOverTime<span class="op">)</span></span>
<span id="cb156-15"><a href="simoafinhorizonex.html#cb156-15" tabindex="-1"></a></span>
<span id="cb156-16"><a href="simoafinhorizonex.html#cb156-16" tabindex="-1"></a>    <span class="co">// demonstrate capturing data to database with an observer</span></span>
<span id="cb156-17"><a href="simoafinhorizonex.html#cb156-17" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">kslDatabaseObserver</span> <span class="op">=</span> KSLDatabaseObserver<span class="op">(</span>model<span class="op">)</span></span>
<span id="cb156-18"><a href="simoafinhorizonex.html#cb156-18" tabindex="-1"></a></span>
<span id="cb156-19"><a href="simoafinhorizonex.html#cb156-19" tabindex="-1"></a>    <span class="co">// simulate the model</span></span>
<span id="cb156-20"><a href="simoafinhorizonex.html#cb156-20" tabindex="-1"></a>    model<span class="op">.</span>simulate<span class="op">()</span></span>
<span id="cb156-21"><a href="simoafinhorizonex.html#cb156-21" tabindex="-1"></a></span>
<span id="cb156-22"><a href="simoafinhorizonex.html#cb156-22" tabindex="-1"></a>    <span class="co">// demonstrate that reports can have specified confidence level</span></span>
<span id="cb156-23"><a href="simoafinhorizonex.html#cb156-23" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">sr</span> <span class="op">=</span> model<span class="op">.</span>simulationReporter</span>
<span id="cb156-24"><a href="simoafinhorizonex.html#cb156-24" tabindex="-1"></a>    sr<span class="op">.</span>printHalfWidthSummaryReport<span class="op">(</span>confLevel <span class="op">=</span> <span class="fl">.99</span><span class="op">)</span></span>
<span id="cb156-25"><a href="simoafinhorizonex.html#cb156-25" tabindex="-1"></a></span>
<span id="cb156-26"><a href="simoafinhorizonex.html#cb156-26" tabindex="-1"></a>    <span class="co">// show that report can be written to MarkDown as a table in the output directory</span></span>
<span id="cb156-27"><a href="simoafinhorizonex.html#cb156-27" tabindex="-1"></a>    <span class="kw">var</span> <span class="va">out</span> <span class="op">=</span> model<span class="op">.</span>outputDirectory<span class="op">.</span>createPrintWriter<span class="op">(</span><span class="st">&quot;hwSummary.md&quot;</span><span class="op">)</span></span>
<span id="cb156-28"><a href="simoafinhorizonex.html#cb156-28" tabindex="-1"></a>    sr<span class="op">.</span>writeHalfWidthSummaryReportAsMarkDown<span class="op">(</span><span class="kw">out</span><span class="op">)</span></span>
<span id="cb156-29"><a href="simoafinhorizonex.html#cb156-29" tabindex="-1"></a>    println<span class="op">()</span></span>
<span id="cb156-30"><a href="simoafinhorizonex.html#cb156-30" tabindex="-1"></a></span>
<span id="cb156-31"><a href="simoafinhorizonex.html#cb156-31" tabindex="-1"></a>    <span class="co">//output the collected replication data to prove it was captured</span></span>
<span id="cb156-32"><a href="simoafinhorizonex.html#cb156-32" tabindex="-1"></a>    println<span class="op">(</span>repData<span class="op">)</span></span>
<span id="cb156-33"><a href="simoafinhorizonex.html#cb156-33" tabindex="-1"></a></span>
<span id="cb156-34"><a href="simoafinhorizonex.html#cb156-34" tabindex="-1"></a>    <span class="co">// use the database to create a Kotlin DataFrame</span></span>
<span id="cb156-35"><a href="simoafinhorizonex.html#cb156-35" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">dataFrame</span> <span class="op">=</span> kslDatabaseObserver<span class="op">.</span>db<span class="op">.</span>acrossReplicationViewStatistics</span>
<span id="cb156-36"><a href="simoafinhorizonex.html#cb156-36" tabindex="-1"></a>    println<span class="op">(</span>dataFrame<span class="op">)</span></span>
<span id="cb156-37"><a href="simoafinhorizonex.html#cb156-37" tabindex="-1"></a></span>
<span id="cb156-38"><a href="simoafinhorizonex.html#cb156-38" tabindex="-1"></a>    model<span class="op">.</span>experimentName <span class="op">=</span> <span class="st">&quot;Three Workers&quot;</span></span>
<span id="cb156-39"><a href="simoafinhorizonex.html#cb156-39" tabindex="-1"></a>    palletWorkCenter<span class="op">.</span>numWorkers <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb156-40"><a href="simoafinhorizonex.html#cb156-40" tabindex="-1"></a>    model<span class="op">.</span>simulate<span class="op">()</span></span>
<span id="cb156-41"><a href="simoafinhorizonex.html#cb156-41" tabindex="-1"></a></span>
<span id="cb156-42"><a href="simoafinhorizonex.html#cb156-42" tabindex="-1"></a>    <span class="kw">out</span> <span class="op">=</span> model<span class="op">.</span>outputDirectory<span class="op">.</span>createPrintWriter<span class="op">(</span><span class="st">&quot;AcrossExperimentResults.md&quot;</span><span class="op">)</span></span>
<span id="cb156-43"><a href="simoafinhorizonex.html#cb156-43" tabindex="-1"></a>    kslDatabaseObserver<span class="op">.</span>db<span class="op">.</span>writeTableAsMarkdown<span class="op">(</span><span class="st">&quot;ACROSS_REP_VIEW&quot;</span><span class="op">,</span> <span class="kw">out</span><span class="op">)</span></span>
<span id="cb156-44"><a href="simoafinhorizonex.html#cb156-44" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Let’s start with automatically collecting responses within comma separated value (CSV) files and how to find them in the file system.</p>
<p>The first thing to note is how the output from a KSL simulation is organized. The KSL model class allows the user to specify the output directory for the model results. If the user does not specify an output directory, the default directory will be within a folder called <code>kslOutput</code> that will be created within the same folder that the model was executed. That is, the current working directory for the user. Within the <code>kslOutput</code> directory all KSL related work will be stored. In particular, a unique directory derived from the name of the simulation will be created to hold all the results from a particular simulation model’s execution. These locations can be changed, but the defaults are well-specified and useful.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:KSLOutputDir"></span>
<img src="figures2/ch5/Ch5Example1OutputDirectory.png" alt="Organization of KSL Output Directories"  />
<p class="caption">
Figure 5.2: Organization of KSL Output Directories
</p>
</div>
<p>Figure <a href="simoafinhorizonex.html#fig:KSLOutputDir">5.2</a> illustrates the output directory after running the pallet model. You should see the <code>kslOutput</code> directory and a directory called <code>Pallet_Processing_OutputDir.</code> Within the <code>Pallet_Processing_OutputDir</code> directory there are folders called <code>db</code> and <code>excel.</code> These folders are the default directories for holding database related files and Excel related output files. Within the <code>db</code> folder there is a file called <code>MainModel.db,</code> which is an SQLite database that was created to hold the KSL simulation results. Then, there are two files called <code>hwSummary.md</code> and <code>kslOutput.txt.</code> There are also three CSV files, two labeled with <code>_ExperimentReport.csv</code> and <code>_ReplicationReport.csv</code>, and one labeled with <code>_Trace.csv.</code> This labeling scheme is the default and is derived from the context of the item. The setting of the <code>autoCSVReports</code> option to true when creating the model is what caused the two files labeled with <code>_ExperimentReport.csv</code> and with <code>_ReplicationReport.csv</code> to be produced. The following table is from <code>MainModel_CSVReplicationReport.csv.</code></p>
<table class="table" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:unnamed-chunk-1">Table 4.3: </span><span id="tab:Ch5WRD">Table 5.1: </span>First 8 columns and 5 Rows of MainModel_CSVReplicationReport.csv.
</caption>
<thead>
<tr>
<th style="text-align:left;">
SimName
</th>
<th style="text-align:left;">
ModelName
</th>
<th style="text-align:left;">
ExpName
</th>
<th style="text-align:right;">
RepNum
</th>
<th style="text-align:left;">
ResponseType
</th>
<th style="text-align:right;">
ResponseID
</th>
<th style="text-align:left;">
ResponseName
</th>
<th style="text-align:left;">
Statistic.Name
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TWResponse
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
NumBusyWorkers
</td>
<td style="text-align:left;">
NumBusyWorkers
</td>
</tr>
<tr>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TWResponse
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
PalletQ:NumInQ
</td>
<td style="text-align:left;">
PalletQ:NumInQ
</td>
</tr>
<tr>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Response
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
PalletQ:TimeInQ
</td>
<td style="text-align:left;">
PalletQ:TimeInQ
</td>
</tr>
<tr>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TWResponse
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
Num Pallets at WC
</td>
<td style="text-align:left;">
Num Pallets at WC
</td>
</tr>
<tr>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Response
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
System Time
</td>
<td style="text-align:left;">
System Time
</td>
</tr>
<tr>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Response
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:left;">
Total Processing Time
</td>
<td style="text-align:left;">
Total Processing Time
</td>
</tr>
</tbody>
</table>
<p>As can be seen in the previous table, the replication report has information about the simulation, model, experiment, replication number, response type, and name. In total, the replication report has 19 columns and will contain every replication observation for every response variable in the model. Notice that the experiment name is the string (“Two Workers”) that was provided for the experiment’s name on line 4 of the main method.</p>
<p>The following table illustrates columns 8 through 12 of the file.</p>
<table class="table" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:unnamed-chunk-2">Table 4.5: </span><span id="tab:Ch5WRD">Table 5.1: </span>Next 5 columns and 5 Rows of MainModel_CSVReplicationReport.csv.
</caption>
<thead>
<tr>
<th style="text-align:left;">
Statistic.Name
</th>
<th style="text-align:right;">
Count
</th>
<th style="text-align:right;">
Average
</th>
<th style="text-align:right;">
Minimum
</th>
<th style="text-align:right;">
Maximum
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
NumBusyWorkers
</td>
<td style="text-align:right;">
79
</td>
<td style="text-align:right;">
1.889149
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
2.00000
</td>
</tr>
<tr>
<td style="text-align:left;">
PalletQ:NumInQ
</td>
<td style="text-align:right;">
150
</td>
<td style="text-align:right;">
3.288616
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
7.00000
</td>
</tr>
<tr>
<td style="text-align:left;">
PalletQ:TimeInQ
</td>
<td style="text-align:right;">
76
</td>
<td style="text-align:right;">
20.874804
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
41.56455
</td>
</tr>
<tr>
<td style="text-align:left;">
Num Pallets at WC
</td>
<td style="text-align:right;">
152
</td>
<td style="text-align:right;">
5.177765
</td>
<td style="text-align:right;">
0.00000
</td>
<td style="text-align:right;">
9.00000
</td>
</tr>
<tr>
<td style="text-align:left;">
System Time
</td>
<td style="text-align:right;">
76
</td>
<td style="text-align:right;">
32.866354
</td>
<td style="text-align:right;">
12.61226
</td>
<td style="text-align:right;">
52.43014
</td>
</tr>
<tr>
<td style="text-align:left;">
Total Processing Time
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
482.417201
</td>
<td style="text-align:right;">
482.41720
</td>
<td style="text-align:right;">
482.41720
</td>
</tr>
</tbody>
</table>
<p>This data can be easily processed by other of statistical programs such as R or opened directly within Excel. The following table is from <code>MainModel_CSVExperimentReport.csv</code> and represents the across replication summary statistics for the responses and counters in the model.</p>
<table class="table" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:unnamed-chunk-3">Table 4.7: </span><span id="tab:Ch5ARD">Table 5.2: </span>Columns 7-15 and 9 Rows of MainModel_CSVExperimentReport.csv.
</caption>
<thead>
<tr>
<th style="text-align:left;">
Statistic.Name
</th>
<th style="text-align:right;">
Count
</th>
<th style="text-align:right;">
Average
</th>
<th style="text-align:right;">
Standard.Deviation
</th>
<th style="text-align:right;">
Standard.Error
</th>
<th style="text-align:right;">
Half.width
</th>
<th style="text-align:right;">
Confidence.Level
</th>
<th style="text-align:right;">
Minimum
</th>
<th style="text-align:right;">
Maximum
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
NumBusyWorkers
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1.917471
</td>
<td style="text-align:right;">
0.0645251
</td>
<td style="text-align:right;">
0.0204046
</td>
<td style="text-align:right;">
0.0461584
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
1.772891
</td>
<td style="text-align:right;">
1.990707
</td>
</tr>
<tr>
<td style="text-align:left;">
PalletQ:NumInQ
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
7.397062
</td>
<td style="text-align:right;">
3.0502330
</td>
<td style="text-align:right;">
0.9645684
</td>
<td style="text-align:right;">
2.1820052
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
3.288616
</td>
<td style="text-align:right;">
11.554069
</td>
</tr>
<tr>
<td style="text-align:left;">
PalletQ:TimeInQ
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
44.659671
</td>
<td style="text-align:right;">
17.8325128
</td>
<td style="text-align:right;">
5.6391357
</td>
<td style="text-align:right;">
12.7566112
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
20.874804
</td>
<td style="text-align:right;">
68.107389
</td>
</tr>
<tr>
<td style="text-align:left;">
Num Pallets at WC
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
9.314533
</td>
<td style="text-align:right;">
3.0882382
</td>
<td style="text-align:right;">
0.9765867
</td>
<td style="text-align:right;">
2.2091925
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
5.177765
</td>
<td style="text-align:right;">
13.529605
</td>
</tr>
<tr>
<td style="text-align:left;">
System Time
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
56.320448
</td>
<td style="text-align:right;">
17.8133058
</td>
<td style="text-align:right;">
5.6330619
</td>
<td style="text-align:right;">
12.7428713
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
32.866354
</td>
<td style="text-align:right;">
79.752513
</td>
</tr>
<tr>
<td style="text-align:left;">
Total Processing Time
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
489.208300
</td>
<td style="text-align:right;">
22.8234125
</td>
<td style="text-align:right;">
7.2173967
</td>
<td style="text-align:right;">
16.3268857
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
461.544205
</td>
<td style="text-align:right;">
534.281150
</td>
</tr>
<tr>
<td style="text-align:left;">
P{total time &gt; 480 minutes}
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.600000
</td>
<td style="text-align:right;">
0.5163978
</td>
<td style="text-align:right;">
0.1632993
</td>
<td style="text-align:right;">
0.3694087
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
0.000000
</td>
<td style="text-align:right;">
1.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Num Processed
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
80.400000
</td>
<td style="text-align:right;">
3.5023801
</td>
<td style="text-align:right;">
1.1075498
</td>
<td style="text-align:right;">
2.5054518
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
75.000000
</td>
<td style="text-align:right;">
87.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
NumBusyWorkers
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
2.239980
</td>
<td style="text-align:right;">
0.1880656
</td>
<td style="text-align:right;">
0.0594716
</td>
<td style="text-align:right;">
0.1345340
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
1.864706
</td>
<td style="text-align:right;">
2.553376
</td>
</tr>
</tbody>
</table>
<p>As can be noted in the table, this is essentially the same information as reported in the output summary statistics. Again, these responses are automatically captured by simply setting the <code>autoCSVReports</code> option to true when creating the model.</p>
<p>A user may want to trace the values of specific response variables to files for post processing or display. This can be accomplished by using the <code>ResponseTrace</code> class. This code snippet, attaches an instance of the <code>ResponseTrace</code> class to the number in system response variable (<code>palletWorkCenter.numInSystem</code>) via the property that exposes the response to clients of the class. The user needs either an instance of the response variable or the exact name of the variable. This is one reason why the public property <code>numInSystem</code> was supplied.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb157-1"><a href="simoafinhorizonex.html#cb157-1" tabindex="-1"></a>    <span class="co">// demonstrate how to capture a trace of a response variable</span></span>
<span id="cb157-2"><a href="simoafinhorizonex.html#cb157-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">trace</span> <span class="op">=</span> ResponseTrace<span class="op">(</span>palletWorkCenter<span class="op">.</span>numInSystem<span class="op">)</span></span></code></pre></div>
<p>Attaching an instance of the <code>ResponseTrace</code> class to a response causes the trace to observe any value changes of the variable.</p>
<table class="table" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:unnamed-chunk-4">Table 4.9: </span><span id="tab:Ch5Trace">Table 5.3: </span>First 10 rows of Num Pallets at WC_Trace.csv.
</caption>
<thead>
<tr>
<th style="text-align:right;">
n
</th>
<th style="text-align:right;">
t
</th>
<th style="text-align:right;">
x(t)
</th>
<th style="text-align:right;">
t(n-1)
</th>
<th style="text-align:right;">
x(t(n-1))
</th>
<th style="text-align:right;">
w
</th>
<th style="text-align:right;">
r
</th>
<th style="text-align:right;">
nr
</th>
<th style="text-align:left;">
sim
</th>
<th style="text-align:left;">
model
</th>
<th style="text-align:left;">
exp
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.000000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.000000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
7.126878
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.000000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
7.1268782
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
19.739140
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
7.126878
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
12.6122616
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
26.281530
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
19.739140
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
6.5423903
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
32.059599
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
26.281530
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5.7780694
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
33.697050
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
32.059599
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1.6374507
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
34.220684
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
33.697050
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.5236344
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
38.888641
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
34.220684
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4.6679570
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
40.431432
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
38.888641
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.5427903
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
46.112274
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
40.431432
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5.6808427
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
46.776521
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
46.112274
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.6642467
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
Pallet Processing
</td>
<td style="text-align:left;">
MainModel
</td>
<td style="text-align:left;">
Two Workers
</td>
</tr>
</tbody>
</table>
<p>In the output, <span class="math inline">\(x(t)\)</span> is the value of the variable at time <span class="math inline">\(t\)</span>. Also, <span class="math inline">\(t_{n-1}\)</span> is the previous time and <span class="math inline">\(x(t_{n-1})\)</span> is the value of the variable at the previous time. This facilitates plotting of the variable values over time. The column <span class="math inline">\(r\)</span> represents the replication number and the column <span class="math inline">\(nr\)</span> represents the number of observations in the current replication. These files can become quite large. Thus, it is recommended that you take the trace off when not needed and limit your trace coverage.</p>
<p>Before discussing the KSL database, note that the previously mentioned MarkDown functionality is implemented with the following code:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb158-1"><a href="simoafinhorizonex.html#cb158-1" tabindex="-1"></a>    <span class="co">// show that report can be written to MarkDown as a table in the output directory</span></span>
<span id="cb158-2"><a href="simoafinhorizonex.html#cb158-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">out</span> <span class="op">=</span> model<span class="op">.</span>outputDirectory<span class="op">.</span>createPrintWriter<span class="op">(</span><span class="st">&quot;hwSummary.md&quot;</span><span class="op">)</span></span>
<span id="cb158-3"><a href="simoafinhorizonex.html#cb158-3" tabindex="-1"></a>    sr<span class="op">.</span>writeHalfWidthSummaryReportAsMarkDown<span class="op">(</span><span class="kw">out</span><span class="op">)</span></span></code></pre></div>
<p>This code uses the model’s output directory property to create a file based on a <code>PrintWriter</code> in the directory and then uses the <code>PrintWriter</code> instance via the <code>SimulationReporter</code> class. The KSL has a utility class found in the <code>ksl.io</code> package called <code>MarkDown</code> that facilitates simple construction of MarkDown text constructs, especially tables and rows within tables.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:SimualationReporter"></span>
<img src="figures2/ch5/SimulationReporter.png" alt="The Functionality of the SimulationReporter Class" width="50%" height="50%" />
<p class="caption">
Figure 5.3: The Functionality of the SimulationReporter Class
</p>
</div>
<p>As shown in Figure <a href="simoafinhorizonex.html#fig:SimualationReporter">5.3</a>, the <code>SimualationReporter</code> class has functionality to write simulation results in a number of formats. If you are a LaTeX user, you may want to try the functionality to create LaTeX tables. Besides reporting functionality, there is some limited ability to create copies of the underlying statistical objects. But, to directly get raw data, you should use the <code>ReplicationDataCollector</code> class or the KSL database.</p>
<p>The <code>ReplicationDataCollector</code> class and the <code>ExperimentDataCollector</code> class (not discussed here) are observers that can be attached to the model that will hold replication data and across experiment data, respectively. The collection can be limited to specific responses or all responses. The classes will hold the data observed from the simulation in memory (via arrays). These arrays can be accessed to perform post processing within code as needed.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb159-1"><a href="simoafinhorizonex.html#cb159-1" tabindex="-1"></a>    <span class="co">// demonstrate capture of replication data for specific response variables</span></span>
<span id="cb159-2"><a href="simoafinhorizonex.html#cb159-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">repData</span> <span class="op">=</span> ReplicationDataCollector<span class="op">(</span>model<span class="op">)</span></span>
<span id="cb159-3"><a href="simoafinhorizonex.html#cb159-3" tabindex="-1"></a>    repData<span class="op">.</span>addResponse<span class="op">(</span>palletWorkCenter<span class="op">.</span>totalProcessingTime<span class="op">)</span></span>
<span id="cb159-4"><a href="simoafinhorizonex.html#cb159-4" tabindex="-1"></a>    repData<span class="op">.</span>addResponse<span class="op">(</span>palletWorkCenter<span class="op">.</span>probOfOverTime<span class="op">)</span></span></code></pre></div>
<p>This code creates a <code>ReplicationDataCollector</code> instance and configures the instance to collect the replication data for the total processing time and probability of over time responses. A simple output of the first 10 values of the data arrays is shown here.</p>
<pre><code>   Total Processing Time P{total time &gt; 480 minutes}
 0            482.417201                         1.0
 1            461.544205                         0.0
 2            521.417293                         1.0
 3            476.025297                         0.0
 4            534.281150                         1.0
 5            485.735690                         1.0
 6            477.468018                         0.0
 7            482.557886                         1.0
 8            499.628817                         1.0
 9            471.007443                         0.0</code></pre>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ReplicationDataCollector"></span>
<img src="figures2/ch5/ReplicationDataCollector.png" alt="The Functionality of the ReplicationDataCollector Class" width="50%" height="50%" />
<p class="caption">
Figure 5.4: The Functionality of the ReplicationDataCollector Class
</p>
</div>
<p>The most notable functionality shown in Figure <a href="simoafinhorizonex.html#fig:ReplicationDataCollector">5.4</a> is the <code>allReplicationDataAsMap</code> property. The map is indexed by the name of the response as the key and the replication data as a <code>DoubleArray.</code> Thus, any response data that you need can be readily access within memory. The <code>ExperimentDataCollector</code> class (not discussed here) has similar functionality but will capture the data across different experiments. Experiment functionality will be discussed in a later chapter.</p>
<p>Now, let’s discuss the most useful KSL functionality for capturing simulation data, the <code>KSLDatabase</code> class. The following code creates an observer of the model in the form of a <code>KSLDatabaseObserver.</code> This class can be attached to a model and then will collect and insert all response and counter related statistical quantities into a well-structured database. The default database is an SQLite database but other database engines will also work. There is built in functionality for creating Derby and PostgreSQL based databases.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:KSLDatabaseClass"></span>
<img src="figures2/ch5/KSLDatabaseClass.png" alt="The Functionality of the KSLDatabase Class" width="55%" height="55%" />
<p class="caption">
Figure 5.5: The Functionality of the KSLDatabase Class
</p>
</div>
<p>Figure <a href="simoafinhorizonex.html#fig:KSLDatabaseClass">5.5</a> presents the functionality of the <code>KSLDatabase</code> class. This class is built on top of functionality within the KSL <code>ksl.utilities.io.dbutil</code> package for creating databases via the <code>DatabaseIfc</code> interface and the <code>Database</code> class. Here our focus is on how the data from a KSL simulation is captured and stored. The capturing occurs because the user attaches an instance of a <code>KSLDatabaseObserver</code> to a model as shown in this code snippet.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb161-1"><a href="simoafinhorizonex.html#cb161-1" tabindex="-1"></a>    <span class="co">// demonstrate capturing data to database with an observer</span></span>
<span id="cb161-2"><a href="simoafinhorizonex.html#cb161-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">kslDatabaseObserver</span> <span class="op">=</span> KSLDatabaseObserver<span class="op">(</span>model<span class="op">)</span></span></code></pre></div>
<p>This code creates an observer that accesses the simulation data after each replication and stores it within a database. The database will be stored within the <code>dbDir</code> folder of the simulation model’s output directory. Note that if you execute <strong>any</strong> simulation that has the <strong>same name</strong>
as a previously executed simulation then the previous database will be deleted and recreated. This might cause you to lose previous simulation results.
This behavior is the default because generally, when you re-run your
simulation you want the results of that run to be written into the
database. However, it is possible to not overwrite the database and store additional experiments within the same database. To do this, get an instance of an existing KSL database before creating the <code>KSLDatabaseObserver.</code> In addition, by changing the name of the experiment associated with the model, then the results from different experiments can be stored in the <em>same</em> database. This approach is useful when comparing results across simulation configurations.</p>
<p>The database will have the table structure shown in Figure <a href="simoafinhorizonex.html#fig:KSLDatabaseTables">5.6</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:KSLDatabaseTables"></span>
<img src="figures2/ch5/KSLDatabaseTables.png" alt="KSL Database Tables" width="100%" height="100%" />
<p class="caption">
Figure 5.6: KSL Database Tables
</p>
</div>
<p>The KSL database consists of six tables that capture information and
data concerning the execution of a simulation and resulting statistical
quantities. Figure <a href="simoafinhorizonex.html#fig:KSLDatabaseTables">5.6</a> presents the database diagram for the <code>KSL_DB</code>
database schema.</p>
<ul>
<li><code>SIMULATION_RUN</code> – contains information about the simulation runs
that are contained within the database. Such information as the name
of the simulation, model, and experiment are captured. In addition,
time stamps of the start and end of the experiment, the number of
replications, the replication length, the length of the warm up
period and options concerning stream control.</li>
<li><code>MODEL_ELEMENT</code> contains information about the instances of
<code>ModelElement</code> that were used within the execution of the simulation
run. A model element has an identifier that is considered unique to
the simulation run. That is, the simulation run ID and the model
element ID are the primary key of this table. The name of the model
element, its class type, the name and ID of its parent element are
also held for each entity in <code>MODEL_ELEMENT.</code> The parent/child
relationship permits an understanding of the model element hierarchy
that was present when the simulation executed.</li>
<li><code>WITHIN_REP_STAT</code> contains information about within replication
statistical quantities associated with <code>TWResponse</code> and
<code>Response</code> instances from each replication of a set of replications of
the simulation. The name, count, average, minimum, maximum, weighted
sum, sum of weights, weighted sum of squares, last observed value,
and last observed weight are all captured.</li>
<li><code>WITHIN_REP_COUNTER_STAT</code> contains information about with
replication observations associated with Counters used within the
model. The name of the counter and the its value at the end of the
replication are captured for each replication of a set of
replications of the simulation.</li>
<li><code>ACROSS_REP_STAT</code> contains information about the across replication
statistics associated with <code>TWResponse,</code> <code>Response,</code> and
<code>Counter</code> instances within the model. Statistical summary information across
the replications is automatically stored.</li>
<li><code>BATCH_STAT</code> contains information about the batch statistics
associated with <code>TWResponse,</code> <code>Response,</code> and
<code>Counter</code> instances within the model. Statistical summary information across the batches is
automatically stored.</li>
<li><code>HISTOGRAM</code> contains the results from <code>HistogramResponse</code> instances when they are used within a model.</li>
<li><code>FREQUENCY</code> contains the results from <code>IntegerFrequencyResponse</code> instances when they are used within a model.</li>
<li><code>EXPERIMENT</code> holds information across experimental runs. This is illustrate in Section <a href="ch5Scenarios.html#ch5Scenarios">5.8</a> and Section <a href="appExpDesign.html#appExpDesign">D.9</a> of Appendix <a href="appUtilities.html#appUtilities">D</a>.</li>
<li><code>CONTROL</code> holds the controls associated with a model as discussed in Section <a href="ch5Scenarios.html#controlAntns">5.8.1</a>.</li>
<li><code>RV_PARAMETER</code> holds the random variables and their parameters as discussed in Section <a href="ch5Scenarios.html#rvParameters">5.8.2</a>.</li>
</ul>
<p>In addition to the base tables, the KSL database contains views of its
underlying tables to facilitate simpler data extraction. Figure <a href="simoafinhorizonex.html#fig:KSLDatabaseViews">5.7</a>
presents the pre-defined views for the KSL database. The views, in
essence, reduce the amount of information to the most likely used sets
of data for the across replication, batch, and within replication
captured statistical quantities. In addition, the
<code>PW_DIFF_WITHIN_REP_VIEW</code> holds all pairwise differences for every
response variable, time weighted variable, or counter from across all
experiments within the database. This view reports (<span class="math inline">\(A - B\)</span>) for every
within replication ending average, where <span class="math inline">\(A\)</span> is a simulation run that has
higher simulation ID than <span class="math inline">\(B\)</span> and they represent an individual performance
measure. From this view, pairwise statistics can be computed across all
replications. Since simulation IDs are assigned sequentially within the database, the lower the ID the earlier the simulation was executed.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:KSLDatabaseViews"></span>
<img src="figures2/ch5/KSLDatabaseViews.png" alt="KSL Database Views" width="80%" height="80%" />
<p class="caption">
Figure 5.7: KSL Database Views
</p>
</div>
<p>The information within the <code>SIMULATION_RUN,</code> <code>MODEL_ELEMENT,</code>
<code>WITHIN_REP_STAT,</code> and <code>WITHIN_REP_COUNTER_STAT</code> tables are written to the
database at the end of each replication. The <code>ACROSS_REP_STAT</code> and
<code>BATCH_STAT</code> tables are filled after the entire experiment is completed.
Even though the <code>ACROSS_REP_STAT</code> table could be constructed directly
from the data captured within the tables holding with replication data,
this is not done. Instead, the across replication statistics are
directly written from the simulation after all replications of an
experiment are completed.</p>
<p>As an illustration consider running a simulation multiple times within
the same program execution but with different parameters. The following
code illustrates how this might be achieved. Please note the following code at the bottom of the main execution routine.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb162-1"><a href="simoafinhorizonex.html#cb162-1" tabindex="-1"></a>    model<span class="op">.</span>experimentName <span class="op">=</span> <span class="st">&quot;Three Workers&quot;</span></span>
<span id="cb162-2"><a href="simoafinhorizonex.html#cb162-2" tabindex="-1"></a>    palletWorkCenter<span class="op">.</span>numWorkers <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb162-3"><a href="simoafinhorizonex.html#cb162-3" tabindex="-1"></a>    model<span class="op">.</span>simulate<span class="op">()</span></span>
<span id="cb162-4"><a href="simoafinhorizonex.html#cb162-4" tabindex="-1"></a></span>
<span id="cb162-5"><a href="simoafinhorizonex.html#cb162-5" tabindex="-1"></a>    <span class="kw">out</span> <span class="op">=</span> model<span class="op">.</span>outputDirectory<span class="op">.</span>createPrintWriter<span class="op">(</span><span class="st">&quot;AcrossExperimentResults.md&quot;</span><span class="op">)</span></span>
<span id="cb162-6"><a href="simoafinhorizonex.html#cb162-6" tabindex="-1"></a>    kslDatabaseObserver<span class="op">.</span>db<span class="op">.</span>writeTableAsMarkdown<span class="op">(</span><span class="st">&quot;ACROSS_REP_VIEW&quot;</span><span class="op">,</span> <span class="kw">out</span><span class="op">)</span></span></code></pre></div>
<p>In this code, the experiment name has been updated to “Three Workers” and the number of workers property changed. The model was simulated again. The underlying KSL database was accessed to write out the across replication view statistics. As shown in the following table, the database retained the data from the first execution and added the data from the second execution. This only occurred because the name of the experiment was changed between calls to the <code>simulate()</code> method. In the results, we see that adding a worker causes the chance of overtime to become zero.</p>
<p><strong>Table: ACROSS_REP_VIEW</strong></p>
<table>
<thead>
<tr class="header">
<th align="center">SIM_ID</th>
<th align="left">EXP_NAME</th>
<th align="left">STAT_NAME</th>
<th align="center">COUNT</th>
<th align="center">AVERAGE</th>
<th align="center">STD_DEV</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="left">Two Workers</td>
<td align="left">Num Pallets at WC</td>
<td align="center">10.0</td>
<td align="center">9.3145</td>
<td align="center">3.0882</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="left">Three Workers</td>
<td align="left">Num Pallets at WC</td>
<td align="center">10.0</td>
<td align="center">3.2083</td>
<td align="center">0.7035</td>
</tr>
<tr class="odd">
<td align="center">1</td>
<td align="left">Two Workers</td>
<td align="left">Num Processed</td>
<td align="center">10.0</td>
<td align="center">80.4</td>
<td align="center">3.5023</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="left">Three Workers</td>
<td align="left">Num Processed</td>
<td align="center">10.0</td>
<td align="center">79.1</td>
<td align="center">4.1217</td>
</tr>
<tr class="odd">
<td align="center">1</td>
<td align="left">Two Workers</td>
<td align="left">NumBusyWorkers</td>
<td align="center">10.0</td>
<td align="center">1.9174</td>
<td align="center">0.0645</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="left">Three Workers</td>
<td align="left">NumBusyWorkers</td>
<td align="center">10.0</td>
<td align="center">2.2399</td>
<td align="center">0.1881</td>
</tr>
<tr class="odd">
<td align="center">1</td>
<td align="left">Two Workers</td>
<td align="left">PalletQ:NumInQ</td>
<td align="center">10.0</td>
<td align="center">7.3971</td>
<td align="center">3.0502</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="left">Three Workers</td>
<td align="left">PalletQ:NumInQ</td>
<td align="center">10.0</td>
<td align="center">0.9683</td>
<td align="center">0.5725</td>
</tr>
<tr class="odd">
<td align="center">1</td>
<td align="left">Two Workers</td>
<td align="left">PalletQ:TimeInQ</td>
<td align="center">10.0</td>
<td align="center">44.6596</td>
<td align="center">17.8325</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="left">Three Workers</td>
<td align="left">PalletQ:TimeInQ</td>
<td align="center">10.0</td>
<td align="center">4.9261</td>
<td align="center">2.6231</td>
</tr>
<tr class="odd">
<td align="center">1</td>
<td align="left">Two Workers</td>
<td align="left">P{total time &gt; 480 minutes}</td>
<td align="center">10.0</td>
<td align="center">0.6</td>
<td align="center">0.5163</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="left">Three Workers</td>
<td align="left">P{total time &gt; 480 minutes}</td>
<td align="center">10.0</td>
<td align="center">0.0</td>
<td align="center">0.0</td>
</tr>
<tr class="odd">
<td align="center">1</td>
<td align="left">Two Workers</td>
<td align="left">System Time</td>
<td align="center">10.0</td>
<td align="center">56.32044792861602</td>
<td align="center">17.8133</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="left">Three Workers</td>
<td align="left">System Time</td>
<td align="center">10.0</td>
<td align="center">16.5628</td>
<td align="center">2.6346</td>
</tr>
<tr class="odd">
<td align="center">1</td>
<td align="left">Two Workers</td>
<td align="left">Total Processing Time</td>
<td align="center">10.0</td>
<td align="center">489.2083</td>
<td align="center">22.8234</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="left">Three Workers</td>
<td align="left">Total Processing Time</td>
<td align="center">10.0</td>
<td align="center">412.6305</td>
<td align="center">28.1443</td>
</tr>
</tbody>
</table>
<p>A <code>KSLDatabase</code> instance is constructed to hold the data from any KSL
simulation. As such, a simulation execution can have many observers and
thus could have any number of <code>KSLDatabase</code> instances that collect data
from the execution. The most common case for multiple databases would be
the use of an embedded database as well as a database that is stored on
a <em>remote</em> database server.</p>
<p>Once you have a database that contains the schema to hold KSL based
data, you can continue to write results to that database as much as you
want. If your database is on a server, then you can easily collect data
from different simulation executions that occur on different computers
by referencing the database on the server. Therefore, if you are running
multiple simulation runs in parallel on different computers or in the
“cloud”, you should be able to capture the data from the simulation runs
into one database.</p>
</div>
<div id="additional-remarks" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> Additional Remarks<a href="simoafinhorizonex.html#additional-remarks" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The functionality of the KSL database depends upon how <code>Response,</code>
<code>TWResponse,</code> and <code>Counter</code> instances are named within a KSL model. A KSL
model is organized into a tree of <code>ModelElement</code> instances with the
instance of the <code>Model</code> at the top of the tree. The <code>Model</code> instance for the
simulation model contains instances of <code>ModelElement,</code> which are referred
to as children of the parent model element. Each model element instance
can have zero or more children, and those children can have children,
etc. Each <code>ModelElement</code> instance must have a unique integer ID and a
unique name. The unique integer ID is automatically provided when a
<code>ModelElement</code> instance is created. The user can supply a name for a
<code>ModelElement</code> instance when creating the instance. The name must be
unique within the simulation model.</p>
<p>A recommended practice to ensure that model element names are unique is
to use the name of the parent model element as part of the name. If the
parent name is unique, then all children names will be unique relative
to any other model elements. For example, in the following code
<code>name</code> references the name of the current model element (an instance
of <code>Queue</code>), which is serving as the parent for the children
model element (responses) declared within the constructor body. Unfortunately,
this approach may lead to very long names if the model element hierarchy is deep.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb163-1"><a href="simoafinhorizonex.html#cb163-1" tabindex="-1"></a>    <span class="kw">protected</span> <span class="kw">val</span> <span class="va">myNumInQ</span><span class="op">:</span> TWResponse <span class="op">=</span> TWResponse<span class="op">(</span><span class="kw">this</span><span class="op">,</span> name <span class="op">=</span> <span class="st">&quot;</span><span class="ss">${</span>name<span class="ss">}</span><span class="st">:NumInQ&quot;</span><span class="op">)</span></span>
<span id="cb163-2"><a href="simoafinhorizonex.html#cb163-2" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">val</span> <span class="va">numInQ</span> <span class="op">:</span> TWResponseCIfc</span>
<span id="cb163-3"><a href="simoafinhorizonex.html#cb163-3" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> myNumInQ</span>
<span id="cb163-4"><a href="simoafinhorizonex.html#cb163-4" tabindex="-1"></a></span>
<span id="cb163-5"><a href="simoafinhorizonex.html#cb163-5" tabindex="-1"></a>    <span class="kw">protected</span> <span class="kw">val</span> <span class="va">myTimeInQ</span><span class="op">:</span> Response <span class="op">=</span> Response<span class="op">(</span><span class="kw">this</span><span class="op">,</span> name <span class="op">=</span> <span class="st">&quot;</span><span class="ss">${</span>name<span class="ss">}</span><span class="st">:TimeInQ&quot;</span><span class="op">)</span></span>
<span id="cb163-6"><a href="simoafinhorizonex.html#cb163-6" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">val</span> <span class="va">timeInQ</span> <span class="op">:</span> ResponseCIfc</span>
<span id="cb163-7"><a href="simoafinhorizonex.html#cb163-7" tabindex="-1"></a>        <span class="kw">get</span><span class="op">()</span> <span class="op">=</span> myTimeInQ</span></code></pre></div>
<p>The name supplied to the <code>TWResponse</code> and <code>Response</code> constructors
will cause the underlying statistic to have the indicated names. The
response’s name cannot be changed once it is set. The statistic name is
important for referencing statistical data within the KSL database.</p>
<p>One complicating factor involves using the KSL database to analyze the
results from multiple simulation models. In order to more readily
compare the results of the same performance measure between two
different simulation models, the user should try to ensure that the
names of the performance measures are the same. If the above recommended
naming practice is used, the names of the statistics may depend on the
order in which the model element instances are created and added to the
model element hierarchy. If the model structure never changes between
different simulation models then this will not present an issue;
however, if the structure of the model changes between two different
simulation models (which can be the case), the statistic names may
be affected. If this issue causes problems, you can always name the
desired output responses or counters exactly what you want it to be and
use the same name in other simulation models, as long as you ensure unique names.</p>
<p>Since the model element ID is assigned automatically based on the number
of model elements created within the model, the model element numbers
between two instances of the same simulation model will most likely be
different. Thus, there is no guarantee that the IDs will be the same and
using the model element ID as part of queries on the KSL database will
have to take this into account. You can assume that the name of the
underlying statistic is the same as its associated model element and
since it is user definable, it is better suited for queries based on the
KSL database.</p>
</div>
<div id="querying-the-ksl-database" class="section level3 hasAnchor" number="5.4.3">
<h3><span class="header-section-number">5.4.3</span> Querying the KSL Database<a href="simoafinhorizonex.html#querying-the-ksl-database" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The KSL database is a database and thus it can be queried from within
Kotlin or from other programs. If you have an instance of the <code>KSLDatabase,</code>
you can extract information about the simulation run using the methods
of the <code>KSLDatabase</code> class. Since the underlying data is stored in a
relational database, SQL queries can be used on the database. The
discussion of writing and executing SQL queries is beyond
the scope of this text. To facilitate output when using the KSL, the KSL
has a few methods to be aware of, including:</p>
<ul>
<li><code>exportAllTablesAsCSV()</code> – writes all the tables to separate CSV files</li>
<li><code>exportDbToExcelWorkbook()</code> – writes all the tables and views to a single Excel workbook</li>
<li><code>multipleComparisonAnalyzerFor(set of experiment name, response name)</code> – returns an instance of the <code>MultipleComparisonAnalyzer</code> class in order to perform a multiple comparison analysis of a set of experiments on a specific response name.</li>
<li>a number of properties that return Kotlin <a href="https://kotlin.github.io/dataframe/overview.html">data frames</a> of the underlying database tables.</li>
</ul>
<p>The data frame functionality was illustrated in the following code from the main execution method:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode kt"><code class="sourceCode kotlin"><span id="cb164-1"><a href="simoafinhorizonex.html#cb164-1" tabindex="-1"></a>    <span class="co">// use the database to create a Kotlin DataFrame</span></span>
<span id="cb164-2"><a href="simoafinhorizonex.html#cb164-2" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">dataFrame</span> <span class="op">=</span> kslDatabaseObserver<span class="op">.</span>db<span class="op">.</span>acrossReplicationViewStatistics</span>
<span id="cb164-3"><a href="simoafinhorizonex.html#cb164-3" tabindex="-1"></a>    println<span class="op">(</span>dataFrame<span class="op">)</span></span></code></pre></div>
<div class="infobox note">
<p><strong>NOTE!</strong>
The Kotlin <a href="https://kotlin.github.io/dataframe/overview.html">data frames</a> library has excellent capabilities for processing data within a tablular format. The KSL has additional functionality for processing files via its utilities as described in Section <a href="appDCSVEtc.html#appDCSVEtc">D.4</a> of Appendix <a href="appUtilities.html#appUtilities">D</a>. Also, you might want to explore the extensions for data frames described in Section <a href="dfUtil.html#dfUtil">D.5</a> of Appendix <a href="appUtilities.html#appUtilities">D</a>.</p>
</div>
<p>Once you have the data frame you can employ whatever data wrangling and extraction methods that you need. Finally, because the KSL database is a <em>database</em>, it can be accessed via R or other software programs such as <a href="https://www.jetbrains.com/datagrip/">IntelliJ’s DataGrip</a> or <a href="https://dbeaver.io/">DBeaver</a> and additional analysis performed on the KSL simulation data.</p>
<p>Based on the discussion in this section, the KSL has very useful functionality for working with the data generated from your simulation models.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="simoafinhorizon.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="simoaseqsampling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
